var AmCharts,IndexGraph,StockGraph;AmCharts||(AmCharts={themes:{},maps:{},inheriting:{},charts:[],onReadyArray:[],useUTC:!1,updateRate:40,uid:0,lang:{},translations:{},mapTranslations:{},windows:{},initHandlers:[]});AmCharts.Class=function(n){var t=function(){arguments[0]!==AmCharts.inheriting&&(this.events={},this.construct.apply(this,arguments))},i;n.inherits?(t.prototype=new n.inherits(AmCharts.inheriting),t.base=n.inherits.prototype,delete n.inherits):(t.prototype.createEvents=function(){for(var n=0,t=arguments.length;n<t;n++)this.events[arguments[n]]=[]},t.prototype.listenTo=function(n,t,i){this.removeListener(n,t,i);n.events[t].push({handler:i,scope:this})},t.prototype.addListener=function(n,t,i){this.removeListener(this,n,t);this.events[n].push({handler:t,scope:i})},t.prototype.removeListener=function(n,t,i){if(n&&n.events)for(n=n.events[t],t=n.length-1;0<=t;t--)n[t].handler===i&&n.splice(t,1)},t.prototype.fire=function(n,t){for(var r,u=this.events[n],i=0,f=u.length;i<f;i++)r=u[i],r.handler.call(r.scope,t)});for(i in n)t.prototype[i]=n[i];return t};AmCharts.addChart=function(n){AmCharts.charts.push(n)};AmCharts.removeChart=function(n){for(var i=AmCharts.charts,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)};AmCharts.isModern=!0;AmCharts.getIEVersion=function(){var i=0,n,t;return"Microsoft Internet Explorer"==navigator.appName?(n=navigator.userAgent,t=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!=t.exec(n)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(n=navigator.userAgent,t=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=t.exec(n)&&(i=parseFloat(RegExp.$1))),i};AmCharts.applyLang=function(n,t){var i=AmCharts.translations;t.dayNames=AmCharts.dayNames;t.shortDayNames=AmCharts.shortDayNames;t.monthNames=AmCharts.monthNames;t.shortMonthNames=AmCharts.shortMonthNames;i&&(i=i[n])&&(AmCharts.lang=i,i.monthNames&&(t.dayNames=i.dayNames,t.shortDayNames=i.shortDayNames,t.monthNames=i.monthNames,t.shortMonthNames=i.shortMonthNames))};AmCharts.IEversion=AmCharts.getIEVersion();9>AmCharts.IEversion&&0<AmCharts.IEversion&&(AmCharts.isModern=!1,AmCharts.isIE=!0);AmCharts.dx=0;AmCharts.dy=0;(document.addEventListener||window.opera)&&(AmCharts.isNN=!0,AmCharts.isIE=!1,AmCharts.dx=.5,AmCharts.dy=.5);document.attachEvent&&(AmCharts.isNN=!1,AmCharts.isIE=!0,AmCharts.isModern||(AmCharts.dx=0,AmCharts.dy=0));window.chrome&&(AmCharts.chrome=!0);AmCharts.handleResize=function(){for(var t,i=AmCharts.charts,n=0;n<i.length;n++)t=i[n],t&&t.div&&t.handleResize()};AmCharts.handleMouseUp=function(n){for(var r,i=AmCharts.charts,t=0;t<i.length;t++)r=i[t],r&&r.handleReleaseOutside(n)};AmCharts.handleMouseMove=function(n){for(var r,i=AmCharts.charts,t=0;t<i.length;t++)r=i[t],r&&r.handleMouseMove(n)};AmCharts.handleWheel=function(n){for(var t,r=AmCharts.charts,i=0;i<r.length;i++)if(t=r[i],t&&t.mouseIsOver){t.mouseWheelScrollEnabled||t.mouseWheelZoomEnabled?t.handleWheel(n):n.stopPropagation&&n.stopPropagation();break}};AmCharts.resetMouseOver=function(){for(var i,t=AmCharts.charts,n=0;n<t.length;n++)i=t[n],i&&(i.mouseIsOver=!1)};AmCharts.ready=function(n){AmCharts.onReadyArray.push(n)};AmCharts.handleLoad=function(){var t,n,i;for(AmCharts.isReady=!0,t=AmCharts.onReadyArray,n=0;n<t.length;n++)i=t[n],isNaN(AmCharts.processDelay)?i():setTimeout(i,AmCharts.processDelay*n)};AmCharts.addInitHandler=function(n,t){AmCharts.initHandlers.push({method:n,types:t})};AmCharts.callInitHandler=function(n){var r=AmCharts.initHandlers,i,t;if(AmCharts.initHandlers)for(i=0;i<r.length;i++)t=r[i],t.types?-1!=t.types.indexOf(n.type)&&t.method(n):t.method(n)};AmCharts.getUniqueId=function(){return AmCharts.uid++,"AmChartsEl-"+AmCharts.uid};AmCharts.isNN&&(document.addEventListener("mousemove",AmCharts.handleMouseMove,!0),window.addEventListener("resize",AmCharts.handleResize,!0),document.addEventListener("mouseup",AmCharts.handleMouseUp,!0),window.addEventListener("load",AmCharts.handleLoad,!0),window.addEventListener("DOMMouseScroll",AmCharts.handleWheel,!0),document.addEventListener("mousewheel",AmCharts.handleWheel,!0));AmCharts.isIE&&(document.attachEvent("onmousemove",AmCharts.handleMouseMove),window.attachEvent("onresize",AmCharts.handleResize),document.attachEvent("onmouseup",AmCharts.handleMouseUp),window.attachEvent("onload",AmCharts.handleLoad));AmCharts.clear=function(){var t=AmCharts.charts,n;if(t)for(n=0;n<t.length;n++)t[n].clear();AmCharts.charts=null;AmCharts.isNN&&(document.removeEventListener("mousemove",AmCharts.handleMouseMove,!0),window.removeEventListener("resize",AmCharts.handleResize,!0),document.removeEventListener("mouseup",AmCharts.handleMouseUp,!0),window.removeEventListener("load",AmCharts.handleLoad,!0),window.removeEventListener("DOMMouseScroll",AmCharts.handleWheel,!0),document.removeEventListener("mousewheel",AmCharts.handleWheel,!0));AmCharts.isIE&&(document.detachEvent("onmousemove",AmCharts.handleMouseMove),window.detachEvent("onresize",AmCharts.handleResize),document.detachEvent("onmouseup",AmCharts.handleMouseUp),window.detachEvent("onload",AmCharts.handleLoad))};AmCharts.makeChart=function(n,t,i){var f=t.type,u=t.theme,r;AmCharts.isString(u)&&(u=AmCharts.themes[u],t.theme=u);switch(f){case"serial":r=new AmCharts.AmSerialChart(u);break;case"xy":r=new AmCharts.AmXYChart(u);break;case"pie":r=new AmCharts.AmPieChart(u);break;case"radar":r=new AmCharts.AmRadarChart(u);break;case"gauge":r=new AmCharts.AmAngularGauge(u);break;case"funnel":r=new AmCharts.AmFunnelChart(u);break;case"map":r=new AmCharts.AmMap(u);break;case"stock":r=new AmCharts.AmStockChart(u)}return AmCharts.extend(r,t),AmCharts.isReady?isNaN(i)?r.write(n):setTimeout(function(){AmCharts.realWrite(r,n)},i):AmCharts.ready(function(){isNaN(i)?r.write(n):setTimeout(function(){AmCharts.realWrite(r,n)},i)}),r};AmCharts.realWrite=function(n,t){n.write(t)};AmCharts.toBoolean=function(n,t){if(void 0===n)return t;switch(String(n).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(n)}};AmCharts.removeFromArray=function(n,t){var i;if(void 0!=t&&void 0!=n)for(i=n.length-1;0<=i;i--)n[i]==t&&n.splice(i,1)};AmCharts.getDecimals=function(n){var t=0;return isNaN(n)||(n=String(n),-1!=n.indexOf("e-")?t=Number(n.split("-")[1]):-1!=n.indexOf(".")&&(t=n.split(".")[1].length)),t};AmCharts.wrappedText=function(n,t,i,r,u,f,e,o,s){var c=AmCharts.text(n,t,i,r,u,f,e),v="\n",l,a,h;if(AmCharts.isModern||(v="<br>"),10<s)return c;if(c){if(l=c.getBBox(),l.width>o){for(l=Math.ceil(l.width/o),c.remove(),c=[],h=0;-1<(index=t.indexOf(" ",h));)c.push(index),h=index+1;for(Math.round(t.length/2),h=0;h<c.length;h+=Math.ceil(c.length/l))a=c[h],t=t.substr(0,a)+v+t.substr(a+1);if(isNaN(a)){if(0==s)for(h=1;h<l;h++)a=Math.round(t.length/l*h),t=t.substr(0,a)+v+t.substr(a);return AmCharts.text(n,t,i,r,u,f,e)}return AmCharts.wrappedText(n,t,i,r,u,f,e,o,s+1)}return c}};AmCharts.getStyle=function(n,t){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(n,"").getPropertyValue(t):n.currentStyle&&(t=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),i=n.currentStyle[t]),i};AmCharts.removePx=function(n){if(void 0!=n)return Number(n.substring(0,n.length-2))};AmCharts.getURL=function(n,t){if(n)if("_self"!=t&&t)if("_top"==t&&window.top)window.top.location.href=n;else if("_parent"==t&&window.parent)window.parent.location.href=n;else if("_blank"==t)window.open(n);else{var i=document.getElementsByName(t)[0];i?i.src=n:(i=AmCharts.windows[t])?i.opener&&!i.opener.closed?i.location.href=n:AmCharts.windows[t]=window.open(n):AmCharts.windows[t]=window.open(n)}else window.location.href=n};AmCharts.ifArray=function(n){return n&&0<n.length?!0:!1};AmCharts.callMethod=function(n,t){for(var i,e,u,f,r=0;r<t.length;r++)if(i=t[r],i&&(i[n]&&i[n](),e=i.length,0<e))for(u=0;u<e;u++)f=i[u],f&&f[n]&&f[n]()};AmCharts.toNumber=function(n){return"number"==typeof n?n:Number(String(n).replace(/[^0-9\-.]+/g,""))};AmCharts.toColor=function(n){var t,i;if(""!==n&&void 0!==n)if(-1!=n.indexOf(","))for(n=n.split(","),t=0;t<n.length;t++)i=n[t].substring(n[t].length-6,n[t].length),n[t]="#"+i;else n=n.substring(n.length-6,n.length),n="#"+n;return n};AmCharts.toCoordinate=function(n,t,i){var r;return void 0!==n&&(n=String(n),i&&i<t&&(t=i),r=Number(n),-1!=n.indexOf("!")&&(r=t-Number(n.substr(1))),-1!=n.indexOf("%")&&(r=t*Number(n.substr(0,n.length-1))/100)),r};AmCharts.fitToBounds=function(n,t,i){return n<t&&(n=t),n>i&&(n=i),n};AmCharts.isDefined=function(n){return void 0===n?!1:!0};AmCharts.stripNumbers=function(n){return n.replace(/[0-9]+/g,"")};AmCharts.roundTo=function(n,t){if(0>t)return n;var i=Math.pow(10,t);return Math.round(n*i)/i};AmCharts.toFixed=function(n,t){var i=String(Math.round(n*Math.pow(10,t))),r,u;if(0<t){if(r=i.length,r<t)for(u=0;u<t-r;u++)i="0"+i;return r=i.substring(0,i.length-t),""===r&&(r=0),r+"."+i.substring(i.length-t,i.length)}return String(i)};AmCharts.formatDuration=function(n,t,i,r,u,f){var e=AmCharts.intervals,s=f.decimalSeparator,o;if(n>=e[t].contains)return o=n-Math.floor(n/e[t].contains)*e[t].contains,"ss"==t&&(o=AmCharts.formatNumber(o,f),1==o.split(s)[0].length&&(o="0"+o)),("mm"==t||"hh"==t)&&10>o&&(o="0"+o),i=o+""+r[t]+""+i,n=Math.floor(n/e[t].contains),t=e[t].nextInterval,AmCharts.formatDuration(n,t,i,r,u,f);if("ss"==t&&(n=AmCharts.formatNumber(n,f),1==n.split(s)[0].length&&(n="0"+n)),("mm"==t||"hh"==t)&&10>n&&(n="0"+n),i=n+""+r[t]+""+i,e[u].count>e[t].count)for(n=e[t].count;n<e[u].count;n++)t=e[t].nextInterval,"ss"==t||"mm"==t||"hh"==t?i="00"+r[t]+""+i:"DD"==t&&(i="0"+r[t]+""+i);return":"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i};AmCharts.formatNumber=function(n,t,i,r,u){var h,c,f,s,e,o;if(n=AmCharts.roundTo(n,t.precision),isNaN(i)&&(i=t.precision),h=t.decimalSeparator,t=t.thousandsSeparator,c=0>n?"-":"",n=Math.abs(n),s=String(n),e=!1,-1!=s.indexOf("e")&&(e=!0),0<=i&&!e&&(s=AmCharts.toFixed(n,i)),f="",e)f=s;else{for(s=s.split("."),e=String(s[0]),o=e.length;0<=o;o-=3)f=o!=e.length?0!==o?e.substring(o-3,o)+t+f:e.substring(o-3,o)+f:e.substring(o-3,o);void 0!==s[1]&&(f=f+h+s[1]);void 0!==i&&0<i&&"0"!=f&&(f=AmCharts.addZeroes(f,h,i))}return f=c+f,""===c&&!0===r&&0!==n&&(f="+"+f),!0===u&&(f+="%"),f};AmCharts.addZeroes=function(n,t,i){return n=n.split(t),void 0===n[1]&&0<i&&(n[1]="0"),n[1].length<i?(n[1]+="0",AmCharts.addZeroes(n[0]+t+n[1],t,i)):void 0!==n[1]?n[0]+t+n[1]:n[0]};AmCharts.scientificToNormal=function(n){var t,i,r;if(n=String(n).split("e"),"-"==n[1].substr(0,1)){for(t="0.",i=0;i<Math.abs(Number(n[1]))-1;i++)t+="0";t+=n[0].split(".").join("")}else for(r=0,t=n[0].split("."),t[1]&&(r=t[1].length),t=n[0].split(".").join(""),i=0;i<Math.abs(Number(n[1]))-r;i++)t+="0";return t};AmCharts.toScientific=function(n,t){if(0===n)return"0";var i=Math.floor(Math.log(Math.abs(n))*Math.LOG10E);return Math.pow(10,i),mantissa=String(mantissa).split(".").join(t),String(mantissa)+"e"+i};AmCharts.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)};AmCharts.hitTest=function(n,t,i){var r=!1,f=n.x,e=n.x+n.width,o=n.y,s=n.y+n.height,u=AmCharts.isInRectangle;return r||(r=u(f,o,t)),r||(r=u(f,s,t)),r||(r=u(e,o,t)),r||(r=u(e,s,t)),r||!0===i||(r=AmCharts.hitTest(t,n,!0)),r};AmCharts.isInRectangle=function(n,t,i){return n>=i.x-5&&n<=i.x+i.width+5&&t>=i.y-5&&t<=i.y+i.height+5?!0:!1};AmCharts.isPercents=function(n){if(-1!=String(n).indexOf("%"))return!0};AmCharts.findPosX=function(n){var t=n,i=n.offsetLeft;if(n.offsetParent){for(;n=n.offsetParent;)i+=n.offsetLeft;for(;(t=t.parentNode)&&t!=document.body;)i-=t.scrollLeft||0}return i};AmCharts.findPosY=function(n){var t=n,i=n.offsetTop;if(n.offsetParent){for(;n=n.offsetParent;)i+=n.offsetTop;for(;(t=t.parentNode)&&t!=document.body;)i-=t.scrollTop||0}return i};AmCharts.findIfFixed=function(n){if(n.offsetParent)for(;n=n.offsetParent;)if("fixed"==AmCharts.getStyle(n,"position"))return!0;return!1};AmCharts.findIfAuto=function(n){return n.style&&"auto"==AmCharts.getStyle(n,"overflow")?!0:n.parentNode?AmCharts.findIfAuto(n.parentNode):!1};AmCharts.findScrollLeft=function(n,t){return n.scrollLeft&&(t+=n.scrollLeft),n.parentNode?AmCharts.findScrollLeft(n.parentNode,t):t};AmCharts.findScrollTop=function(n,t){return n.scrollTop&&(t+=n.scrollTop),n.parentNode?AmCharts.findScrollTop(n.parentNode,t):t};AmCharts.formatValue=function(n,t,i,r,u,f,e,o){var h,c,s;if(t)for(void 0===u&&(u=""),h=0;h<i.length;h++)c=i[h],s=t[c],void 0!==s&&(s=f?AmCharts.addPrefix(s,o,e,r):AmCharts.formatNumber(s,r),n=n.replace(new RegExp("\\[\\["+u+""+c+"\\]\\]","g"),s));return n};AmCharts.formatDataContextValue=function(n,t){var u,r,i;if(n)for(u=n.match(/\[\[.*?\]\]/g),r=0;r<u.length;r++)i=u[r],i=i.substr(2,i.length-4),void 0!==t[i]&&(n=n.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),t[i]));return n};AmCharts.massReplace=function(n,t){var i,r;for(i in t)t.hasOwnProperty(i)&&(r=t[i],void 0===r&&(r=""),n=n.replace(i,r));return n};AmCharts.cleanFromEmpty=function(n){return n.replace(/\[\[[^\]]*\]\]/g,"")};AmCharts.addPrefix=function(n,t,i,r,u){var s=AmCharts.formatNumber(n,r),h="",f,e,o;if(0===n)return"0";if(0>n&&(h="-"),n=Math.abs(n),1<n){for(f=t.length-1;-1<f;f--)if(n>=t[f].number&&(e=n/t[f].number,o=Number(r.precision),1>o&&(o=1),i=AmCharts.roundTo(e,o),o=AmCharts.formatNumber(i,{precision:-1,decimalSeparator:r.decimalSeparator,thousandsSeparator:r.thousandsSeparator}),!u||e==i)){s=h+""+o+""+t[f].prefix;break}}else for(f=0;f<i.length;f++)if(n<=i[f].number){e=n/i[f].number;o=Math.abs(Math.round(Math.log(e)*Math.LOG10E));e=AmCharts.roundTo(e,o);s=h+""+e+""+i[f].prefix;break}return s};AmCharts.remove=function(n){n&&n.remove()};AmCharts.recommended=function(){var n="js";return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(n="flash"),n};AmCharts.getEffect=function(n){return">"==n&&(n="easeOutSine"),"<"==n&&(n="easeInSine"),"elastic"==n&&(n="easeOutElastic"),n};AmCharts.getObjById=function(n,t){for(var u,r,i=0;i<n.length;i++)r=n[i],r.id==t&&(u=r);return u};AmCharts.applyTheme=function(n,t,i){t||(t=AmCharts.theme);t&&t[i]&&AmCharts.extend(n,t[i])};AmCharts.isString=function(n){return"string"==typeof n?!0:!1};AmCharts.extend=function(n,t,i){for(var r in t)i?n.hasOwnProperty(r)||(n[r]=t[r]):n[r]=t[r];return n};AmCharts.copyProperties=function(n,t){for(var i in n)n.hasOwnProperty(i)&&"events"!=i&&void 0!==n[i]&&"function"!=typeof n[i]&&"cname"!=i&&(t[i]=n[i])};AmCharts.processObject=function(n,t,i){return!1==n instanceof t&&(n=AmCharts.extend(new t(i),n)),n};AmCharts.fixNewLines=function(n){var t=RegExp("\\n","g");return n&&(n=n.replace(t,"<br />")),n};AmCharts.fixBrakes=function(n){if(AmCharts.isModern){var t=RegExp("<br>","g");n&&(n=n.replace(t,"\n"))}else n=AmCharts.fixNewLines(n);return n};AmCharts.deleteObject=function(n,t){if(n&&((void 0===t||null===t)&&(t=20),0!==t))if("[object Array]"===Object.prototype.toString.call(n))for(var i=0;i<n.length;i++)AmCharts.deleteObject(n[i],t-1),n[i]=null;else if(n&&!n.tagName)try{for(i in n)n[i]&&("object"==typeof n[i]&&AmCharts.deleteObject(n[i],t-1),"function"!=typeof n[i]&&(n[i]=null))}catch(r){}};AmCharts.bounce=function(n,t,i,r,u){return(t/=u)<1/2.75?7.5625*r*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i};AmCharts.easeInSine=function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i};AmCharts.easeOutSine=function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i};AmCharts.easeOutElastic=function(n,t,i,r,u){n=1.70158;var f=0,e=r;return 0===t?i:1==(t/=u)?i+r:(f||(f=.3*u),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin(2*(t*u-n)*Math.PI/f)+r+i)};AmCharts.AxisBase=AmCharts.Class({construct:function(n){this.createEvents("clickItem","rollOverItem","rollOutItem");this.viY=this.viX=this.y=this.x=this.dy=this.dx=0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=!0;this.labelRotation=0;this.autoGridCount=!0;this.valueRollOverColor="#CC0000";this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.minHorizontalGap=75;this.minVerticalGap=35;this.titleBold=!0;this.minorGridEnabled=!1;this.minorGridAlpha=.07;this.autoWrap=!1;this.titleAlign="middle";this.labelOffset=0;AmCharts.applyTheme(this,n,"AxisBase")},zoom:function(n,t){this.start=n;this.end=t;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var n=this.position;"H"==this.orientation?("left"==n&&(n="bottom"),"right"==n&&(n="top")):("bottom"==n&&(n="left"),"top"==n&&(n="right"));this.position=n},draw:function(){var n=this.chart,t,i;this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.labels=[];t=n.container;i=t.set();n.gridSet.push(i);this.set=i;t=t.set();n.axesLabelsSet.push(t);this.labelsSet=t;this.axisLine=new this.axisRenderer(this);this.autoGridCount?("V"==this.orientation?(n=this.height/this.minVerticalGap,3>n&&(n=3)):n=this.width/this.minHorizontalGap,this.gridCountR=Math.max(n,1)):this.gridCountR=this.gridCount;this.axisWidth=this.axisLine.axisWidth;this.addTitle()},setOrientation:function(n){this.orientation=n?"H":"V"},addTitle:function(){var r=this.title,n,t,i;r&&(n=this.chart,t=this.titleColor,void 0===t&&(t=n.color),i=this.titleFontSize,isNaN(i)&&(i=n.fontSize+1),this.titleLabel=AmCharts.text(n.container,r,t,n.fontFamily,i,this.titleAlign,this.titleBold))},positionTitle:function(){var u=this.titleLabel,i,f,n,t,e;if(u){t=this.labelsSet;n={};0<t.length()?n=t.getBBox():(n.x=0,n.y=0,n.width=this.viW,n.height=this.viH);t.push(u);t=n.x;e=n.y;AmCharts.VML&&(this.rotate?t-=this.x:e-=this.y);var a=n.width,n=n.height,o=this.viW,s=this.viH,h=0,c=u.getBBox().height/2,l=this.inside,r=this.titleAlign;switch(this.position){case"top":i="left"==r?-1:"right"==r?o:o/2;f=e-10-c;break;case"bottom":i="left"==r?-1:"right"==r?o:o/2;f=e+n+10+c;break;case"left":i=t-10-c;l&&(i-=5);f="left"==r?s+1:"right"==r?-1:s/2;h=-90;break;case"right":i=t+a+10+c-3;l&&(i+=7);f="left"==r?s+2:"right"==r?-2:s/2;h=-90}this.marginsChanged?(u.translate(i,f),this.tx=i,this.ty=f):u.translate(this.tx,this.ty);this.marginsChanged=!1;0!==h&&u.rotate(h)}},pushAxisItem:function(n,t){var r=this,i=n.graphics();0<i.length()&&(t?r.labelsSet.push(i):r.set.push(i));(i=n.getLabel())&&(this.labelsSet.push(i),i.click(function(t){r.handleMouse(t,n,"clickItem")}).mouseover(function(t){r.handleMouse(t,n,"rollOverItem")}).mouseout(function(t){r.handleMouse(t,n,"rollOutItem")}))},handleMouse:function(n,t,i){this.fire(i,{type:i,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:n})},addGuide:function(n){for(var t=this.guides,r=!1,i=0;i<t.length;i++)t[i]==n&&(r=!0);r||t.push(n)},removeGuide:function(n){for(var i=this.guides,t=0;t<i.length;t++)i[t]==n&&i.splice(t,1)},handleGuideOver:function(n){clearTimeout(this.chart.hoverInt);var t=n.graphics.getBBox(),r=t.x+t.width/2,t=t.y+t.height/2,i=n.fillColor;void 0===i&&(i=n.lineColor);this.chart.showBalloon(n.balloonText,i,!0,r,t)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(n,t){var i=this;n.mouseover(function(){i.handleGuideOver(t)});n.mouseout(function(){i.handleGuideOut(t)})},getBBox:function(){var n=this.labelsSet.getBBox();return AmCharts.VML||(n={x:n.x+this.x,y:n.y+this.y,width:n.width,height:n.height}),n},destroy:function(){AmCharts.remove(this.set);AmCharts.remove(this.labelsSet);var n=this.axisLine;n&&AmCharts.remove(n.set);AmCharts.remove(this.grid0)}});AmCharts.ValueAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(n){this.cname="ValueAxis";this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed");AmCharts.ValueAxis.base.construct.call(this,n);this.dataChanged=!0;this.stackType="none";this.position="left";this.unitPosition="right";this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.baseValue=0;this.radarCategoriesEnabled=!0;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10;this.minMaxMultiplier=1;this.logGridLimit=2;this.treatZeroAs=0;AmCharts.applyTheme(this,n,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1);this.totals=[];this.data=this.chart.chartData;var n=this.chart;"xy"!=n.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));this.recalculateToPercents&&this.recalculate();this.synchronizationMultiplier&&this.synchronizeWith?(AmCharts.isString(this.synchronizeWith)&&(this.synchronizeWith=n.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){var e,k,y,o,w,i,c,p,s,v,h,d,nt,f,a;if(AmCharts.ValueAxis.base.draw.call(this),e=this.chart,k=this.set,"duration"==this.type&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),this.logarithmic&&(y=this.treatZeroAs,o=this.getMin(0,this.data.length-1),0<y&&0==o&&(this.minReal=o=y),0>=o||0>=this.minimum)){this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:e});return}this.grid0=null;var n,t,tt=e.dx,it=e.dy,y=!1,o=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)y=!0;else{var rt=this.labelFrequency,ut=this.showFirstLabel,ft=this.showLastLabel,g=1,r=0,l=Math.round((this.max-this.min)/this.step)+1,u;if(!0===o?(u=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/u,u>this.logGridLimit&&(l=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,r=Math.round(Math.log(this.minReal)*Math.LOG10E),l>this.gridCountR&&(g=Math.ceil(l/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min),s=0,1>this.step&&-1<this.step&&(s=AmCharts.getDecimals(this.step)),this.integersOnly&&(s=0),s>this.maxDecCount&&(s=this.maxDecCount),w=this.precision,isNaN(w)||(s=w),this.max=AmCharts.roundTo(this.max,this.maxDecCount),this.min=AmCharts.roundTo(this.min,this.maxDecCount),t={},t.precision=s,t.decimalSeparator=e.nf.decimalSeparator,t.thousandsSeparator=e.nf.thousandsSeparator,this.numberFormatter=t,h=this.guides,n=h.length,0<n){for(c=this.fillAlpha,t=this.fillAlpha=0;t<n;t++){var f=h[t],b=NaN,a=f.above;isNaN(f.toValue)||(b=this.getCoordinate(f.toValue),i=new this.axisItemRenderer(this,b,"",!0,NaN,NaN,f),this.pushAxisItem(i,a));p=NaN;isNaN(f.value)||(p=this.getCoordinate(f.value),i=new this.axisItemRenderer(this,p,f.label,!0,NaN,(b-p)/2,f),this.pushAxisItem(i,a));isNaN(b-p)||(i=new this.guideFillRenderer(this,p,b,f),this.pushAxisItem(i,a),i=i.graphics(),f.graphics=i,f.balloonText&&this.addEventListeners(i,f))}this.fillAlpha=c}for(this.exponential=!1,t=r;t<l;t+=g)h=AmCharts.roundTo(this.step*t+this.min,s),-1!=String(h).indexOf("e")&&(this.exponential=!0,String(h).split("e"));for(this.duration&&(this.maxInterval=AmCharts.getMaxInterval(this.max,this.duration)),s=this.step,h=this.minorGridAlpha,this.minorGridEnabled&&(v=this.getMinorGridStep(s,this.stepWidth*s)),t=r;t<l;t+=g)if((r=s*t+this.min,o&&this.max-this.min>5*this.min&&(r-=this.min),r=AmCharts.roundTo(r,this.maxDecCount+1),!this.integersOnly||Math.round(r)==r)&&(isNaN(w)||Number(AmCharts.toFixed(r,w))==r)&&(!0===o&&(0===r&&(r=this.minReal),u>this.logGridLimit&&(r=Math.pow(10,t))),i=this.formatValue(r,!1,t),Math.round(t/rt)!=t/rt&&(i=void 0),(0!==t||ut)&&(t!=l-1||ft)||(i=" "),n=this.getCoordinate(r),i=new this.axisItemRenderer(this,n,i,void 0,void 0,void 0,void 0,this.boldLabels),this.pushAxisItem(i),r==this.baseValue&&"radar"!=e.type&&(f=this.viW,a=this.viH,i=this.viX,c=this.viY,"H"==this.orientation?0<=n&&n<=f+1&&(d=[n,n,n+tt],nt=[a,0,it]):0<=n&&n<=a+1&&(d=[0,f,f+tt],nt=[n,n,n+it]),d&&(n=AmCharts.fitToBounds(2*this.gridAlpha,0,1),n=AmCharts.line(e.container,d,nt,this.gridColor,n,1,this.dashLength),n.translate(i,c),this.grid0=n,e.axesSet.push(n),n.toBack())),!isNaN(v)&&0<h&&t<l-1)){for(i=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,n=1;n<s/v;n++)c=this.getCoordinate(r+v*n),c=new this.axisItemRenderer(this,c,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(c);this.gridAlpha=i}u=this.baseValue;this.min>this.baseValue&&this.max>this.baseValue&&(u=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(u=this.max);o&&u<this.minReal&&(u=this.minReal);this.baseCoord=this.getCoordinate(u);u={type:"axisChanged",target:this,chart:e};u.min=o?this.minReal:this.min;u.max=this.max;this.fire("axisChanged",u);this.axisCreated=!0}o=this.axisLine.set;u=this.labelsSet;this.positionTitle();"radar"!=e.type?(e=this.viX,v=this.viY,k.translate(e,v),u.translate(e,v)):o.toFront();!this.visible||y?(k.hide(),o.hide(),u.hide()):(k.show(),o.show(),u.show());this.axisY=this.y-this.viY;this.axisX=this.x-this.viX},formatValue:function(n,t,i){var u=this.exponential,e=this.logarithmic,r=this.numberFormatter,f=this.chart;return!0===this.logarithmic&&(u=-1!=String(n).indexOf("e")?!0:!1),this.useScientificNotation&&(u=!0),this.usePrefixes&&(u=!1),u?(valueText=-1==String(n).indexOf("e")?n.toExponential(15):String(n),i=valueText.split("e"),t=Number(i[0]),i=Number(i[1]),t=AmCharts.roundTo(t,14),10==t&&(t=1,i+=1),valueText=t+"e"+i,0===n&&(valueText="0"),1==n&&(valueText="1")):(e&&(u=String(n).split("."),u[1]?(r.precision=u[1].length,0>i&&(r.precision=Math.abs(i))):r.precision=-1),valueText=this.usePrefixes?AmCharts.addPrefix(n,f.prefixesOfBigNumbers,f.prefixesOfSmallNumbers,r,!t):AmCharts.formatNumber(n,r,r.precision)),this.duration&&(valueText=AmCharts.formatDuration(n,this.duration,"",this.durationUnits,this.maxInterval,r)),this.recalculateToPercents?valueText+="%":(r=this.unit)&&(valueText="left"==this.unitPosition?r+valueText:valueText+r),this.labelFunction&&(valueText=this.labelFunction(n,valueText,this).toString()),valueText},getMinorGridStep:function(n,t){var f=[5,4,2],e,u,i,r;for(60>t&&f.shift(),e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),u=0;u<f.length;u++)if(i=n/f[u],r=Math.floor(Math.log(Math.abs(i))*Math.LOG10E),!(0<Math.abs(e-r)))if(1>n){if(r=Math.pow(10,-r)*i,r==Math.round(r))return i}else if(i==Math.round(i))return i},stackGraphs:function(n){var s=this.stackType,y,c;"stacked"==s&&(s="regular");"line"==s&&(s="none");"100% stacked"==s&&(s="100%");this.stackType=s;var h=[],f=[],e=[],l=[],u,a=this.chart.graphs,t,i,r,o,p=this.baseValue,v=!1;if(("line"==n||"step"==n||"smoothedLine"==n)&&(v=!0),v&&("regular"==s||"100%"==s))for(o=0;o<a.length;o++)r=a[o],r.hidden||(i=r.type,r.chart==this.chart&&r.valueAxis==this&&n==i&&r.stackable&&(t&&(r.stackGraph=t),t=r));for(t=this.start;t<=this.end;t++)for(y=0,o=0;o<a.length;o++)(r=a[o],r.hidden)?r.newStack&&(e[t]=NaN,f[t]=NaN):(i=r.type,r.chart==this.chart&&r.valueAxis==this&&n==i&&r.stackable)&&((i=this.data[t].axes[this.id].graphs[r.id],u=i.values.value,isNaN(u))?r.newStack&&(e[t]=NaN,f[t]=NaN):(c=AmCharts.getDecimals(u),y<c&&(y=c),isNaN(l[t])?l[t]=Math.abs(u):l[t]+=Math.abs(u),l[t]=AmCharts.roundTo(l[t],y),c=r.fillToGraph,v&&c&&(c=this.data[t].axes[this.id].graphs[c.id])&&(i.values.open=c.values.value),"regular"==s&&(v&&(isNaN(h[t])?(h[t]=u,i.values.close=u,i.values.open=this.baseValue):(i.values.close=isNaN(u)?h[t]:u+h[t],i.values.open=h[t],h[t]=i.values.close)),"column"==n&&(r.newStack&&(e[t]=NaN,f[t]=NaN),i.values.close=u,0>u?(i.values.close=u,isNaN(f[t])?i.values.open=p:(i.values.close+=f[t],i.values.open=f[t]),f[t]=i.values.close):(i.values.close=u,isNaN(e[t])?i.values.open=p:(i.values.close+=e[t],i.values.open=e[t]),e[t]=i.values.close)))));for(t=this.start;t<=this.end;t++)for(o=0;o<a.length;o++)(r=a[o],r.hidden)?r.newStack&&(e[t]=NaN,f[t]=NaN):(i=r.type,r.chart==this.chart&&r.valueAxis==this&&n==i&&r.stackable&&(i=this.data[t].axes[this.id].graphs[r.id],u=i.values.value,isNaN(u)||(h=u/l[t]*100,i.values.percents=h,i.values.total=l[t],r.newStack&&(e[t]=NaN,f[t]=NaN),"100%"==s&&(isNaN(f[t])&&(f[t]=0),isNaN(e[t])&&(e[t]=0),0>h?(i.values.close=AmCharts.fitToBounds(h+f[t],-100,100),i.values.open=f[t],f[t]=i.values.close):(i.values.close=AmCharts.fitToBounds(h+e[t],-100,100),i.values.open=e[t],e[t]=i.values.close)))))},recalculate:function(){for(var n=this.chart,c=n.graphs,u,f,t,l,a,r,e,o=0;o<c.length;o++)if(u=c[o],u.valueAxis==this){f="value";("candlestick"==u.type||"ohlc"==u.type)&&(f="open");var s,i,h=this.end+2,h=AmCharts.fitToBounds(this.end+1,0,this.data.length-1),r=this.start;for(0<r&&r--,i=this.start,u.compareFromStart&&(i=0),!isNaN(n.startTime)&&(t=n.categoryAxis)&&(minDuration=t.minDuration(),l=new Date(n.startTime+minDuration/2),a=AmCharts.resetDateToMin(new Date(n.startTime),t.minPeriod).getTime(),AmCharts.resetDateToMin(new Date(l),t.minPeriod).getTime()>a&&i++),(t=n.recalculateFromDate)&&(n.dataDateFormat&&(t=AmCharts.stringToDate(t,n.dataDateFormat)),i=n.getClosestIndex(n.chartData,"time",t.getTime(),!0,0,n.chartData.length),h=n.chartData.length-1),t=i;t<=h&&(i=this.data[t].axes[this.id].graphs[u.id],s=i.values[f],isNaN(s));t++);for(this.recBaseValue=s,f=r;f<=h;f++){i=this.data[f].axes[this.id].graphs[u.id];i.percents={};r=i.values;for(e in r)i.percents[e]="percents"!=e?r[e]/s*100-100:r[e]}}},getMinMax:function(){for(var t=!1,r=this.chart,n=r.graphs,u,i=0;i<n.length;i++)u=n[i].type,("line"==u||"step"==u||"smoothedLine"==u)&&this.expandMinMax&&(t=!0);if(t&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==r.type&&(!0!==r.categoryAxis.parseDates||t||this.end<this.data.length-1&&this.end++),t=this.minMaxMultiplier,this.min=this.getMin(this.start,this.end),this.max=this.getMax(),t=(this.max-this.min)*(t-1),this.min-=t,this.max+=t,t=this.guides.length,this.includeGuidesInMinMax&&0<t)for(r=0;r<t;r++)n=this.guides[r],n.toValue<this.min&&(this.min=n.toValue),n.value<this.min&&(this.min=n.value),n.toValue>this.max&&(this.max=n.toValue),n.value>this.max&&(this.max=n.value);isNaN(this.minimum)||(this.min=this.minimum);isNaN(this.maximum)||(this.max=this.maximum);this.min>this.max&&(t=this.max,this.max=this.min,this.min=t);isNaN(this.minTemp)||(this.min=this.minTemp);isNaN(this.maxTemp)||(this.max=this.maxTemp);this.minReal=this.min;this.maxReal=this.max;0===this.min&&0===this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-1);t=this.min;r=this.max;n=this.max-this.min;i=0===n?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10;isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/i)*i+i);isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/i)*i-i);0>this.min&&0<=t&&(this.min=0);0<this.max&&0>=r&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);n=this.max-this.min;i=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10;this.step=Math.ceil(n/this.gridCountR/i)*i;n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));n=this.fixStepE(n);i=Math.ceil(this.step/n);5<i&&(i=10);5>=i&&2<i&&(i=5);this.step=Math.ceil(this.step/(n*i))*n*i;1>n?(this.maxDecCount=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=AmCharts.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=t&&(this.min=0);0<this.max&&0>=r&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal));n=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0===this.min&&(this.minReal=n);0===this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);n=Math.log(r)*Math.LOG10E-Math.log(t)*Math.LOG10E;this.logarithmic&&(2<n?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(r))*Math.LOG10E))):(r=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E))/10,r<t&&(this.minReal=this.min=10*t)))},fixStepE:function(n){n=n.toExponential(0).split("e");var t=Number(n[1]);return 9==Number(n[0])&&t++,this.generateNumber(1,t)},generateNumber:function(n,t){for(var i="",u=0>t?Math.abs(t)-1:Math.abs(t),r=0;r<u;r++)i+="0";return 0>t?Number("0."+i+String(n)):Number(String(n)+i)},getMin:function(n,t){for(var r,f,e,i,u,o,s=n;s<=t;s++){f=this.data[s].axes[this.id].graphs;for(e in f)if(f.hasOwnProperty(e)&&(i=this.chart.getGraphById(e),i.includeInMinMax&&(!i.hidden||this.includeHidden)))if(isNaN(r)&&(r=Infinity),this.foundGraphs=!0,i=f[e].values,this.recalculateToPercents&&(i=f[e].percents),this.minMaxField)u=i[this.minMaxField],u<r&&(r=u);else for(o in i)i.hasOwnProperty(o)&&"percents"!=o&&"total"!=o&&(u=i[o],u<r&&(r=u))}return r},getMax:function(){for(var t,r,u,n,i,f,e=this.start;e<=this.end;e++){r=this.data[e].axes[this.id].graphs;for(u in r)if(r.hasOwnProperty(u)&&(n=this.chart.getGraphById(u),n.includeInMinMax&&(!n.hidden||this.includeHidden)))if(isNaN(t)&&(t=-Infinity),this.foundGraphs=!0,n=r[u].values,this.recalculateToPercents&&(n=r[u].percents),this.minMaxField)i=n[this.minMaxField],i>t&&(t=i);else for(f in n)n.hasOwnProperty(f)&&"percents"!=f&&"total"!=f&&(i=n[f],i>t&&(t=i))}return t},dispatchZoomEvent:function(n,t){var i={type:"axisZoomed",startValue:n,endValue:t,target:this,chart:this.chart};this.fire(i.type,i)},zoomToValues:function(n,t){if(t<n){var i=t;t=n;n=i}n<this.min&&(n=this.min);t>this.max&&(t=this.max);i={type:"axisSelfZoomed"};i.chart=this.chart;i.valueAxis=this;i.multiplier=this.axisWidth/Math.abs(this.getCoordinate(t)-this.getCoordinate(n));i.position="V"==this.orientation?this.reversed?this.getCoordinate(n):this.getCoordinate(t):this.reversed?this.getCoordinate(t):this.getCoordinate(n);this.fire(i.type,i)},coordinateToValue:function(n){if(isNaN(n))return NaN;var i=this.axisWidth,t=this.stepWidth,u=this.reversed,f=this.rotate,r=this.min,e=this.minReal;return!0===this.logarithmic?Math.pow(10,(f?!0===u?(i-n)/t:n/t:!0===u?n/t:(i-n)/t)+Math.log(e)*Math.LOG10E):!0===u?f?r-(n-i)/t:n/t+r:f?n/t+r:r-(n-i)/t},getCoordinate:function(n){if(isNaN(n))return NaN;var t=this.rotate,f=this.reversed,r=this.axisWidth,i=this.stepWidth,u=this.min,e=this.minReal;return!0===this.logarithmic?(0==n&&(n=this.treatZeroAs),n=Math.log(n)*Math.LOG10E-Math.log(e)*Math.LOG10E,t=t?!0===f?r-i*n:i*n:!0===f?i*n:r-i*n):t=!0===f?t?r-i*(n-u):i*(n-u):t?i*(n-u):r-i*(n-u),t=this.rotate?t+(this.x-this.viX):t+(this.y-this.viY),1e7<Math.abs(t)&&(t=1e7*(t/Math.abs(t))),Math.round(t)},synchronizeWithAxis:function(n){this.synchronizeWith=n;this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(n){var t=this.synchronizeWith;n=t.min;var r=t.max,t=t.step,i=this.synchronizationMultiplier;i&&(this.min=n*i,this.max=r*i,this.step=t*i,n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),n=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=n=Math.round(n),this.draw())}});AmCharts.RecAxis=AmCharts.Class({construct:function(n){var l=n.chart,t=n.axisThickness,i=n.axisColor,o=n.axisAlpha,r=n.offset,s=n.dx,h=n.dy,u=n.viX,f=n.viY,e=n.viH,a=n.viW,c=l.container;"H"==n.orientation?(i=AmCharts.line(c,[0,a],[0,0],i,o,t),this.axisWidth=n.width,"bottom"==n.position?(n=t/2+r+e+f-1,t=u):(n=-t/2-r+f+h,t=s+u)):(this.axisWidth=n.height,"right"==n.position?(i=AmCharts.line(c,[0,0,-s],[0,e,e-h],i,o,t),n=f+h,t=t/2+r+s+a+u-1):(i=AmCharts.line(c,[0,0],[0,e],i,o,t),n=f,t=-t/2-r+u));i.translate(t,n);l.axesSet.push(i);this.set=i}});AmCharts.RecItem=AmCharts.Class({construct:function(n,t,i,r,u,f,e,o,s,h,c){var kt,p,at,it,ct,k;t=Math.round(t);this.value=i;void 0==i&&(i="");s||(s=0);void 0==r&&(r=!0);kt=n.chart.fontFamily;p=n.fontSize;void 0==p&&(p=n.chart.fontSize);at=n.color;void 0==at&&(at=n.chart.color);void 0!==c&&(at=c);it=n.chart.container;ct=it.set();this.set=ct;var rt=n.axisThickness,ti=n.axisColor,wt=n.axisAlpha,a=n.tickLength,yt=n.gridAlpha,pt=n.gridThickness,dt=n.gridColor,gt=n.dashLength,ii=n.fillColor,bt=n.fillAlpha,ri=n.labelsEnabled;c=n.labelRotation;var ni=n.counter,w=n.inside,ut=n.labelOffset,tt=n.dx,nt=n.dy,ui=n.orientation,ft=n.position,vt=n.previousCoord,g=n.viH,et=n.viW,ot=n.offset,st,b;e?(ri=!0,isNaN(e.tickLength)||(a=e.tickLength),void 0!=e.lineColor&&(dt=e.lineColor),void 0!=e.color&&(at=e.color),isNaN(e.lineAlpha)||(yt=e.lineAlpha),isNaN(e.dashLength)||(gt=e.dashLength),isNaN(e.lineThickness)||(pt=e.lineThickness),!0===e.inside&&(w=!0),isNaN(e.labelRotation)||(c=e.labelRotation),isNaN(e.fontSize)||(p=e.fontSize),e.position&&(ft=e.position),void 0!==e.boldLabel&&(o=e.boldLabel),isNaN(e.labelOffset)||(ut=e.labelOffset)):""===i&&(a=0);b="start";u&&(b="middle");var y=c*Math.PI/180,ht,v=0,l=0,lt=0,d=ht=0,fi=0;"V"==ui&&(c=0);ri&&(k=n.autoWrap&&0===c?AmCharts.wrappedText(it,i,at,kt,p,b,o,u,0):AmCharts.text(it,i,at,kt,p,b,o),b=k.getBBox(),d=b.width,fi=b.height);"H"==ui?(0<=t&&t<=et+1&&(0<a&&0<wt&&t+s<=et+1&&(st=AmCharts.line(it,[t+s,t+s],[0,a],ti,wt,pt),ct.push(st)),0<yt&&(b=AmCharts.line(it,[t,t+tt,t+tt],[g,g+nt,nt],dt,yt,pt,gt),ct.push(b))),l=0,v=t,e&&90==c&&w&&(v-=p),!1===r?(b="start",l="bottom"==ft?w?l+a:l-a:w?l-a:l+a,v+=3,u&&(v+=u/2-3,b="middle"),0<c&&(b="middle")):b="middle",1==ni&&0<bt&&!e&&!h&&vt<et&&(r=AmCharts.fitToBounds(t,0,et),vt=AmCharts.fitToBounds(vt,0,et),ht=r-vt,0<ht&&(fill=AmCharts.rect(it,ht,n.height,ii,bt),fill.translate(r-ht+tt,nt),ct.push(fill))),"bottom"==ft?(l+=g+p/2+ot,w?(0<c?(l=g-d/2*Math.sin(y)-a-3,v+=d/2*Math.cos(y)-2):0>c?(l=g+d*Math.sin(y)-a-1,v+=-d*Math.cos(y)-fi*Math.sin(y)-4):l-=a+p+3+3,l-=ut):(0<c?(l=g+d/2*Math.sin(y)+a+3,v-=d/2*Math.cos(y)):0>c?(l=g+a+3-d/2*Math.sin(y)+2,v+=d/2*Math.cos(y)):l+=a+rt+3+3,l+=ut)):(l+=nt+p/2-ot,v+=tt,w?(0<c?(l=d/2*Math.sin(y)+a+3,v-=d/2*Math.cos(y)):l+=a+3,l+=ut):(0<c?(l=-(d/2)*Math.sin(y)-a-6,v+=d/2*Math.cos(y)):l-=a+p+3+rt+3,l-=ut)),"bottom"==ft?ht=(w?g-a-1:g+rt-1)+ot:(lt=tt,ht=(w?nt:nt-a-rt+1)-ot),f&&(v+=f),f=v,0<c&&(f+=d/2*Math.cos(y)),k&&(p=0,w&&(p=d/2*Math.cos(y)),f+p>et+2||0>f))&&(k.remove(),k=null):(0<=t&&t<=g+1&&(0<a&&0<wt&&t+s<=g+1&&(st=AmCharts.line(it,[0,a],[t+s,t+s],ti,wt,pt),ct.push(st)),0<yt&&(b=AmCharts.line(it,[0,tt,et+tt],[t,t+nt,t+nt],dt,yt,pt,gt),ct.push(b))),b="end",(!0===w&&"left"==ft||!1===w&&"right"==ft)&&(b="start"),l=t-p/2,1==ni&&0<bt&&!e&&!h&&(r=AmCharts.fitToBounds(t,0,g),vt=AmCharts.fitToBounds(vt,0,g),y=r-vt,fill=AmCharts.polygon(it,[0,n.width,n.width,0],[0,0,y,y],ii,bt),fill.translate(tt,r-y+nt),ct.push(fill)),l+=p/2,"right"==ft?(v+=tt+et+ot,l+=nt,w?(f||(l-=p/2+3),v=v-(a+4)-ut):(v+=a+4+rt,l-=2,v+=ut)):w?(v+=a+4-ot,f||(l-=p/2+3),e&&(v+=tt,l+=nt),v+=ut):(v+=-a-rt-6-ot,l-=2,v-=ut),st&&("right"==ft?(lt+=tt+ot+et,ht+=nt,lt=w?lt-rt:lt+rt):(lt-=ot,w||(lt-=a+rt))),f&&(l+=f),w=-3,"right"==ft&&(w+=nt),k&&(l>g+1||l<w)&&(k.remove(),k=null));st&&st.translate(lt,ht);!1===n.visible&&(st&&st.remove(),k&&(k.remove(),k=null));k&&(k.attr({"text-anchor":b}),k.translate(v,l),0!==c&&k.rotate(-c,n.chart.backgroundColor),n.allLabels.push(k)," "!=i&&(this.label=k));h||(n.counter=0===ni?1:0,n.previousCoord=t);0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}});AmCharts.RecFill=AmCharts.Class({construct:function(n,t,i,r){var o=n.dx,s=n.dy,h=n.orientation,e=0,u,f;i<t&&(u=t,t=i,i=u);f=r.fillAlpha;isNaN(f)&&(f=0);u=n.chart.container;r=r.fillColor;"V"==h?(t=AmCharts.fitToBounds(t,0,n.viH),i=AmCharts.fitToBounds(i,0,n.viH)):(t=AmCharts.fitToBounds(t,0,n.viW),i=AmCharts.fitToBounds(i,0,n.viW));i-=t;isNaN(i)&&(i=4,e=2,f=0);0>i&&"object"==typeof r&&(r=r.join(",").split(",").reverse());"V"==h?(n=AmCharts.rect(u,n.width,i,r,f),n.translate(o,t-e+s)):(n=AmCharts.rect(u,i,n.height,r,f),n.translate(t-e+o,s));this.set=u.set([n])},graphics:function(){return this.set},getLabel:function(){}});AmCharts.AmChart=AmCharts.Class({construct:function(n){this.theme=n;this.version="3.11.3";AmCharts.addChart(this);this.createEvents("dataUpdated","init","rendered","drawn","failed");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";this.fontSize=11;this.usePrefixes=!1;this.precision=-1;this.percentPrecision=2;this.decimalSeparator=".";this.thousandsSeparator=",";this.labels=[];this.allLabels=[];this.titles=[];this.marginRight=this.marginLeft=this.autoMarginOffset=0;this.timeOuts=[];this.creditsPosition="top-left";var i=document.createElement("div"),t=i.style;t.overflow="hidden";t.position="relative";t.textAlign="left";this.chartDiv=i;i=document.createElement("div");t=i.style;t.overflow="hidden";t.position="relative";t.textAlign="left";this.legendDiv=i;this.titleHeight=0;this.hideBalloonTime=150;this.handDrawScatter=2;this.handDrawThickness=1;this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}];this.panEventsEnabled=!0;AmCharts.bezierX=3;AmCharts.bezierY=6;this.product="amcharts";this.animations=[];this.balloon=new AmCharts.AmBalloon(this.theme);this.balloon.chart=this;AmCharts.applyTheme(this,n,"AmChart")},drawChart:function(){this.drawBackground();this.redrawLabels();this.drawTitles();this.brr()},drawBackground:function(){var t,i;AmCharts.remove(this.background);var r=this.container,n=this.backgroundColor,u=this.backgroundAlpha,f=this.set;AmCharts.isModern||0!==u||(u=.001);t=this.updateWidth();this.realWidth=t;i=this.updateHeight();this.realHeight=i;this.background=n=AmCharts.polygon(r,[0,t-1,t-1,0],[0,0,i-1,i-1],n,u,1,this.borderColor,this.borderAlpha);f.push(n);(n=this.backgroundImage)&&(this.path&&(n=this.path+n),this.bgImg=r=r.image(n,0,0,t,i),f.push(r))},drawTitles:function(){var f=this.titles,e,u,t,r,i,n;if(AmCharts.ifArray(f))for(e=20,u=0;u<f.length;u++)t=f[u],n=t.color,void 0===n&&(n=this.color),r=t.size,isNaN(r)&&(r=this.fontSize+2),isNaN(t.alpha),i=this.marginLeft,n=AmCharts.text(this.container,t.text,n,this.fontFamily,r),n.translate(i+(this.realWidth-this.marginRight-i)/2,e),n.node.style.pointerEvents="none",i=!0,void 0!==t.bold&&(i=t.bold),i&&n.attr({"font-weight":"bold"}),n.attr({opacity:t.alpha}),e+=r+6,this.freeLabelsSet.push(n)},write:function(n){var u,t,s;if(n="object"!=typeof n?document.getElementById(n):n){n.innerHTML="";this.div=n;n.style.overflow="hidden";n.style.textAlign="left";var r=this.chartDiv,e=this.legendDiv,i=this.legend,f=e.style,o=r.style;if(this.measure(),t=document.createElement("div"),u=t.style,u.position="relative",this.containerDiv=t,n.appendChild(t),s=this.exportConfig,s&&AmCharts.AmExport&&!this.AmExport&&(this.AmExport=new AmCharts.AmExport(this,s)),this.amExport&&AmCharts.AmExport&&(this.AmExport=AmCharts.extend(this.amExport,new AmCharts.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),i)switch(i=this.addLegend(i,i.divId),i.position){case"bottom":t.appendChild(r);t.appendChild(e);break;case"top":t.appendChild(e);t.appendChild(r);break;case"absolute":u.width=n.style.width;u.height=n.style.height;f.position="absolute";o.position="absolute";void 0!==i.left&&(f.left=i.left+"px");void 0!==i.right&&(f.right=i.right+"px");void 0!==i.top&&(f.top=i.top+"px");void 0!==i.bottom&&(f.bottom=i.bottom+"px");i.marginLeft=0;i.marginRight=0;t.appendChild(r);t.appendChild(e);break;case"right":u.width=n.style.width;u.height=n.style.height;f.position="relative";o.position="absolute";t.appendChild(r);t.appendChild(e);break;case"left":u.width=n.style.width;u.height=n.style.height;f.position="absolute";o.position="relative";t.appendChild(r);t.appendChild(e);break;case"outside":t.appendChild(r)}else t.appendChild(r);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0);this.initChart()}},createLabelsSet:function(){AmCharts.remove(this.labelsSet);this.labelsSet=this.container.set();this.freeLabelsSet.push(this.labelsSet)},initChart:function(){var n,t;this.initHC||(AmCharts.callInitHandler(this),this.initHC=!0);AmCharts.applyLang(this.language,this);n=this.numberFormatter;n&&(isNaN(n.precision)||(this.precision=n.precision),void 0!==n.thousandsSeparator&&(this.thousandsSeparator=n.thousandsSeparator),void 0!==n.decimalSeparator&&(this.decimalSeparator=n.decimalSeparator));(n=this.percentFormatter)&&!isNaN(n.precision)&&(this.percentPrecision=n.precision);this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.divIsFixed=AmCharts.findIfFixed(this.chartDiv);this.previousHeight=this.divRealHeight;this.previousWidth=this.divRealWidth;this.destroy();this.startInterval();n=0;document.attachEvent&&!window.opera&&(n=1);this.dmouseX=this.dmouseY=0;t=document.getElementsByTagName("html")[0];t&&window.getComputedStyle&&(t=window.getComputedStyle(t,null))&&(this.dmouseY=AmCharts.removePx(t.getPropertyValue("margin-top")),this.dmouseX=AmCharts.removePx(t.getPropertyValue("margin-left")));this.mouseMode=n;(n=this.container)?(n.container.innerHTML="",this.chartDiv.appendChild(n.container),n.setSize(this.realWidth,this.realHeight)):n=new AmCharts.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this);AmCharts.VML||AmCharts.SVG?(n.handDrawn=this.handDrawn,n.handDrawScatter=this.handDrawScatter,n.handDrawThickness=this.handDrawThickness,this.container=n,this.set&&this.set.remove(),this.set=n.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=n.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=n.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),this.graphsBehindSet=n.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=n.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=n.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=n.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=n.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=n.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=n.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=n.set(),this.bulletSet&&this.bulletSet.remove(),this.bulletSet=n.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=n.set(),this.freeLabelsSet=n.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=n.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zoomButtonSet=n.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=n.set(),this.renderFix()):this.fire("failed",{type:"failed",chart:this})},measure:function(){var n=this.div;if(n){var u=this.chartDiv,i=n.offsetWidth,r=n.offsetHeight,f=this.container;n.clientHeight&&(i=n.clientWidth,r=n.clientHeight);var t=AmCharts.removePx(AmCharts.getStyle(n,"padding-left")),e=AmCharts.removePx(AmCharts.getStyle(n,"padding-right")),o=AmCharts.removePx(AmCharts.getStyle(n,"padding-top")),s=AmCharts.removePx(AmCharts.getStyle(n,"padding-bottom"));isNaN(t)||(i-=t);isNaN(e)||(i-=e);isNaN(o)||(r-=o);isNaN(s)||(r-=s);t=n.style;n=t.width;t=t.height;-1!=n.indexOf("px")&&(i=AmCharts.removePx(n));-1!=t.indexOf("px")&&(r=AmCharts.removePx(t));n=AmCharts.toCoordinate(this.width,i);t=AmCharts.toCoordinate(this.height,r);this.balloon=AmCharts.processObject(this.balloon,AmCharts.AmBalloon,this.theme);this.balloon.chart=this;(n!=this.previousWidth||t!=this.previousHeight)&&0<n&&0<t&&(u.style.width=n+"px",u.style.height=t+"px",f&&f.setSize(n,t));this.balloon.setBounds(2,2,n-2,t);this.realWidth=n;this.realHeight=t;this.divRealWidth=i;this.divRealHeight=r}},destroy:function(){this.chartDiv.innerHTML="";this.clearTimeOuts();this.interval&&clearInterval(this.interval);this.interval=NaN},clearTimeOuts:function(){var t=this.timeOuts,n;if(t)for(n=0;n<t.length;n++)clearTimeout(t[n]);this.timeOuts=[]},clear:function(n){AmCharts.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]);this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null;this.clearTimeOuts();this.interval&&clearInterval(this.interval);this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv));n||AmCharts.removeChart(this)},setMouseCursor:function(n){"auto"==n&&AmCharts.isNN&&(n="default");this.chartDiv.style.cursor=n;this.legendDiv.style.cursor=n},redrawLabels:function(){var t,n;for(this.labels=[],t=this.allLabels,this.createLabelsSet(),n=0;n<t.length;n++)this.drawLabel(t[n])},drawLabel:function(n){if(this.container){var t=n.y,i=n.text,r=n.align,e=n.size,o=n.color,u=n.rotation,s=n.alpha,h=n.bold,f=AmCharts.toCoordinate(n.x,this.realWidth),t=AmCharts.toCoordinate(t,this.realHeight);f||(f=0);t||(t=0);void 0===o&&(o=this.color);isNaN(e)&&(e=this.fontSize);r||(r="start");"left"==r&&(r="start");"right"==r&&(r="end");"center"==r&&(r="middle",u?t=this.realHeight-t+t/2:f=this.realWidth/2-f);void 0===s&&(s=1);void 0===u&&(u=0);t+=e/2;i=AmCharts.text(this.container,i,o,this.fontFamily,e,r,h,s);i.translate(f,t);0!==u&&i.rotate(u);n.url?(i.setAttr("cursor","pointer"),i.click(function(){AmCharts.getURL(n.url)})):i.node.style.pointerEvents="none";this.labelsSet.push(i);this.labels.push(i)}},addLabel:function(n,t,i,r,u,f,e,o,s,h){n={x:n,y:t,text:i,align:r,size:u,color:f,alpha:o,rotation:e,bold:s,url:h};this.container&&this.drawLabel(n);this.allLabels.push(n)},clearLabels:function(){for(var t=this.labels,n=t.length-1;0<=n;n--)t[n].remove();this.labels=[];this.allLabels=[]},updateHeight:function(){var n=this.divRealHeight,t=this.legend,i;return t&&(i=this.legendDiv.offsetHeight,t=t.position,("top"==t||"bottom"==t)&&(n-=i,(0>n||isNaN(n))&&(n=0),this.chartDiv.style.height=n+"px")),n},updateWidth:function(){var t=this.divRealWidth,u=this.divRealHeight,n=this.legend,i,r;if(n){i=this.legendDiv;r=i.offsetWidth;isNaN(n.width)||(r=n.width);var f=i.offsetHeight,i=i.style,e=this.chartDiv.style,n=n.position;("right"==n||"left"==n)&&(t-=r,(0>t||isNaN(t))&&(t=0),e.width=t+"px","left"==n?e.left=r+"px":i.left=t+"px",u>f&&(i.top=(u-f)/2+"px"))}return t},getTitleHeight:function(){var n=0,r=this.titles,t,i;if(0<r.length)for(n=15,t=0;t<r.length;t++)i=r[t].size,isNaN(i)&&(i=this.fontSize+2),n+=i+6;return n},addTitle:function(n,t,i,r,u){return isNaN(t)&&(t=this.fontSize+2),n={text:n,size:t,color:i,alpha:r,bold:u},this.titles.push(n),n},handleWheel:function(n){var t=0;n||(n=window.event);n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3);t&&this.handleWheelReal(t,n.shiftKey);n.preventDefault&&n.preventDefault()},handleWheelReal:function(){},addListeners:function(){var n=this,t=n.chartDiv;document.addEventListener?(n.panEventsEnabled&&(t.style.msTouchAction="none"),"ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){n.handleTouchMove.call(n,t);n.handleTouchStart.call(n,t)},!0),t.addEventListener("touchmove",function(t){n.handleTouchMove.call(n,t)},!0),t.addEventListener("touchend",function(t){n.handleTouchEnd.call(n,t)},!0)),t.addEventListener("mousedown",function(t){n.mouseIsOver=!0;n.handleMouseMove.call(n,t);n.handleMouseDown.call(n,t)},!0),t.addEventListener("mouseover",function(t){n.handleMouseOver.call(n,t)},!0),t.addEventListener("mouseout",function(t){n.handleMouseOut.call(n,t)},!0)):(t.attachEvent("onmousedown",function(t){n.handleMouseDown.call(n,t)}),t.attachEvent("onmouseover",function(t){n.handleMouseOver.call(n,t)}),t.attachEvent("onmouseout",function(t){n.handleMouseOut.call(n,t)}))},dispDUpd:function(){var n;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,n="dataUpdated",this.fire(n,{type:n,chart:this}));this.chartCreated||(n="init",this.fire(n,{type:n,chart:this}));this.chartRendered||(n="rendered",this.fire(n,{type:n,chart:this}),this.chartRendered=!0);n="drawn";this.fire(n,{type:n,chart:this})},validateSize:function(){var n=this,i,t;n.measure();i=n.legend;(n.realWidth!=n.previousWidth||n.realHeight!=n.previousHeight)&&0<n.realWidth&&0<n.realHeight&&(n.sizeChanged=!0,i&&(clearTimeout(n.legendInitTO),t=setTimeout(function(){i.invalidateSize()},100),n.timeOuts.push(t),n.legendInitTO=t),n.marginsUpdated="xy"!=n.type?!1:!0,clearTimeout(n.initTO),t=setTimeout(function(){n.initChart()},150),n.timeOuts.push(t),n.initTO=t);n.renderFix();i&&i.renderFix()},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN;this.invalidateSizeReal()},invalidateSizeReal:function(){var n=this,t;n.marginsUpdated=!1;clearTimeout(n.validateTO);t=setTimeout(function(){n.validateSize()},5);n.timeOuts.push(t);n.validateTO=t},validateData:function(n){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated="xy"!=this.type?!1:!0,this.initChart(n))},validateNow:function(){this.chartRendered=!1;this.write(this.div)},showItem:function(n){n.hidden=!1;this.initChart()},hideItem:function(n){n.hidden=!0;this.initChart()},hideBalloon:function(){var n=this;clearInterval(n.hoverInt);clearTimeout(n.balloonTO);n.hoverInt=setTimeout(function(){n.hideBalloonReal.call(n)},n.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var n=this.balloon;n&&n.hide()},showBalloon:function(n,t,i,r,u){var f=this;clearTimeout(f.balloonTO);clearInterval(f.hoverInt);f.balloonTO=setTimeout(function(){f.showBalloonReal.call(f,n,t,i,r,u)},1)},showBalloonReal:function(n,t,i,r,u){this.handleMouseMove();var f=this.balloon;f.enabled&&(f.followCursor(!1),f.changeColor(t),!i||f.fixedPosition?(f.setPosition(r,u),f.followCursor(!1)):f.followCursor(!0),n&&f.showBalloon(n))},handleTouchMove:function(n){this.hideBalloon();var t=this.chartDiv;n.touches&&(n=n.touches.item(0),this.mouseX=n.pageX-AmCharts.findPosX(t),this.mouseY=n.pageY-AmCharts.findPosY(t))},handleMouseOver:function(){AmCharts.resetMouseOver();this.mouseIsOver=!0},handleMouseOut:function(){AmCharts.resetMouseOver();this.mouseIsOver=!1},handleMouseMove:function(n){var i,r,t,u,f;if(this.mouseIsOver&&(t=this.chartDiv,n||(n=window.event),n)){this.posX=AmCharts.findPosX(t);this.posY=AmCharts.findPosY(t);switch(this.mouseMode){case 1:i=n.clientX-this.posX;r=n.clientY-this.posY;this.divIsFixed||(t=document.body,t&&(u=t.scrollLeft,y1=t.scrollTop),(t=document.documentElement)&&(f=t.scrollLeft,y2=t.scrollTop),u=Math.max(u,f),f=Math.max(y1,y2),i+=u,r+=f);break;case 0:this.divIsFixed?(i=n.clientX-this.posX,r=n.clientY-this.posY):(i=n.pageX-this.posX,r=n.pageY-this.posY)}n.touches&&(n=n.touches.item(0),i=n.pageX-this.posX,r=n.pageY-this.posY);this.mouseX=i-this.dmouseX;this.mouseY=r-this.dmouseY}},handleTouchStart:function(n){this.handleMouseDown(n)},handleTouchEnd:function(n){AmCharts.resetMouseOver();this.handleReleaseOutside(n)},handleReleaseOutside:function(){},handleMouseDown:function(n){AmCharts.resetMouseOver();this.mouseIsOver=!0;n&&n.preventDefault&&(this.panEventsEnabled?n.preventDefault():n.touches||n.preventDefault())},addLegend:function(n,t){n=AmCharts.processObject(n,AmCharts.AmLegend,this.theme);n.divId=t;var i;return i="object"!=typeof t&&t?document.getElementById(t):t,this.legend=n,n.chart=this,i?(n.div=i,n.position="outside",n.autoMargins=!1):n.div=this.legendDiv,i=this.handleLegendEvent,this.listenTo(n,"showItem",i),this.listenTo(n,"hideItem",i),this.listenTo(n,"clickMarker",i),this.listenTo(n,"rollOverItem",i),this.listenTo(n,"rollOutItem",i),this.listenTo(n,"rollOverMarker",i),this.listenTo(n,"rollOutMarker",i),this.listenTo(n,"clickLabel",i),n},removeLegend:function(){this.legend=void 0;this.legendDiv.innerHTML=""},handleResize:function(){(AmCharts.isPercents(this.width)||AmCharts.isPercents(this.height))&&this.invalidateSizeReal();this.renderFix()},renderFix:function(){if(!AmCharts.VML){var n=this.container;n&&n.renderFix()}},getSVG:function(){if(AmCharts.hasSVG)return this.container},animate:function(n,t,i,r,u,f,e){return n["an_"+t]&&AmCharts.removeFromArray(this.animations,n["an_"+t]),i={obj:n,frame:0,attribute:t,from:i,to:r,time:u,effect:f,suffix:e},n["an_"+t]=i,this.animations.push(i),i},setLegendData:function(n){var t=this.legend;t&&t.setData(n)},startInterval:function(){var n=this;clearInterval(n.interval);n.interval=setInterval(function(){n.updateAnimations.call(n)},AmCharts.updateRate)},stopAnim:function(n){AmCharts.removeFromArray(this.animations,n)},updateAnimations:function(){var t;for(this.container&&this.container.update(),t=this.animations.length-1;0<=t;t--){var n=this.animations[t],i=1e3*n.time/AmCharts.updateRate,f=n.frame+1,r=n.obj,u=n.attribute;if(f<=i){n.frame++;var e=Number(n.from),o=Number(n.to)-e,i=AmCharts[n.effect](0,f,e,o,i);0===o?(this.animations.splice(t,1),r.node.style[u]=Number(n.to)+n.suffix):r.node.style[u]=i+n.suffix}else r.node.style[u]=Number(n.to)+n.suffix,this.animations.splice(t,1)}},inIframe:function(){try{return window.self!==window.top}catch(n){return!0}},brr:function(){var i=window.location.hostname.split("."),u,t,r;if(2<=i.length&&(u=i[i.length-2]+"."+i[i.length-1]),this.amLink&&(i=this.amLink.parentNode)&&i.removeChild(this.amLink),i=this.creditsPosition,"amcharts.com"!=u||!0===this.inIframe()){var e=u=0,s=this.realWidth,h=this.realHeight;("serial"==this.type||"xy"==this.type)&&(u=this.marginLeftReal,e=this.marginTopReal,s=u+this.plotAreaWidth,h=e+this.plotAreaHeight);var n="http://www.amcharts.com/javascript-charts/",f="JavaScript charts",r="JS chart by amCharts";"ammap"==this.product&&(n="http://www.ammap.com/javascript-maps/",f="Interactive JavaScript maps",r="JS map by amCharts");t=document.createElement("a");r=document.createTextNode(r);t.setAttribute("href",n);t.setAttribute("title",f);t.appendChild(r);this.chartDiv.appendChild(t);this.amLink=t;n=t.style;n.position="absolute";n.textDecoration="none";n.color=this.color;n.fontFamily=this.fontFamily;n.fontSize=this.fontSize+"px";n.opacity=.7;n.display="block";var f=t.offsetWidth,t=t.offsetHeight,r=5+u,o=e+5;"bottom-left"==i&&(r=5+u,o=h-t-3);"bottom-right"==i&&(r=s-f-5,o=h-t-3);"top-right"==i&&(r=s-f-5,o=e+5);n.left=r+"px";n.top=o+"px"}}});AmCharts.Slice=AmCharts.Class({construct:function(){}});AmCharts.SerialDataItem=AmCharts.Class({construct:function(){}});AmCharts.GraphDataItem=AmCharts.Class({construct:function(){}});AmCharts.Guide=AmCharts.Class({construct:function(n){this.cname="Guide";AmCharts.applyTheme(this,n,this.cname)}});AmCharts.AmGraph=AmCharts.Class({construct:function(n){this.cname="AmGraph";this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=4;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;this.pointPosition="middle";this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBulletsAt=this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletBorderAlpha=0;this.bulletAlpha=1;this.bulletSize=8;this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=this.dx=0;this.periodValue="";this.clustered=!0;this.periodSpan=1;this.y=this.x=0;this.switchable=!0;this.tcc=this.minDistance=1;this.labelRotation=0;this.labelAnchor="auto";this.labelOffset=3;AmCharts.applyTheme(this,n,this.cname)},draw:function(){var n=this.chart,e=this.chart.type,i,t,u,r,f;isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:n.decimalSeparator,thousandsSeparator:n.thousandsSeparator});i=n.container;this.container=i;this.destroy();t=i.set();u=i.set();this.behindColumns?(n.graphsBehindSet.push(t),n.bulletBehindSet.push(u)):(n.graphsSet.push(t),n.bulletSet.push(u));r=this.bulletAxis;AmCharts.isString(r)&&(this.bulletAxis=n.getValueAxisById(r));this.bulletSet=u;this.scrollbar||(r=n.marginLeftReal,f=n.marginTopReal,t.translate(r,f),u.translate(r,f));i=i.set();AmCharts.remove(this.columnsSet);t.push(i);this.set=t;this.columnsSet=i;this.columnsArray=[];this.ownColumns=[];this.allBullets=[];this.animationArray=[];t=this.labelPosition;t||(i=this.valueAxis.stackType,t="top","column"==this.type&&(n.rotate&&(t="right"),"100%"==i||"regular"==i)&&(t="middle"),this.labelPosition=t);AmCharts.ifArray(this.data)&&(n=!1,"xy"==e?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(n=!0):this.valueAxis.axisCreated&&(n=!0),!this.hidden&&n&&this.createGraph())},createGraph:function(){var n=this,t=n.chart;if(n.startAlpha=t.startAlpha,n.seqAn=t.sequencedAnimation,n.baseCoord=n.valueAxis.baseCoord,void 0===n.fillAlphas&&(n.fillAlphas=0),n.bulletColorR=n.bulletColor,void 0===n.bulletColorR&&(n.bulletColorR=n.lineColorR,n.bulletColorNegative=n.negativeLineColor),void 0===n.bulletAlpha&&(n.bulletAlpha=n.lineAlpha),clearTimeout(n.playedTO),!isNaN(n.valueAxis.min)&&!isNaN(n.valueAxis.max)){switch(t.type){case"serial":n.categoryAxis&&(n.createSerialGraph(),"candlestick"==n.type&&1>n.valueAxis.minMaxMultiplier&&n.positiveClip(n.set));break;case"radar":n.createRadarGraph();break;case"xy":n.createXYGraph();n.positiveClip(n.set)}n.playedTO=setTimeout(function(){n.setAnimationPlayed.call(n)},500*n.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var o=[],s=[],e=this.xAxis,h=this.yAxis,i;for(this.pmh=h.viH+1,this.pmw=e.viW+1,this.pmy=this.pmx=0,i=this.start;i<=this.end;i++){var t=this.data[i].axes[e.id].graphs[this.id],n=t.values,r=n.x,u=n.y,n=e.getCoordinate(r),f=h.getCoordinate(u);isNaN(r)||isNaN(u)||!(o.push(n),s.push(f),r=this.createBullet(t,n,f,i),u=this.labelText)||(t=this.createLabel(t,n,f,u),this.positionLabel(n,f,t,r),this.allBullets.push(t))}this.drawLineGraph(o,s);this.launchAnimation()},createRadarGraph:function(){for(var c=this.valueAxis.stackType,f=[],e=[],o,s,t,n,i,u,h,r=this.start;r<=this.end;r++)t=this.data[r].axes[this.valueAxis.id].graphs[this.id],n="none"==c||"3d"==c?t.values.value:t.values.close,isNaN(n)?(this.drawLineGraph(f,e),f=[],e=[]):(i=this.y-(this.valueAxis.getCoordinate(n)-this.height),u=180-360/(this.end-this.start+1)*r,n=i*Math.sin(u/180*Math.PI),i*=Math.cos(u/180*Math.PI),f.push(n),e.push(i),u=this.createBullet(t,n,i,r),h=this.labelText,h&&(t=this.createLabel(t,n,i,h),this.positionLabel(n,i,t,u),this.allBullets.push(t)),isNaN(o)&&(o=n),isNaN(s)&&(s=i));f.push(o);e.push(s);this.drawLineGraph(f,e);this.launchAnimation()},positionLabel:function(n,t,i,r,u,f){fontSize=this.fontSize;lA="middle";lR=0;lC=!1;lP=this.labelPosition;lBB=i.getBBox();cBB=null;graphDataItem=r.graphDataItem;isRotated=this.chart.rotate;isNegative=graphDataItem.isNegative;void 0===fontSize&&(fontSize=this.chart.fontSize);t-=lBB.height/8;switch(lP){case"top":lP=isRotated?"top":isNegative?"bottom":"top";break;case"right":lP=isRotated?isNegative?"left":"right":"right";break;case"bottom":lP=isRotated?"bottom":isNegative?"top":"bottom";break;case"left":lP=isRotated?isNegative?"right":"left":"left"}u=graphDataItem.columnGraphics;var e=f=0;u&&(f=u.x,e=u.y);switch(lP){case"top":t-=r.size/2+lBB.height/2+this.labelOffset;break;case"right":lA="start";n+=r.size/2+this.labelOffset;break;case"bottom":t+=r.size/2+lBB.height/2+this.labelOffset;break;case"left":lA="end";n-=r.size/2+this.labelOffset;break;case"inside":"column"==this.type&&(lC=!0,isRotated?isNegative?(lA="end",n=f-3-this.labelOffset):(lA="start",n=f+3+this.labelOffset):t=isNegative?e+7+this.labelOffset:e-10-this.labelOffset);break;case"middle":"column"==this.type&&(lC=!0,isRotated?n-=(n-f)/2+this.labelOffset-3:t-=(t-e)/2+this.labelOffset-3)}return"auto"!=this.labelAnchor&&(lA=this.labelAnchor),i.attr({"text-anchor":lA}),this.labelRotation&&i.rotate(this.labelRotation),i.translate(n,t),lBB=i.getBBox(),u&&lC&&(lBB.height>graphDataItem.columnHeight||lBB.width>graphDataItem.columnWidth)&&(i.remove(),i=!1),i&&"serial"==this.chart.type&&(isRotated?(0>t||t>this.height)&&(i.remove(),i=!1):(0>n||n>this.width)&&(i.remove(),i=!1)),i},getGradRotation:function(){var n=270;return"horizontal"==this.gradientOrientation&&(n=0),this.gradientRotation=n},createSerialGraph:function(){var wr,tr,oi,ff,si,ef,r,kr,yi,lu,ti,vu,ye,pe,cf,lf,af,yt,we,be,yu,vf,yf,pf,lt,wf,bf,kf,df,gf,ue,ge,fe,pu,ee,er,ar;this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var tu=this.chart,bi=this.id,li=this.index,st=this.data,ot=this.chart.container,f=this.valueAxis,w=this.type,y=this.columnWidthReal,pt=this.showBulletsAt;isNaN(this.columnWidth)||(y=this.columnWidth);isNaN(y)&&(y=.8);var ai=this.useNegativeColorIfDown,b=this.width,nt=this.height,uo=this.y,k=this.rotate,fi=this.columnCount,iu=AmCharts.toCoordinate(this.cornerRadiusTop,y/2),wu=this.connect,o=[],s=[],ki,or,oe,se,vi=this.chart.graphs.length,vr,it=this.dx/this.tcc,et=this.dy/this.tcc,wt=f.stackType,di=this.start,sr=this.end,gi=this.scrollbar,he=this.categoryAxis,ce=this.baseCoord,bu=this.negativeBase,dt=this.columnIndex,rt=this.lineThickness,ht=this.lineAlpha,ku=this.lineColorR,gt=this.dashLength,hr=this.set,le,ru=this.getGradRotation(),ni=this.chart.columnSpacing,ut=he.cellWidth,ae=(ut*y-fi)/fi;ni>ae&&(ni=ae);var ct,n,uu,du=nt+1,gu=b+1,fu=0,nf=0,tf,rf,eu,ou,uf=this.fillColorsR,nr=this.negativeFillColors,ei=this.negativeLineColor,yr=this.fillAlphas,pr=this.negativeFillAlphas;if("object"==typeof yr&&(yr=yr[0]),"object"==typeof pr&&(pr=pr[0]),wr=f.getCoordinate(f.min),f.logarithmic&&(wr=f.getCoordinate(f.minReal)),this.minCoord=wr,this.resetBullet&&(this.bullet="none"),gi||"line"!=w&&"smoothedLine"!=w&&"step"!=w||(1==st.length&&"step"!=w&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!nr&&void 0==ei||ai)||(tr=bu,tr>f.max&&(tr=f.max),tr<f.min&&(tr=f.min),f.logarithmic&&(tr=f.minReal),oi=f.getCoordinate(tr),ff=f.getCoordinate(f.max),k?(du=nt,gu=Math.abs(ff-oi),tf=nt,rf=Math.abs(wr-oi),ou=nf=0,f.reversed?(fu=0,eu=oi):(fu=oi,eu=0)):(gu=b,du=Math.abs(ff-oi),rf=b,tf=Math.abs(wr-oi),eu=fu=0,f.reversed?(ou=uo,nf=oi):ou=oi+1)),si=Math.round,this.pmx=si(fu),this.pmy=si(nf),this.pmh=si(du),this.pmw=si(gu),this.nmx=si(eu),this.nmy=si(ou),this.nmh=si(tf),this.nmw=si(rf),AmCharts.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(fi=1),y="column"==w?(ut*y-ni*(fi-1))/fi:ut*y,1>y&&(y=1),ef=this.fixedColumnWidth,isNaN(ef)||(y=ef),"line"==w||"step"==w||"smoothedLine"==w){if(0<di){for(r=di-1;-1<r;r--)if(ct=st[r],n=ct.axes[f.id].graphs[bi],uu=n.values.value,!isNaN(uu)){di=r;break}if(this.lineColorField)for(r=di;-1<r;r--)if(ct=st[r],n=ct.axes[f.id].graphs[bi],n.lineColor){this.bulletColorSwitched=this.lineColorSwitched=n.lineColor;break}if(this.fillColorsField)for(r=di;-1<r;r--)if(ct=st[r],n=ct.axes[f.id].graphs[bi],n.fillColors){this.fillColorsSwitched=n.fillColors;break}if(this.dashLengthField)for(r=di;-1<r;r--)if(ct=st[r],n=ct.axes[f.id].graphs[bi],!isNaN(n.dashLength)){this.dashLengthSwitched=n.dashLength;break}}if(sr<st.length-1)for(r=sr+1;r<st.length;r++)if(ct=st[r],n=ct.axes[f.id].graphs[bi],uu=n.values.value,!isNaN(uu)){sr=r;break}}sr<st.length-1&&sr++;var l=[],a=[],ir=!1;("line"==w||"step"==w||"smoothedLine"==w)&&(this.stackable&&"regular"==wt||"100%"==wt||this.fillToGraph)&&(ir=!0);var ve=this.noStepRisers,su=-1e3,hu=-1e3,cu=this.minDistance,rr=!0,br=!1;for(r=di;r<=sr;r++){if(ct=st[r],n=ct.axes[f.id].graphs[bi],n.index=r,yi=NaN,ai&&void 0==this.openField)for(lu=r+1;lu<st.length&&(!st[lu]||!(kr=st[r+1].axes[f.id].graphs[bi])||!kr.values||(yi=kr.values.value,isNaN(yi)));lu++);var v,h,c,tt,bt=NaN,i=NaN,t=NaN,e=NaN,u=NaN,ur=NaN,hi=NaN,fr=NaN,ci=NaN,ii=NaN,ri=NaN,d=NaN,g=NaN,p=NaN,of=NaN,sf=NaN,ft=NaN,lt=void 0,pi=uf,cr=yr,ui=ku,at,kt,hf=this.proCandlesticks,dr=this.pattern;if(void 0!=n.pattern&&(dr=n.pattern),void 0!=n.color&&(pi=n.color),n.fillColors&&(pi=n.fillColors),isNaN(n.alpha)||(cr=n.alpha),isNaN(n.dashLength)||(gt=n.dashLength),ti=n.values,f.recalculateToPercents&&(ti=n.percents),ti){if(p=this.stackable&&"none"!=wt&&"3d"!=wt?ti.close:ti.value,("candlestick"==w||"ohlc"==w)&&(p=ti.close,sf=ti.low,hi=f.getCoordinate(sf),of=ti.high,ci=f.getCoordinate(of)),ft=ti.open,t=f.getCoordinate(p),isNaN(ft)||(u=f.getCoordinate(ft),ai&&(yi=ft,ft=u=NaN)),ai&&(void 0==this.openField?kr&&(kr.isNegative=yi<p?!0:!1,isNaN(yi)&&(n.isNegative=!rr)):n.isNegative=yi>p?!0:!1),!gi)switch(this.showBalloonAt){case"close":n.y=t;break;case"open":n.y=u;break;case"high":n.y=ci;break;case"low":n.y=hi}var bt=ct.x[he.id],lr=this.periodSpan-1,vt=Math.floor(ut/2)+Math.floor(lr*ut/2),wi=vt,au=0;"left"==this.stepDirection&&(au=(2*ut+lr*ut)/2,bt-=au);"center"==this.stepDirection&&(au=ut/2,bt-=au);"start"==this.pointPosition&&(bt-=ut/2+Math.floor(lr*ut/2),vt=0,wi=Math.floor(ut)+Math.floor(lr*ut));"end"==this.pointPosition&&(bt+=ut/2+Math.floor(lr*ut/2),vt=Math.floor(ut)+Math.floor(lr*ut),wi=0);ve&&(vu=this.columnWidth,isNaN(vu)||(vt*=vu,wi*=vu));gi||(n.x=bt);-1e5>bt&&(bt=-1e5);bt>b+1e5&&(bt=b+1e5);k?(i=t,e=u,u=t=bt,isNaN(ft)&&!this.fillToGraph&&(e=ce),ur=hi,fr=ci):(e=i=bt,isNaN(ft)&&!this.fillToGraph&&(u=ce));(!hf&&p<ft||hf&&p<le)&&(n.isNegative=!0,nr&&(pi=nr),pr&&(cr=pr),void 0!=ei&&(ui=ei));br=!1;isNaN(p)||(ai?p>yi?(rr&&(br=!0),rr=!1):(rr||(br=!0),rr=!0):n.isNegative=p<bu?!0:!1,le=p);switch(w){case"line":isNaN(p)?wu||(this.drawLineGraph(o,s,l,a),o=[],s=[],l=[],a=[]):((Math.abs(i-su)>=cu||Math.abs(t-hu)>=cu)&&(o.push(i),s.push(t),su=i,hu=t),ii=i,ri=t,d=i,g=t,!ir||isNaN(u)||isNaN(e)||(l.push(e),a.push(u)),(br||void 0!=n.lineColor||void 0!=n.fillColors||!isNaN(n.dashLength))&&(this.drawLineGraph(o,s,l,a),o=[i],s=[t],l=[],a=[],!ir||isNaN(u)||isNaN(e)||(l.push(e),a.push(u)),ai?rr?(this.lineColorSwitched=ku,this.fillColorsSwitched=uf):(this.lineColorSwitched=ei,this.fillColorsSwitched=nr):(this.lineColorSwitched=n.lineColor,this.fillColorsSwitched=n.fillColors),this.dashLengthSwitched=n.dashLength),n.gap&&(this.drawLineGraph(o,s,l,a),o=[],s=[],l=[],a=[]));break;case"smoothedLine":isNaN(p)?wu||(this.drawSmoothedGraph(o,s,l,a),o=[],s=[],l=[],a=[]):((Math.abs(i-su)>=cu||Math.abs(t-hu)>=cu)&&(o.push(i),s.push(t),su=i,hu=t),ii=i,ri=t,d=i,g=t,!ir||isNaN(u)||isNaN(e)||(l.push(e),a.push(u)),void 0==n.lineColor&&void 0==n.fillColors&&isNaN(n.dashLength)||(this.drawSmoothedGraph(o,s,l,a),o=[i],s=[t],l=[],a=[],!ir||isNaN(u)||isNaN(e)||(l.push(e),a.push(u)),this.lineColorSwitched=n.lineColor,this.fillColorsSwitched=n.fillColors,this.dashLengthSwitched=n.dashLength),n.gap&&(this.drawSmoothedGraph(o,s,l,a),o=[],s=[],l=[],a=[]));break;case"step":isNaN(p)?wu||((1>=this.periodSpan||1<this.periodSpan&&i-ki>vt+wi)&&(ki=or=NaN),this.drawLineGraph(o,s,l,a),o=[],s=[],l=[],a=[]):(k?(isNaN(ki)||(o.push(ki),s.push(t-vt)),s.push(t-vt),o.push(i),s.push(t+wi),o.push(i),!ir||isNaN(u)||isNaN(e)||(l.push(oe),a.push(u-vt),l.push(e),a.push(u-vt),l.push(e),a.push(u+wi))):(isNaN(or)||(s.push(or),o.push(ki),s.push(or),o.push(i-vt)),o.push(i-vt),s.push(t),o.push(i+wi),s.push(t),!ir||isNaN(u)||isNaN(e)||(l.push(e-vt),a.push(se),l.push(e-vt),a.push(u),l.push(e+wi),a.push(u))),ki=i,or=t,oe=e,se=u,ii=i,ri=t,d=i,g=t,(br||void 0!=n.lineColor||void 0!=n.fillColors||!isNaN(n.dashLength))&&(ye=o[o.length-2],pe=s[s.length-2],o.pop(),s.pop(),this.drawLineGraph(o,s,l,a),o=[ye],s=[pe],l=[],a=[],this.lineColorSwitched=n.lineColor,this.fillColorsSwitched=n.fillColors,this.dashLengthSwitched=n.dashLength,ai&&(rr?(this.lineColorSwitched=ku,this.fillColorsSwitched=uf):(this.lineColorSwitched=ei,this.fillColorsSwitched=nr))),(ve||n.gap)&&(ki=or=NaN,this.drawLineGraph(o,s,l,a),o=[],s=[],l=[],a=[]));break;case"column":at=ui;void 0!=n.lineColor&&(at=n.lineColor);cf=this.topRadius;isNaN(p)||(ai||(n.isNegative=p<bu?!0:!1),n.isNegative&&(nr&&(pi=nr),void 0!=ei&&(at=ei)),lf=f.min,af=f.max,p<lf&&ft<lf||p>af&&ft>af||(k?("3d"==wt?(h=t-(fi/2-this.depthCount+1)*(y+ni)+ni/2+et*dt,v=e+it*dt,yt=dt):(h=Math.floor(t-(fi/2-dt)*(y+ni)+ni/2),v=e,yt=0),c=y,ii=i,ri=h+y/2,isNaN(e)||e>i&&!n.isNegative&&(ii=e),d=i,g=h+y/2,h+c>nt+yt*et&&(c=nt-h+yt*et),h<yt*et&&(c+=h,h=yt*et),tt=i-e,we=v,v=AmCharts.fitToBounds(v,0,b),tt+=we-v,tt=AmCharts.fitToBounds(tt,-v,b-v+it*dt),h<nt&&0<c&&(lt=new AmCharts.Cuboid(ot,tt,c,it-tu.d3x,et-tu.d3y,pi,cr,rt,at,ht,ru,iu,k,gt,dr,cf),n.columnWidth=Math.abs(tt),n.columnHeight=Math.abs(c))):("3d"==wt?(v=i-(fi/2-this.depthCount+1)*(y+ni)+ni/2+it*dt,h=u+et*dt,yt=dt):(v=i-(fi/2-dt)*(y+ni)+ni/2,h=u,yt=0),c=y,ii=v+y/2,ri=t,isNaN(u)||u<t&&!n.isNegative&&(ri=u),d=v+y/2,g=t,v+c>b+yt*it&&(c=b-v+yt*it),v<yt*it&&(c+=v-yt*it,v=yt*it),tt=t-u,be=h,h=AmCharts.fitToBounds(h,this.dy,nt),tt+=be-h,tt=AmCharts.fitToBounds(tt,-h+et*dt,nt-h),v<b+dt*it&&0<c&&(this.showOnAxis&&(h-=et/2),lt=new AmCharts.Cuboid(ot,c,tt,it-tu.d3x,et-tu.d3y,pi,cr,rt,at,this.lineAlpha,ru,iu,k,gt,dr,cf),n.columnHeight=Math.abs(tt),n.columnWidth=Math.abs(c)))),lt&&(kt=lt.set,n.columnGraphics=kt,kt.translate(v,h),this.columnsSet.push(kt),(n.url||this.showHandOnHover)&&kt.setAttr("cursor","pointer"),!gi)&&("none"==wt&&(vr=k?(this.end+1-r)*vi-li:vi*r+li),"3d"==wt&&(k?(vr=(this.end+1-r)*vi-li-1e3*this.depthCount,ii+=it*this.columnIndex,d+=it*this.columnIndex,n.y+=it*this.columnIndex):(vr=(vi-li)*(r+1)+1e3*this.depthCount,ri+=et*this.columnIndex,g+=et*this.columnIndex,n.y+=et*this.columnIndex)),("regular"==wt||"100%"==wt)&&(vr=k?0<ti.value?(this.end+1-r)*vi+li:(this.end+1-r)*vi-li:0<ti.value?vi*r+li:vi*r-li),this.columnsArray.push({column:lt,depth:vr}),n.x=k?h+c/2:v+c/2,this.ownColumns.push(lt),this.animateColumns(lt,r,i,e,t,u),this.addListeners(kt,n)));break;case"candlestick":isNaN(ft)||isNaN(p)||(at=ui,void 0!=n.lineColor&&(at=n.lineColor),k?(h=t-y/2,v=e,c=y,h+c>nt&&(c=nt-h),0>h&&(c+=h,h=0),h<nt&&0<c)&&(p>ft?(yf=[i,fr],pf=[e,ur]):(yf=[e,fr],pf=[i,ur]),!isNaN(fr)&&!isNaN(ur)&&t<nt&&0<t&&(yu=AmCharts.line(ot,yf,[t,t],at,ht,rt),vf=AmCharts.line(ot,pf,[t,t],at,ht,rt)),tt=i-e,lt=new AmCharts.Cuboid(ot,tt,c,it,et,pi,yr,rt,at,ht,ru,iu,k,gt,dr)):(v=i-y/2,h=u+rt/2,c=y,v+c>b&&(c=b-v),0>v&&(c+=v,v=0),tt=t-u,v<b&&0<c)&&(hf&&p>=ft&&(cr=0),lt=new AmCharts.Cuboid(ot,c,tt,it,et,pi,cr,rt,at,ht,ru,iu,k,gt,dr),p>ft?(wf=[t,ci],bf=[u,hi]):(wf=[u,ci],bf=[t,hi]),!isNaN(ci)&&!isNaN(hi)&&i<b&&0<i&&(yu=AmCharts.line(ot,[i,i],wf,at,ht,rt),vf=AmCharts.line(ot,[i,i],bf,at,ht,rt))),lt&&(kt=lt.set,n.columnGraphics=kt,hr.push(kt),kt.translate(v,h-rt/2),(n.url||this.showHandOnHover)&&kt.setAttr("cursor","pointer"),yu&&(hr.push(yu),hr.push(vf)),ii=i,ri=t,k?(g=t,d=i,"open"==pt&&(d=e),"high"==pt&&(d=fr),"low"==pt&&(d=ur)):(g=t,"open"==pt&&(g=u),"high"==pt&&(g=ci),"low"==pt&&(g=hi),d=i),gi||(n.x=k?h+c/2:v+c/2,this.animateColumns(lt,r,i,e,t,u),this.addListeners(kt,n))));break;case"ohlc":if(!(isNaN(ft)||isNaN(of)||isNaN(sf)||isNaN(p))){if(p<ft&&(n.isNegative=!0,void 0!=ei&&(ui=ei)),k){var ne=t-y/2,ne=AmCharts.fitToBounds(ne,0,nt),ke=AmCharts.fitToBounds(t,0,nt),te=t+y/2,te=AmCharts.fitToBounds(te,0,nt);df=AmCharts.line(ot,[e,e],[ne,ke],ui,ht,rt,gt);0<t&&t<nt&&(kf=AmCharts.line(ot,[ur,fr],[t,t],ui,ht,rt,gt));gf=AmCharts.line(ot,[i,i],[ke,te],ui,ht,rt,gt);g=t;d=i;"open"==pt&&(d=e);"high"==pt&&(d=fr);"low"==pt&&(d=ur)}else{var ie=i-y/2,ie=AmCharts.fitToBounds(ie,0,b),de=AmCharts.fitToBounds(i,0,b),re=i+y/2,re=AmCharts.fitToBounds(re,0,b);df=AmCharts.line(ot,[ie,de],[u,u],ui,ht,rt,gt);0<i&&i<b&&(kf=AmCharts.line(ot,[i,i],[hi,ci],ui,ht,rt,gt));gf=AmCharts.line(ot,[de,re],[t,t],ui,ht,rt,gt);g=t;"open"==pt&&(g=u);"high"==pt&&(g=ci);"low"==pt&&(g=hi);d=i}hr.push(df);hr.push(kf);hr.push(gf);ii=i;ri=t}}if(!gi&&!isNaN(p)&&(ue=this.hideBulletsCount,(this.end-this.start<=ue||0===ue)&&(ge=this.createBullet(n,d,g,r),fe=this.labelText,fe&&(pu=this.createLabel(n,d,g,fe),(pu=this.positionLabel(ii,ri,pu,ge,c,tt))&&this.allBullets.push(pu)),("regular"==wt||"100%"==wt)&&(ee=f.totalText,ee)))){er=this.createLabel(n,0,0,ee,f.totalTextColor);this.allBullets.push(er);var no=er.getBBox(),to=no.width,io=no.height,gr,nu,ro=f.totals[r];ro&&ro.remove();ar=0;"column"!=w&&(ar=bulletSize);k?(nu=t,gr=0>p?i-to/2-2-ar:i+to/2+3+ar):(gr=i,nu=0>p?t+io/2+ar:t-io/2-3-ar);er.translate(gr,nu);f.totals[r]=er;k?(0>nu||nu>nt)&&er.remove():(0>gr||gr>b)&&er.remove()}}}("line"==w||"step"==w||"smoothedLine"==w)&&("smoothedLine"==w?this.drawSmoothedGraph(o,s,l,a):this.drawLineGraph(o,s,l,a),gi||this.launchAnimation());this.bulletsHidden&&this.hideBullets()},animateColumns:function(n,t,i){var r=this;i=r.chart.startDuration;0<i&&!r.animationPlayed&&(r.seqAn?(n.set.hide(),r.animationArray.push(n),n=setTimeout(function(){r.animate.call(r)},i/(r.end-r.start+1)*(t-r.start)*1e3),r.timeOuts.push(n)):r.animate(n))},createLabel:function(n,t,i,r,u){var e=this.chart,f=n.labelColor,o;return f||(f=this.color),f||(f=e.color),u&&(f=u),u=this.fontSize,void 0===u&&(this.fontSize=u=e.fontSize),o=this.labelFunction,r=e.formatString(r,n),r=AmCharts.cleanFromEmpty(r),o&&(r=o(n,r)),n=AmCharts.text(this.container,r,f,e.fontFamily,u),n.node.style.pointerEvents="none",n.translate(t,i),this.bulletSet.push(n),n},positiveClip:function(n){n.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(n){n.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(n,t,i,r){var u=this,a,s,w;if(1<n.length){var c=u.set,v=u.chart,h=u.container,y=h.set(),p=h.set();c.push(p);c.push(y);var l=u.lineAlpha,e=u.lineThickness,c=u.fillAlphas,d=u.lineColorR,f=u.negativeLineAlpha;isNaN(f)&&(f=l);a=u.lineColorSwitched;a&&(d=a);a=u.fillColorsR;s=u.fillColorsSwitched;s&&(a=s);w=u.dashLength;(s=u.dashLengthSwitched)&&(w=s);var s=u.negativeLineColor,b=u.negativeFillColors,k=u.negativeFillAlphas,o=u.baseCoord;0!==u.negativeBase&&(o=u.valueAxis.getCoordinate(u.negativeBase));l=AmCharts.line(h,n,t,d,l,e,w,!1,!0);y.push(l);y.click(function(n){u.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){u.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){u.handleGraphEvent(n,"rollOutGraph")});void 0===s||u.useNegativeColorIfDown||(e=AmCharts.line(h,n,t,s,f,e,w,!1,!0),p.push(e));(0<c||0<k)&&(e=n.join(";").split(";"),f=t.join(";").split(";"),l=v.type,"serial"==l?0<i.length?(i.reverse(),r.reverse(),e=n.concat(i),f=t.concat(r)):u.rotate?(f.push(f[f.length-1]),e.push(o),f.push(f[0]),e.push(o),f.push(f[0]),e.push(e[0])):(e.push(e[e.length-1]),f.push(o),e.push(e[0]),f.push(o),e.push(n[0]),f.push(f[0])):"xy"==l&&(t=u.fillToAxis)&&(AmCharts.isString(t)&&(t=v.getValueAxisById(t)),"H"==t.orientation?(o="top"==t.position?0:t.viH,e.push(e[e.length-1]),f.push(o),e.push(e[0]),f.push(o),e.push(n[0]),f.push(f[0])):(o="left"==t.position?0:t.viW,f.push(f[f.length-1]),e.push(o),f.push(f[0]),e.push(o),f.push(f[0]),e.push(e[0]))),n=u.gradientRotation,0<c&&(v=AmCharts.polygon(h,e,f,a,c,1,"#000",0,n),v.pattern(u.pattern),y.push(v)),b||void 0!==s)&&(isNaN(k)&&(k=c),b||(b=s),h=AmCharts.polygon(h,e,f,b,k,1,"#000",0,n),h.pattern(u.pattern),p.push(h),p.click(function(n){u.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){u.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){u.handleGraphEvent(n,"rollOutGraph")}));u.applyMask(p,y)}},applyMask:function(n,t){var i=n.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<i&&this.negativeClip(n))},drawSmoothedGraph:function(n,t,i,r){if(1<n.length){var e=this.set,s=this.container,c=s.set(),l=s.set();e.push(l);e.push(c);var o=this.lineAlpha,u=this.lineThickness,e=this.dashLength,w=this.fillAlphas,h=this.lineColorR,a=this.fillColorsR,v=this.negativeLineColor,y=this.negativeFillColors,b=this.negativeFillAlphas,p=this.baseCoord,f=this.lineColorSwitched;f&&(h=f);(f=this.fillColorsSwitched)&&(a=f);f=this.negativeLineAlpha;isNaN(f)&&(f=o);o=new AmCharts.Bezier(s,n,t,h,o,u,a,0,e);c.push(o.path);void 0!==v&&(u=new AmCharts.Bezier(s,n,t,v,f,u,a,0,e),l.push(u.path));0<w&&(o=n.join(";").split(";"),h=t.join(";").split(";"),u="",0<i.length?(i.push("M"),r.push("M"),i.reverse(),r.reverse(),o=n.concat(i),h=t.concat(r)):(this.rotate?(u+=" L"+p+","+t[t.length-1],u+=" L"+p+","+t[0]):(u+=" L"+n[n.length-1]+","+p,u+=" L"+n[0]+","+p),u+=" L"+n[0]+","+t[0]),i=new AmCharts.Bezier(s,o,h,NaN,0,0,a,w,e,u),i.path.pattern(this.pattern),c.push(i.path),y||void 0!==v)&&(b||(b=w),y||(y=v),n=new AmCharts.Bezier(s,n,t,NaN,0,0,y,b,e,u),n.path.pattern(this.pattern),l.push(n.path));this.applyMask(l,c)}},launchAnimation:function(){var n=this,t=n.chart.startDuration,i,r;0<t&&!n.animationPlayed&&(i=n.set,r=n.bulletSet,AmCharts.VML||(i.attr({opacity:n.startAlpha}),r.attr({opacity:n.startAlpha})),i.hide(),r.hide(),n.seqAn?(t=setTimeout(function(){n.animateGraphs.call(n)},n.index*t*1e3),n.timeOuts.push(t)):n.animateGraphs())},animateGraphs:function(){var n=this.chart,t=this.set,i=this.bulletSet,r=this.x,u=this.y,f;t.show();i.show();f=n.startDuration;n=n.startEffect;t&&(this.rotate?(t.translate(-1e3,u),i.translate(-1e3,u)):(t.translate(r,-1e3),i.translate(r,-1e3)),t.animate({opacity:1,translate:r+","+u},f,n),i.animate({opacity:1,translate:r+","+u},f,n))},animate:function(n){var i=this.chart,t=this.animationArray;!n&&0<t.length&&(n=t[0],t.shift());t=AmCharts[AmCharts.getEffect(i.startEffect)];i=i.startDuration;n&&(this.rotate?n.animateWidth(i,t):n.animateHeight(i,t),n.set.show())},legendKeyColor:function(){var t=this.legendColor,n=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===n&&(n=this.fillColorsR)&&(t="object"==typeof n?n[0]:n)),t},legendKeyAlpha:function(){var n=this.legendAlpha;return void 0===n&&(n=this.lineAlpha,this.fillAlphas>n&&(n=this.fillAlphas),0===n&&(n=this.bulletAlpha),0===n&&(n=1)),n},createBullet:function(n,t,i,r){var s,f,u,o,e,v;if(!isNaN(t)&&!isNaN(i)){r=this.container;s=this.bulletOffset;f=this.bulletSize;isNaN(n.bulletSize)||(f=n.bulletSize);var c=n.values.value,l=this.maxValue,h=this.minValue,a=this.maxBulletSize,o=this.minBulletSize;isNaN(l)||(isNaN(c)||(f=(c-h)/(l-h)*(a-o)+o),h==l&&(f=a));l=f;this.bulletAxis&&(f=n.values.error,isNaN(f)||(c=f),f=this.bulletAxis.stepWidth*c);f<this.minBulletSize&&(f=this.minBulletSize);this.rotate?t=n.isNegative?t-s:t+s:i=n.isNegative?i+s:i-s;o=this.bulletColorR;n.lineColor&&(this.bulletColorSwitched=n.lineColor);this.bulletColorSwitched&&(o=this.bulletColorSwitched);n.isNegative&&void 0!==this.bulletColorNegative&&(o=this.bulletColorNegative);void 0!==n.color&&(o=n.color);"xy"==this.chart.type&&this.valueField&&(e=this.pattern,n.pattern&&(e=n.pattern));s=this.bullet;n.bullet&&(s=n.bullet);var c=this.bulletBorderThickness,h=this.bulletBorderColorR,a=this.bulletBorderAlpha,y=this.bulletAlpha;return h||(h=o),this.useLineColorForBulletBorder&&(h=this.lineColorR),v=n.alpha,isNaN(v)||(y=v),("none"!=this.bullet||n.bullet)&&(u=AmCharts.bullet(r,s,f,o,y,c,h,a,l,0,e)),(this.customBullet||n.customBullet)&&(e=this.customBullet,n.customBullet&&(e=n.customBullet),e&&(u&&u.remove(),"function"==typeof e?(u=new e,u.chart=this.chart,n.bulletConfig&&(u.availableSpace=i,u.graph=this,u.graphDataItem=n,u.bulletY=i,n.bulletConfig.minCoord=this.minCoord-i,u.bulletConfig=n.bulletConfig),u.write(r),u=u.set):(this.chart.path&&(e=this.chart.path+e),u=r.set(),r=r.image(e,0,0,f,f),u.push(r),this.centerCustomBullets&&r.translate(-f/2,-f/2)))),u&&((n.url||this.showHandOnHover)&&u.setAttr("cursor","pointer"),"serial"==this.chart.type&&(0>+t||+t>this.width||i<-f/2||+i>this.height)&&(u.remove(),u=null),u&&(this.bulletSet.push(u),u.translate(t,i),this.addListeners(u,n),this.allBullets.push(u)),n.bx=t,n.by=i),u?(u.size=f||0,n.bulletGraphics=u):u={size:0},u.graphDataItem=n,u}},showBullets:function(){var t=this.allBullets,n;for(this.bulletsHidden=!1,n=0;n<t.length;n++)t[n].show()},hideBullets:function(){var t=this.allBullets,n;for(this.bulletsHidden=!0,n=0;n<t.length;n++)t[n].hide()},addListeners:function(n,t){var i=this;n.mouseover(function(n){i.handleRollOver(t,n)}).mouseout(function(n){i.handleRollOut(t,n)}).touchend(function(n){i.handleRollOver(t,n);i.chart.panEventsEnabled&&i.handleClick(t,n)}).touchstart(function(n){i.handleRollOver(t,n)}).click(function(n){i.handleClick(t,n)}).dblclick(function(n){i.handleDoubleClick(t,n)}).contextmenu(function(n){i.handleRightClick(t,n)})},handleRollOver:function(n,t){var i,r,u,f,e;n&&(i=this.chart,r={type:"rollOverGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t},this.fire("rollOverGraphItem",r),i.fire("rollOverGraphItem",r),clearTimeout(i.hoverInt),r=this.showBalloon,i.chartCursor&&"serial"==i.type&&(r=!1,!i.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(r=!0)),r&&(r=i.formatString(this.balloonText,n,!0),u=this.balloonFunction,u&&(r=u(n,n.graph)),r=AmCharts.cleanFromEmpty(r),u=i.getBalloonColor(this,n),i.balloon.showBullet=!1,i.balloon.pointerOrientation="V",f=n.x,e=n.y,i.rotate&&(f=n.y,e=n.x),i.showBalloon(r,u,!0,f+i.marginLeftReal,e+i.marginTopReal)));this.handleGraphEvent(t,"rollOverGraph")},handleRollOut:function(n,t){if(this.chart.hideBalloon(),n){var i={type:"rollOutGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rollOutGraphItem",i);this.chart.fire("rollOutGraphItem",i)}this.handleGraphEvent(t,"rollOutGraph")},handleClick:function(n,t){if(n){var i={type:"clickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire("clickGraphItem",i);this.chart.fire("clickGraphItem",i);AmCharts.getURL(n.url,this.urlTarget)}this.handleGraphEvent(t,"clickGraph")},handleGraphEvent:function(n,t){var i={type:t,graph:this,target:this,chart:this.chart,event:n};this.fire(t,i);this.chart.fire(t,i)},handleRightClick:function(n,t){if(n){var i={type:"rightClickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rightClickGraphItem",i);this.chart.fire("rightClickGraphItem",i)}},handleDoubleClick:function(n,t){if(n){var i={type:"doubleClickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire("doubleClickGraphItem",i);this.chart.fire("doubleClickGraphItem",i)}},zoom:function(n,t){this.start=n;this.end=t;this.draw()},changeOpacity:function(n){var t=this.set,i,r;if(t&&t.setAttr("opacity",n),t=this.ownColumns)for(i=0;i<t.length;i++)r=t[i].set,r&&r.setAttr("opacity",n);(t=this.bulletSet)&&t.setAttr("opacity",n)},destroy:function(){var n,t;if(AmCharts.remove(this.set),AmCharts.remove(this.bulletSet),n=this.timeOuts,n)for(t=0;t<n.length;t++)clearTimeout(n[t]);this.timeOuts=[]}});AmCharts.ChartCursor=AmCharts.Class({construct:function(n){this.cname="ChartCursor";this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0;this.rolledOver=!1;this.cursorPosition="middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.selectWithoutZooming=this.oneBalloonOnly=!1;this.graphBulletSize=1.7;this.animationDuration=.3;this.zooming=!1;this.adjustment=0;this.avoidBalloonOverlapping=!0;AmCharts.applyTheme(this,n,this.cname)},draw:function(){var n=this,r,t,i;if(n.destroy(),r=n.chart,t=r.container,n.rotate=r.rotate,n.container=t,t=t.set(),t.translate(n.x,n.y),n.set=t,r.cursorSet.push(t),t=new AmCharts.AmBalloon,t.chart=r,n.categoryBalloon=t,AmCharts.copyProperties(r.balloon,t),t.cornerRadius=0,t.shadowAlpha=0,t.borderThickness=1,t.borderAlpha=1,t.showBullet=!1,i=n.categoryBalloonColor,void 0===i&&(i=n.cursorColor),t.fillColor=i,t.fillAlpha=n.categoryBalloonAlpha,t.borderColor=i,t.color=n.color,i=n.valueLineAxis,AmCharts.isString(i)&&(i=r.getValueAxisById(i)),i||(i=r.valueAxes[0]),n.valueLineAxis=i,n.valueLineBalloonEnabled&&(i=new AmCharts.AmBalloon,n.vaBalloon=i,AmCharts.copyProperties(t,i),i.animationDuration=0,n.rotate||(i.pointerOrientation="H")),n.rotate&&(t.pointerOrientation="H"),n.extraWidth=0,n.prevX=[],n.prevY=[],n.prevTX=[],n.prevTY=[],n.valueBalloonsEnabled)for(t=0;t<r.graphs.length;t++)i=new AmCharts.AmBalloon,i.chart=r,AmCharts.copyProperties(r.balloon,i),r.graphs[t].valueBalloon=i;"cursor"==n.type?n.createCursor():n.createCrosshair();n.interval=setInterval(function(){n.detectMovement.call(n)},40)},updateData:function(){var n=this.chart;this.data=n.chartData;this.firstTime=n.firstTime;this.lastTime=n.lastTime},createCursor:function(){var t=this.chart,f=this.cursorAlpha,e=t.categoryAxis,s=this.categoryBalloon,n,u,i,r;i=t.dx;r=t.dy;var o=this.width,h=this.height,t=t.rotate;s.pointerWidth=e.tickLength;t?(n=[0,o,o+i],u=[0,0,r],i=[i,0,0],r=[r,0,h]):(n=[i,0,0],u=[r,0,h],i=[0,o,o+i],r=[0,0,r]);this.line=n=AmCharts.line(this.container,n,u,this.cursorColor,f,1);(u=this.fullRectSet)?(u.push(n),u.translate(this.x,this.y)):this.set.push(n);this.valueLineEnabled&&(n=this.valueLineAlpha,isNaN(n)||(f=n),this.vLine=f=AmCharts.line(this.container,i,r,this.cursorColor,f,1),this.set.push(f));this.setBalloonBounds(s,e,t);(e=this.vaBalloon)&&this.setBalloonBounds(e,this.valueLineAxis,!t);this.hideCursor()},createCrosshair:function(){var n=this.cursorAlpha,t=this.container,i=AmCharts.line(t,[0,0],[0,this.height],this.cursorColor,n,1),n=AmCharts.line(t,[0,this.width],[0,0],this.cursorColor,n,1);this.set.push(i);this.set.push(n);this.vLine=i;this.hLine=n;this.hideCursor()},detectMovement:function(){var n=this.chart,t,i;n.mouseIsOver?(t=n.mouseX-this.x,i=n.mouseY-this.y,-.5<t&&t<this.width+1&&0<i&&i<this.height?(this.drawing?this.rolledOver||n.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||n.setMouseCursor("move")),this.rolledOver=!0,(this.valueLineEnabled||this.valueLineBalloonEnabled)&&this.updateVLine(t,i),this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},updateVLine:function(n,t){var i=this.vLine,f=this.vaBalloon,r,u,e,o;!(i||f)||this.panning||this.drawing||(i&&i.show(),r=this.valueLineAxis,e=this.rotate,e?(i&&i.translate(n,0),r&&(u=r.coordinateToValue(n)),i=n):(i&&i.translate(0,t),r&&(u=r.coordinateToValue(t)),i=t-1),f&&!isNaN(u)&&this.prevLineValue!=u&&(o=r.formatValue(u,!0),f&&(this.setBalloonPosition(f,r,i,!e),f.showBalloon(o))),this.prevLineValue=u)},getMousePosition:function(){var n,t=this.width,i=this.height;return n=this.chart,this.rotate?(n=n.mouseY-this.y,0>n&&(n=0),n>i&&(n=i)):(n=n.mouseX-this.x-1,0>n&&(n=0),n>t&&(n=t)),n},updateCrosshair:function(){var n=this.chart,t=n.mouseX-this.x,i=n.mouseY-this.y,r=this.vLine,u=this.hLine,t=AmCharts.fitToBounds(t,0,this.width),i=AmCharts.fitToBounds(i,0,this.height);0<this.cursorAlpha&&(r.show(),u.show(),r.translate(t,0),u.translate(0,i));this.zooming&&(n.hideXScrollbar&&(t=NaN),n.hideYScrollbar&&(i=NaN),this.updateSelectionSize(t,i));this.fireMoved();n.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var t=this.chart,n={type:"moved",target:this};n.chart=t;n.zooming=this.zooming;n.x=t.mouseX-this.x;n.y=t.mouseY-this.y;this.fire("moved",n)},updateSelectionSize:function(n,t){AmCharts.remove(this.selection);var i=this.selectionPosX,r=this.selectionPosY,e=0,o=0,u=this.width,f=this.height;isNaN(n)||(i>n&&(e=n,u=i-n),i<n&&(e=i,u=n-i),i==n&&(e=n,u=0),u+=this.extraWidth,e-=this.extraWidth/2);isNaN(t)||(r>t&&(o=t,f=r-t),r<t&&(o=r,f=t-r),r==t&&(o=t,f=0),f+=this.extraWidth,o-=this.extraWidth/2);0<u&&0<f&&(i=AmCharts.rect(this.container,u,f,this.cursorColor,this.selectionAlpha),i.translate(e+this.x,o+this.y),this.selection=i)},arrangeBalloons:function(){var i=this.valueBalloons,r=this.x,u=this.y,f=this.height+u,n,t;for(i.sort(this.compareY),n=0;n<i.length;n++)t=i[n].balloon,t.setBounds(r,u,r+this.width,f),t.prevX=this.prevX[n],t.prevY=this.prevY[n],t.prevTX=this.prevTX[n],t.prevTY=this.prevTY[n],t.draw(),f=t.yPos-3;this.arrangeBalloons2()},compareY:function(n,t){return n.yy<t.yy?1:-1},arrangeBalloons2:function(){var u=this.valueBalloons,s,f,r,i,e,n,o,t;for(u.reverse(),f=this.x,e=u.length,i=0;i<e;i++)n=u[i].balloon,s=n.bottom,o=n.bottom-n.yPos,t=e-i-1,0<i&&s-o<r+3&&(n.setBounds(f,r+3,f+this.width,r+o+3),n.prevX=this.prevX[t],n.prevY=this.prevY[t],n.prevTX=this.prevTX[t],n.prevTY=this.prevTY[t],n.draw()),n.set&&n.set.show(),this.prevX[t]=n.prevX,this.prevY[t]=n.prevY,this.prevTX[t]=n.prevTX,this.prevTY[t]=n.prevTY,r=n.bottom},showBullets:function(){var f,t,r,n,u,i,e,o;for(AmCharts.remove(this.allBullets),f=this.container,t=f.set(),this.set.push(t),this.set.show(),this.allBullets=t,t=this.chart.graphs,r=0;r<t.length;r++)n=t[r],!n.hidden&&n.balloonText&&(u=this.data[this.index].axes[n.valueAxis.id].graphs[n.id],i=u.y,isNaN(i)||(e=u.x,this.rotate?(o=i,i=e):o=e,n=AmCharts.circle(f,this.bulletSize/2,this.chart.getBalloonColor(n,u,!0),n.cursorBulletAlpha),n.translate(o,i),this.allBullets.push(n)))},destroy:function(){this.clear();AmCharts.remove(this.selection);this.selection=null;var n=this.categoryBalloon;n&&n.destroy();(n=this.vaBalloon)&&n.destroy();this.destroyValueBalloons();AmCharts.remove(this.set)},clear:function(){clearInterval(this.interval)},destroyValueBalloons:function(){var t=this.valueBalloons,n;if(t)for(n=0;n<t.length;n++)t[n].balloon.hide()},zoom:function(n,t,i,r){var f=this.chart,u;this.destroyValueBalloons();this.zooming=!1;this.rotate?this.selectionPosY=u=f.mouseY:this.selectionPosX=u=f.mouseX;this.start=n;this.end=t;this.startTime=i;this.endTime=r;this.zoomed=!0;r=f.categoryAxis;f=this.rotate;t=this.width;i=this.height;n=r.stepWidth;this.fullWidth&&(u=1,r.parseDates&&!r.equalSpacing&&(u=r.minDuration()),f?this.extraWidth=i=n*u:(this.extraWidth=t=n*u,this.categoryBalloon.minWidth=t),this.line&&this.line.remove(),this.line=AmCharts.rect(this.container,t,i,this.cursorColor,this.cursorAlpha,0),this.fullRectSet&&this.fullRectSet.push(this.line));this.stepWidth=n;this.tempVal=this.valueBalloonsEnabled;this.valueBalloonsEnabled=!1;this.setPosition();this.valueBalloonsEnabled=this.tempVal;this.hideCursor()},hideObj:function(n){n&&n.hide()},hideCursor:function(n){void 0===n&&(n=!0);this.hideObj(this.set);this.hideObj(this.categoryBalloon);this.hideObj(this.line);this.hideObj(this.vLine);this.hideObj(this.hLine);this.hideObj(this.vaBalloon);this.hideObj(this.allBullets);this.destroyValueBalloons();this.selectWithoutZooming||AmCharts.remove(this.selection);this.previousIndex=NaN;n&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this});this.drawing||this.chart.setMouseCursor("auto");this.normalizeBulletSize()},setPosition:function(n,t,i){void 0===t&&(t=!0);"cursor"==this.type?(this.tempPosition=NaN,AmCharts.ifArray(this.data))&&(isNaN(n)&&(n=this.getMousePosition()),(n!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(n)&&("mouse"==this.cursorPosition&&(this.tempPosition=n),isNaN(i)&&(i=this.chart.categoryAxis.xToIndex(n)),i!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(i,t),this.zoomed=!1),this.previousMousePosition=n):this.updateCrosshair()},normalizeBulletSize:function(){var r=this.resizedBullets,i,n,t;if(r)for(i=0;i<r.length;i++)n=r[i],t=n.bulletGraphics,t&&(t.translate(n.bx,n.by,1),n=n.graph,isNaN(this.graphBulletAlpha)||(t.setAttr("fill-opacity",n.bulletAlpha),t.setAttr("stroke-opacity",n.bulletBorderAlpha)))},updateCursor:function(n,t){var c=this.chart,a=this.fullWidth,s=c.mouseX-this.x,d=c.mouseY-this.y,l;if(this.drawingNow&&(AmCharts.remove(this.drawingLine),this.drawingLine=AmCharts.line(this.container,[this.x+this.drawStartX,this.x+s],[this.y+this.drawStartY,this.y+d],this.cursorColor,1,1)),this.enabled){void 0===t&&(t=!0);this.index=n+=this.adjustment;var f=c.categoryAxis,e=c.dx,u=c.dy,g=this.x+1,rt=this.y+1,tt=this.width,it=this.height,p=this.data[n];if(this.fireMoved(),p){var r=p.x[f.id],v=c.rotate,w=this.stepWidth,h=this.categoryBalloon,i=this.firstTime,o=this.lastTime,b=this.cursorPosition,y=this.zooming,ut=this.panning,nt=c.graphs;if(c.mouseIsOver||y||ut||this.forceShow)if(this.forceShow=!1,ut){var e=this.panClickPos,c=this.panClickEndTime,y=this.panClickStartTime,k=this.panClickEnd,g=this.panClickStart,s=(v?e-d:e-s)/w;(!f.parseDates||f.equalSpacing)&&(s=Math.round(s));0!==s&&(e={type:"zoomed",target:this},e.chart=this.chart,f.parseDates&&!f.equalSpacing?(c+s>o&&(s=o-c),y+s<i&&(s=i-y),e.start=Math.round(y+s),e.end=Math.round(c+s),this.fire(e.type,e)):k+s>=this.data.length||0>g+s||(e.start=g+s,e.end=k+s,this.fire(e.type,e)))}else{if("start"==b?r-=f.cellWidth/2:"mouse"==b&&(c.mouseIsOver?r=v?d-2:s-2:isNaN(this.tempPosition)||(r=this.tempPosition-2)),v){if(0>r)if(y)r=0;else{this.hideCursor();return}if(r>it+1)if(y)r=it+1;else{this.hideCursor();return}}else{if(0>r)if(y)r=0;else{this.hideCursor();return}if(r>tt)if(y)r=tt;else{this.hideCursor();return}}if(0<this.cursorAlpha&&(l=this.line,v?(i=0,o=r+u,a&&(o-=f.cellWidth/2)):(i=r,o=0,a&&(i-=f.cellWidth/2)),w=this.animationDuration,0<w&&!this.zooming?isNaN(this.previousX)?l.translate(i,o):(l.translate(this.previousX,this.previousY),l.animate({translate:i+","+o},w,"easeOutSine")):l.translate(i,o),this.previousX=i,this.previousY=o,l.show()),this.linePos=v?r+u:r,y&&(a&&l.hide(),v?this.updateSelectionSize(NaN,r):this.updateSelectionSize(r,NaN)),w=!0,y&&(w=!1),this.categoryBalloonEnabled&&w?(this.setBalloonPosition(h,f,r,v),(i=this.categoryBalloonFunction)?h.showBalloon(i(p.category)):f.parseDates?(f=AmCharts.formatDate(p.category,this.categoryBalloonDateFormat,c),-1!=f.indexOf("fff")&&(f=AmCharts.formatMilliseconds(f,p.category)),h.showBalloon(f)):h.showBalloon(AmCharts.fixNewLines(p.category))):h.hide(),nt&&this.bulletsEnabled&&this.showBullets(),this.oneBalloonOnly){for(r=Infinity,f=0;f<nt.length;f++)i=nt[f],i.showBalloon&&!i.hidden&&i.balloonText&&(o=p.axes[i.valueAxis.id].graphs[i.id],h=o.y,isNaN(h)||(v?Math.abs(s-h)<r&&(r=Math.abs(s-h),k=i):Math.abs(d-h)<r&&(r=Math.abs(d-h),k=i)));this.mostCloseGraph&&(k=this.mostCloseGraph)}if((n!=this.previousIndex||k!=this.previousMostCloseGraph)&&(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],nt&&this.valueBalloonsEnabled&&w&&c.balloon.enabled)){for(this.valueBalloons=w=[],f=0;f<nt.length;f++)if(i=nt[f],h=NaN,(!this.oneBalloonOnly||i==k)&&i.showBalloon&&!i.hidden&&i.balloonText&&("step"==i.type&&"left"==i.stepDirection&&(p=this.data[n+1]),p)){if((o=p.axes[i.valueAxis.id].graphs[i.id])&&(h=o.y),this.showNextAvailable&&isNaN(h)&&n+1<this.data.length)for(r=n+1;r<this.data.length;r++)if((a=this.data[r])&&(o=a.axes[i.valueAxis.id].graphs[i.id],h=o.y,!isNaN(h)))break;isNaN(h)||(a=o.x,u=!0,v?(r=h,0>a||a>it)&&(u=!1):(r=a,a=h,0>r||r>tt+e+1)&&(u=!1),u&&(u=this.graphBulletSize,l=this.graphBulletAlpha,1==u&&isNaN(l)||!AmCharts.isModern||!(b=o.bulletGraphics)||(b.getBBox(),b.translate(o.bx,o.by,u),this.resizedBullets.push(o),isNaN(l)||(b.setAttr("fill-opacity",l),b.setAttr("stroke-opacity",l))),u=i.valueBalloon,l=c.getBalloonColor(i,o),u.setBounds(g,rt,g+tt,rt+it),u.pointerOrientation="H",b=this.balloonPointerOrientation,"vertical"==b&&(u.pointerOrientation="V"),"horizontal"==b&&(u.pointerOrientation="H"),u.changeColor(l),void 0!==i.balloonAlpha&&(u.fillAlpha=i.balloonAlpha),void 0!==i.balloonTextColor&&(u.color=i.balloonTextColor),u.setPosition(r+g,a+rt),r=c.formatString(i.balloonText,o,!0),(a=i.balloonFunction)&&(r=a(o,i).toString()),""!==r&&(v?u.showBalloon(r):(u.text=r,u.show=!0),w.push({yy:h,balloon:u})),!v&&u.set&&(u.set.hide(),i=u.textDiv)&&(i.style.visibility="hidden")))}this.avoidBalloonOverlapping&&this.arrangeBalloons()}t?(e={type:"changed"},e.index=n,e.chart=this.chart,e.zooming=y,e.mostCloseGraph=k,e.position=v?d:s,e.target=this,c.fire("changed",e),this.fire("changed",e),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,c.updateLegendValues(n));this.previousIndex=n;this.previousMostCloseGraph=k}}}else this.hideCursor()},setBalloonPosition:function(n,t,i,r){var c=t.position,s=t.inside;t=t.axisThickness;var e=this.chart,o=e.dx,e=e.dy,u=this.x,f=this.y,h=this.width,l=this.height;r?(s&&("right"==c?n.setBounds(u,f+e,u+h+o,f+i+e):n.setBounds(u,f+e,u+h+o,f+i)),"right"==c?s?n.setPosition(u+h+o,f+i+e):n.setPosition(u+h+o+t,f+i+e):s?n.setPosition(u,f+i):n.setPosition(u-t,f+i)):"top"==c?s?n.setPosition(u+i+o,f+e):n.setPosition(u+i+o,f+e-t+1):s?n.setPosition(u+i,f+l):n.setPosition(u+i,f+l+t-1)},setBalloonBounds:function(n,t,i){var a=t.position,c=t.inside,l=t.axisThickness,s=t.tickLength,f=this.chart,h=f.dx,f=f.dy,r=this.x,u=this.y,e=this.width,o=this.height;i?(c&&(n.pointerWidth=0),"right"==a?c?n.setBounds(r,u+f,r+e+h,u+o+f):n.setBounds(r+e+h+l,u+f,r+e+1e3,u+o+f):c?n.setBounds(r,u,e+r,o+u):n.setBounds(-1e3,-1e3,r-s-l,u+o+15)):(n.maxWidth=e,t.parseDates&&(s=0,n.pointerWidth=0),"top"==a?c?n.setBounds(r+h,u+f,e+h+r,o+u):n.setBounds(r+h,-1e3,e+h+r,u+f-s-l):c?n.setBounds(r,u,e+r,o+u-s):n.setBounds(r,u+o+s+l-1,r+e,u+o+s+l))},enableDrawing:function(n){this.enabled=!n;this.hideCursor();this.rolledOver=!1;this.drawing=n},isZooming:function(n){n&&n!=this.zooming&&this.handleMouseDown("fake");n||n==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var n={type:"changed",index:void 0,target:this};n.chart=this.chart;this.fire("changed",n);this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var r=this.chart,u=this.data,n,i,t,f,e,o;r&&(i=r.mouseX-this.x,t=r.mouseY-this.y,this.drawingNow&&(this.drawingNow=!1,AmCharts.remove(this.drawingLine),n=this.drawStartX,f=this.drawStartY,(2<Math.abs(n-i)||2<Math.abs(f-t))&&(n={type:"draw",target:this,chart:r,initialX:n,initialY:f,finalX:i,finalY:t},this.fire(n.type,n))),this.enabled&&0<u.length&&(this.pan?this.rolledOver=!1:this.zoomable&&this.zooming&&(n=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"},n.target=this,n.chart=r,"cursor"==this.type?(this.rotate?this.selectionPosY=t:this.selectionPosX=t=i,4>Math.abs(t-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(n.end=this.fromIndex,n.start=this.index):(n.end=this.index,n.start=this.fromIndex),t=r.categoryAxis,t.parseDates&&!t.equalSpacing&&(u[n.start]&&(n.start=u[n.start].time),u[n.end]&&(n.end=r.getEndTime(u[n.end].time))),this.skipZoomDispatch||this.fire(n.type,n))):(e=this.initialMouseX,o=this.initialMouseY,3>Math.abs(i-e)&&3>Math.abs(t-o)||(u=Math.min(e,i),f=Math.min(o,t),i=Math.abs(e-i),t=Math.abs(o-t),r.hideXScrollbar&&(u=0,i=this.width),r.hideYScrollbar&&(f=0,t=this.height),n.selectionHeight=t,n.selectionWidth=i,n.selectionY=f,n.selectionX=u,this.skipZoomDispatch||this.fire(n.type,n))),this.selectWithoutZooming||AmCharts.remove(this.selection)),this.skipZoomDispatch=!1));this.panning=this.zooming=!1},showCursorAt:function(n){var t=this.chart.categoryAxis;n=t.parseDates?t.dateToCoordinate(n):t.categoryToCoordinate(n);this.previousMousePosition=NaN;this.forceShow=!0;this.setPosition(n,!1)},clearSelection:function(){AmCharts.remove(this.selection)},handleMouseDown:function(n){if(this.zoomable||this.pan||this.drawing){var u=this.rotate,r=this.chart,t=r.mouseX-this.x,i=r.mouseY-this.y;(0<t&&t<this.width&&0<i&&i<this.height||"fake"==n)&&(this.setPosition(),this.selectWithoutZooming&&AmCharts.remove(this.selection),this.drawing?(this.drawStartY=i,this.drawStartX=t,this.drawingNow=!0):this.pan?(this.zoomable=!1,r.setMouseCursor("move"),this.panning=!0,this.panClickPos=u?i:t,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,u?(this.initialMouse=i,this.selectionPosY=this.linePos):(this.initialMouse=t,this.selectionPosX=this.linePos)):(this.initialMouseX=t,this.initialMouseY=i,this.selectionPosX=t,this.selectionPosY=i),this.zooming=!0))}}});AmCharts.SimpleChartScrollbar=AmCharts.Class({construct:function(n){this.createEvents("zoomed");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.scrollDuration=this.selectedBackgroundAlpha=1;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;9>document.documentMode&&(this.updateOnReleaseOnly=!0);this.dragIconWidth=18;this.dragIconHeight=25;AmCharts.applyTheme(this,n,"SimpleChartScrollbar")},draw:function(){var n=this,t,e,i,c,l;n.destroy();n.interval=setInterval(function(){n.updateScrollbar.call(n)},40);var r=n.chart.container,f=n.rotate,o=n.chart,u=r.set();if(n.set=u,o.scrollbarsSet.push(u),f?(t=n.scrollbarHeight,e=o.plotAreaHeight):(e=n.scrollbarHeight,t=o.plotAreaWidth),n.width=t,(n.height=e)&&t){i=AmCharts.rect(r,t,e,n.backgroundColor,n.backgroundAlpha,1,n.backgroundColor,n.backgroundAlpha);n.bg=i;u.push(i);i=AmCharts.rect(r,t,e,"#000",.005);u.push(i);n.invisibleBg=i;i.click(function(){n.handleBgClick()}).mouseover(function(){n.handleMouseOver()}).mouseout(function(){n.handleMouseOut()}).touchend(function(){n.handleBgClick()});i=AmCharts.rect(r,t,e,n.selectedBackgroundColor,n.selectedBackgroundAlpha);n.selectedBG=i;u.push(i);t=AmCharts.rect(r,t,e,"#000",.005);n.dragger=t;u.push(t);t.mousedown(function(t){n.handleDragStart(t)}).mouseup(function(){n.handleDragStop()}).mouseover(function(){n.handleDraggerOver()}).mouseout(function(){n.handleMouseOut()}).touchstart(function(t){n.handleDragStart(t)}).touchend(function(){n.handleDragStop()});t=o.pathToImages;f?(i=t+"dragIconH.gif",t=n.dragIconWidth,f=n.dragIconHeight):(i=t+"dragIcon.gif",f=n.dragIconWidth,t=n.dragIconHeight);e=r.image(i,0,0,f,t);var i=r.image(i,0,0,f,t),s=10,h=20;o.panEventsEnabled&&(s=25,h=n.scrollbarHeight);c=AmCharts.rect(r,s,h,"#000",.005);l=AmCharts.rect(r,s,h,"#000",.005);l.translate(-(s-f)/2,-(h-t)/2);c.translate(-(s-f)/2,-(h-t)/2);f=r.set([e,l]);r=r.set([i,c]);n.iconLeft=f;u.push(n.iconLeft);n.iconRight=r;u.push(r);f.mousedown(function(){n.leftDragStart()}).mouseup(function(){n.leftDragStop()}).mouseover(function(){n.iconRollOver()}).mouseout(function(){n.iconRollOut()}).touchstart(function(){n.leftDragStart()}).touchend(function(){n.leftDragStop()});r.mousedown(function(){n.rightDragStart()}).mouseup(function(){n.rightDragStop()}).mouseover(function(){n.iconRollOver()}).mouseout(function(){n.iconRollOut()}).touchstart(function(){n.rightDragStart()}).touchend(function(){n.rightDragStop()});AmCharts.ifArray(o.chartData)?u.show():u.hide();n.hideDragIcons();n.clipDragger(!1)}u.translate(n.x,n.y);u.node.style.msTouchAction="none"},updateScrollbarSize:function(n,t){n=Math.round(n);t=Math.round(t);var i=this.dragger,r,u,f,e;this.rotate?(r=0,u=n,f=this.width+1,e=t-n,i.setAttr("height",t-n),i.setAttr("y",u)):(r=n,u=0,f=t-n,e=this.height+1,i.setAttr("width",t-n),i.setAttr("x",r));this.clipAndUpdate(r,u,f,e)},updateScrollbar:function(){var n,c=!1,r,t,f=this.x,e=this.y,u=this.dragger,o=this.getDBox();if(o){r=o.x+f;t=o.y+e;var l=o.width,o=o.height,a=this.rotate,i=this.chart,s=this.width,h=this.height,v=i.mouseX,y=i.mouseY;n=this.initialMouse;this.forceClip&&this.clipDragger(!0);i.mouseIsOver&&(this.dragging&&(i=this.initialCoord,a?(n=i+(y-n),0>n&&(n=0),i=h-o,n>i&&(n=i),u.setAttr("y",n)):(n=i+(v-n),0>n&&(n=0),i=s-l,n>i&&(n=i),u.setAttr("x",n)),this.clipDragger(!0)),this.resizingRight&&(a?(n=y-t,n+t>h+e&&(n=h-t+e),0>n?(this.resizingRight=!1,c=this.resizingLeft=!0):(0===n&&(n=.1),u.setAttr("height",n))):(n=v-r,n+r>s+f&&(n=s-r+f),0>n?(this.resizingRight=!1,c=this.resizingLeft=!0):(0===n&&(n=.1),u.setAttr("width",n))),this.clipDragger(!0)),this.resizingLeft&&(a?(r=t,t=y,t<e&&(t=e),t>h+e&&(t=h+e),n=!0===c?r-t:o+r-t,0>n?(this.resizingRight=!0,this.resizingLeft=!1,u.setAttr("y",r+o-e)):(0===n&&(n=.1),u.setAttr("y",t-e),u.setAttr("height",n))):(t=v,t<f&&(t=f),t>s+f&&(t=s+f),n=!0===c?r-t:l+r-t,0>n?(this.resizingRight=!0,this.resizingLeft=!1,u.setAttr("x",r+l-f)):(0===n&&(n=.1),u.setAttr("x",t-f),u.setAttr("width",n))),this.clipDragger(!0)))}},stopForceClip:function(){this.forceClip=!1},clipDragger:function(n){var t=this.getDBox();if(t){var i=t.x,r=t.y,u=t.width,t=t.height,f=!1;this.rotate?(i=0,u=this.width+1,this.clipY!=r||this.clipH!=t)&&(f=!0):(r=0,t=this.height+1,this.clipX!=i||this.clipW!=u)&&(f=!0);f&&(this.clipAndUpdate(i,r,u,t),n&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(n,t,i,r){this.clipX=n;this.clipY=t;this.clipW=i;this.clipH=r;this.selectedBG.clipRect(n,t,i,r);this.updateDragIconPositions();this.maskGraphs(n,t,i,r)},dispatchScrollbarEvent:function(){var n;if(this.skipEvent)this.skipEvent=!1;else{n=this.chart;n.hideBalloon();var t=this.getDBox(),r=t.x,u=t.y,i=t.width,t=t.height;this.rotate?(r=u,i=this.height/t):i=this.width/i;n={type:"zoomed",position:r,chart:n,target:this,multiplier:i};this.fire(n.type,n)}},updateDragIconPositions:function(){var i=this.getDBox(),u=i.x,f=i.y,e=this.iconLeft,o=this.iconRight,n,t,r=this.scrollbarHeight;this.rotate?(n=this.dragIconWidth,t=this.dragIconHeight,e.translate((r-t)/2,f-n/2),o.translate((r-t)/2,f+i.height-n/2)):(n=this.dragIconHeight,t=this.dragIconWidth,e.translate(u-t/2,(r-n)/2),o.translate(u-t/2+i.width,(r-n)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||((this.hideResizeGrips||!this.resizeEnabled)&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(n,t){this.dragger.stop();this.multiplier=n;this.position=t;this.updateScrollbarSize(t,this.rotate?t+this.height/n:t+this.width/n)},destroy:function(){this.clear();AmCharts.remove(this.set);AmCharts.remove(this.iconRight);AmCharts.remove(this.iconLeft)},clear:function(){clearInterval(this.interval)},handleDragStart:function(){var t=this.chart,n;this.dragger.stop();this.removeCursors();this.dragging=!0;n=this.getDBox();this.rotate?(this.initialCoord=n.y,this.initialMouse=t.mouseY):(this.initialCoord=n.x,this.initialMouse=t.mouseX)},handleDragStop:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();this.updateScrollbar()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop();this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},rightDragStart:function(){this.dragger.stop();this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("n-resize"):this.chart.setMouseCursor("e-resize");this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var n=this,i,t,r,u,f,e;if(!n.resizingRight&&!n.resizingLeft){n.zooming=!0;r=n.scrollDuration;u=n.dragger;i=n.getDBox();f=i.height;e=i.width;t=n.chart;var s=n.y,h=n.x,o=n.rotate;o?(i="y",t=t.mouseY-f/2-s,t=AmCharts.fitToBounds(t,0,n.height-f)):(i="x",t=t.mouseX-e/2-h,t=AmCharts.fitToBounds(t,0,n.width-e));n.updateOnReleaseOnly?(n.skipEvent=!1,u.setAttr(i,t),n.dispatchScrollbarEvent(),n.clipDragger()):(t=Math.round(t),o?u.animate({y:t},r,">"):u.animate({x:t},r,">"),n.forceClip=!0,clearTimeout(n.forceTO),n.forceTO=setTimeout(function(){n.stopForceClip.call(n)},5e3*r))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.updateOnRelease(),this.removeCursors()),this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1,this.hideDragIcons(),this.updateScrollbar())},handleMouseOver:function(){this.mouseIsOver=!0;this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons()}});AmCharts.ChartScrollbar=AmCharts.Class({inherits:AmCharts.SimpleChartScrollbar,construct:function(n){this.cname="ChartScrollbar";AmCharts.ChartScrollbar.base.construct.call(this,n);this.graphLineColor="#BBBBBB";this.graphLineAlpha=0;this.graphFillColor="#BBBBBB";this.graphFillAlpha=1;this.selectedGraphLineColor="#888888";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#888888";this.selectedGraphFillAlpha=1;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=.7;this.skipEvent=this.autoGridCount=!1;this.color="#FFFFFF";this.scrollbarCreated=!1;this.offset=0;AmCharts.applyTheme(this,n,this.cname)},init:function(){var t=this.categoryAxis,n=this.chart,i;t||(this.categoryAxis=t=new AmCharts.CategoryAxis);t.chart=n;t.id="scrollbar";t.dateFormats=n.categoryAxis.dateFormats;t.markPeriodChange=n.categoryAxis.markPeriodChange;t.boldPeriodBeginning=n.categoryAxis.boldPeriodBeginning;t.axisItemRenderer=AmCharts.RecItem;t.axisRenderer=AmCharts.RecAxis;t.guideFillRenderer=AmCharts.RecFill;t.inside=!0;t.fontSize=this.fontSize;t.tickLength=0;t.axisAlpha=0;AmCharts.isString(this.graph)&&(this.graph=AmCharts.getObjById(n.graphs,this.graph));(t=this.graph)&&(i=this.valueAxis,i||(this.valueAxis=i=new AmCharts.ValueAxis,i.visible=!1,i.scrollbar=!0,i.axisItemRenderer=AmCharts.RecItem,i.axisRenderer=AmCharts.RecAxis,i.guideFillRenderer=AmCharts.RecFill,i.labelsEnabled=!1,i.chart=n),n=this.unselectedGraph,n||(n=new AmCharts.AmGraph,n.scrollbar=!0,this.unselectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers),n=this.selectedGraph,n||(n=new AmCharts.AmGraph,n.scrollbar=!0,this.selectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers));this.scrollbarCreated=!0},draw:function(){var n=this,u,i,s,h,p,w,r,y;AmCharts.ChartScrollbar.base.draw.call(n);n.scrollbarCreated||n.init();var e=n.chart,o=e.chartData,f=n.categoryAxis,c=n.rotate,s=n.x,h=n.y,l=n.width,a=n.height,t=e.categoryAxis,v=n.set;if(f.setOrientation(!c),f.parseDates=t.parseDates,f.rotate=c,f.equalSpacing=t.equalSpacing,f.minPeriod=t.minPeriod,f.startOnAxis=t.startOnAxis,f.viW=l,f.viH=a,f.width=l,f.height=a,f.gridCount=n.gridCount,f.gridColor=n.gridColor,f.gridAlpha=n.gridAlpha,f.color=n.color,f.tickLength=0,f.axisAlpha=0,f.autoGridCount=n.autoGridCount,f.parseDates&&!f.equalSpacing&&f.timeZoom(e.firstTime,e.lastTime),f.zoom(0,o.length-1),t=n.graph){for(u=n.valueAxis,i=t.valueAxis,u.id=i.id,u.rotate=c,u.setOrientation(c),u.width=l,u.height=a,u.viW=l,u.viH=a,u.dataProvider=o,u.reversed=i.reversed,u.logarithmic=i.logarithmic,u.gridAlpha=0,u.axisAlpha=0,v.push(u.set),c?(u.y=h,u.x=0):(u.x=s,u.y=0),s=Infinity,h=-Infinity,p=0;p<o.length;p++){w=o[p].axes[i.id].graphs[t.id].values;for(r in w)w.hasOwnProperty(r)&&"percents"!=r&&"total"!=r&&(y=w[r],y<s&&(s=y),y>h&&(h=y))}Infinity!=s&&(u.minimum=s);-Infinity!=h&&(u.maximum=h+.1*(h-s));s==h&&(--u.minimum,u.maximum+=1);void 0!==n.minimum&&(u.minimum=n.minimum);void 0!==n.maximum&&(u.maximum=n.maximum);u.zoom(0,o.length-1);r=n.unselectedGraph;r.id=t.id;r.rotate=c;r.chart=e;r.data=o;r.valueAxis=u;r.chart=t.chart;r.categoryAxis=n.categoryAxis;r.periodSpan=t.periodSpan;r.valueField=t.valueField;r.openField=t.openField;r.closeField=t.closeField;r.highField=t.highField;r.lowField=t.lowField;r.lineAlpha=n.graphLineAlpha;r.lineColorR=n.graphLineColor;r.fillAlphas=n.graphFillAlpha;r.fillColorsR=n.graphFillColor;r.connect=t.connect;r.hidden=t.hidden;r.width=l;r.height=a;r.pointPosition=t.pointPosition;r.stepDirection=t.stepDirection;r.periodSpan=t.periodSpan;i=n.selectedGraph;i.id=t.id;i.rotate=c;i.chart=e;i.data=o;i.valueAxis=u;i.chart=t.chart;i.categoryAxis=f;i.periodSpan=t.periodSpan;i.valueField=t.valueField;i.openField=t.openField;i.closeField=t.closeField;i.highField=t.highField;i.lowField=t.lowField;i.lineAlpha=n.selectedGraphLineAlpha;i.lineColorR=n.selectedGraphLineColor;i.fillAlphas=n.selectedGraphFillAlpha;i.fillColorsR=n.selectedGraphFillColor;i.connect=t.connect;i.hidden=t.hidden;i.width=l;i.height=a;i.pointPosition=t.pointPosition;i.stepDirection=t.stepDirection;i.periodSpan=t.periodSpan;e=n.graphType;e||(e=t.type);r.type=e;i.type=e;o=o.length-1;r.zoom(0,o);i.zoom(0,o);i.set.click(function(){n.handleBackgroundClick()}).mouseover(function(){n.handleMouseOver()}).mouseout(function(){n.handleMouseOut()});r.set.click(function(){n.handleBackgroundClick()}).mouseover(function(){n.handleMouseOver()}).mouseout(function(){n.handleMouseOut()});v.push(r.set);v.push(i.set)}v.push(f.set);v.push(f.labelsSet);n.bg.toBack();n.invisibleBg.toFront();n.dragger.toFront();n.iconLeft.toFront();n.iconRight.toFront()},timeZoom:function(n,t,i){this.startTime=n;this.endTime=t;this.timeDifference=t-n;this.skipEvent=!AmCharts.toBoolean(i);this.zoomScrollbar();this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(n,t){this.start=n;this.end=t;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){var e,n,o,u;if(this.skipEvent)this.skipEvent=!1;else{e=this.chart.chartData;u=this.dragger.getBBox();n=u.x;var i=u.y,r=u.width,u=u.height,f=this.chart;this.rotate?(n=i,o=u):o=r;r={type:"zoomed",target:this};r.chart=f;var t=this.categoryAxis,s=this.stepWidth,i=f.minSelectedTime,u=!1;t.parseDates&&!t.equalSpacing?(e=f.lastTime,f=f.firstTime,t.minDuration(),t=Math.round(n/s)+f,n=this.dragging?t+this.timeDifference:Math.round((n+o)/s)+f,t>n&&(t=n),0<i&&n-t<i&&(n=Math.round(t+(n-t)/2),u=Math.round(i/2),t=n-u,n+=u,u=!0),n>e&&(n=e),n-i<t&&(t=n-i),t<f&&(t=f),t+i>n&&(n=t+i),t!=this.startTime||n!=this.endTime)&&(this.startTime=t,this.endTime=n,r.start=t,r.end=n,r.startDate=new Date(t),r.endDate=new Date(n),this.fire(r.type,r)):(t.startOnAxis||(n+=s/2),o-=this.stepWidth/2,i=t.xToIndex(n),n=t.xToIndex(n+o),i!=this.start||this.end!=n)&&(t.startOnAxis&&(this.resizingRight&&i==n&&n++,this.resizingLeft&&i==n&&(0<i?i--:n=1)),this.start=i,this.end=this.dragging?this.start+this.difference:n,r.start=this.start,r.end=this.end,t.parseDates&&(e[this.start]&&(r.startDate=new Date(e[this.start].time)),e[this.end]&&(r.endDate=new Date(e[this.end].time))),this.fire(r.type,r));u&&this.zoomScrollbar()}},zoomScrollbar:function(){var i,r,t,n;i=this.chart;t=i.chartData;n=this.categoryAxis;n.parseDates&&!n.equalSpacing?(t=n.stepWidth,n=i.firstTime,i=t*(this.startTime-n),r=t*(this.endTime-n)):(i=t[this.start].x[n.id],r=t[this.end].x[n.id],t=n.stepWidth,n.startOnAxis||(n=t/2,i-=n,r+=n));this.stepWidth=t;this.updateScrollbarSize(i,r)},maskGraphs:function(n,t,i,r){var u=this.selectedGraph;u&&u.set.clipRect(n,t,i,r)},handleDragStart:function(){AmCharts.ChartScrollbar.base.handleDragStart.call(this);this.difference=this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){AmCharts.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}});AmCharts.AmBalloon=AmCharts.Class({construct:function(n){this.cname="AmBalloon";this.enabled=!0;this.fillColor="#FFFFFF";this.fillAlpha=.8;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=0;this.maxWidth=220;this.horizontalPadding=8;this.verticalPadding=4;this.pointerWidth=6;this.pointerOrientation="V";this.color="#000000";this.adjustBorderColor=!0;this.show=this.follow=this.showBullet=!1;this.bulletSize=3;this.shadowAlpha=.4;this.shadowColor="#000000";this.fadeOutDuration=this.animationDuration=.3;this.fixedPosition=!1;this.offsetY=6;this.offsetX=1;this.textAlign="center";AmCharts.isModern||(this.offsetY*=1.5);AmCharts.applyTheme(this,n,this.cname)},draw:function(){var u=this.pointToX,o=this.pointToY,l,e,b,r,i,ut,n;if(this.deltaSignX=this.deltaSignY=1,l=this.chart,AmCharts.VML&&(this.fadeOutDuration=0),this.xAnim&&l.stopAnim(this.xAnim),this.yAnim&&l.stopAnim(this.yAnim),!isNaN(u)){var tt=this.follow,v=l.container,a=this.set;if(AmCharts.remove(a),this.removeDiv(),a=v.set(),a.node.style.pointerEvents="none",this.set=a,l.balloonsSet.push(a),this.show){var c=this.l,p=this.t,g=this.r,k=this.b,e=this.balloonColor,s=this.fillColor,it=this.borderColor,h=s;void 0!=e&&(this.adjustBorderColor?h=it=e:s=e);var y=this.horizontalPadding,w=this.verticalPadding,f=this.pointerWidth,rt=this.pointerOrientation,d=this.cornerRadius,t=l.fontFamily,n=this.fontSize;void 0==n&&(n=l.fontSize);e=document.createElement("div");b=e.style;b.pointerEvents="none";b.position="absolute";r=this.minWidth;i="";isNaN(r)||(i="min-width:"+(r-2*y)+"px; ");e.innerHTML='<div style="text-align:'+this.textAlign+"; "+i+"max-width:"+this.maxWidth+"px; font-size:"+n+"px; color:"+this.color+"; font-family:"+t+'">'+this.text+"<\/div>";l.chartDiv.appendChild(e);this.textDiv=e;n=e.offsetWidth;t=e.offsetHeight;e.clientHeight&&(n=e.clientWidth,t=e.clientHeight);t+=2*w;i=n+2*y;!isNaN(r)&&i<r&&(i=r);window.opera&&(t+=2);ut=!1;n=this.offsetY;l.handDrawn&&(n+=l.handDrawScatter+2);"H"!=rt?(r=u-i/2,o<p+t+10&&"down"!=rt?(ut=!0,tt&&(o+=n),n=o+f,this.deltaSignY=-1):(tt&&(o-=n),n=o-t-f,this.deltaSignY=1)):(2*f>t&&(f=t/2),n=o-t/2,u<c+(g-c)/2?(r=u+f,this.deltaSignX=-1):(r=u-i-f,this.deltaSignX=1));n+t>=k&&(n=k-t);n<p&&(n=p);r<c&&(r=c);r+i>g&&(r=g-i);var p=n+w,k=r+y,w=this.shadowAlpha,ft=this.shadowColor,y=this.borderThickness,et=this.bulletSize,nt;0<d||0===f?(0<w&&(u=AmCharts.rect(v,i,t,s,0,y+1,ft,w,this.cornerRadius),AmCharts.isModern?u.translate(1,1):u.translate(4,4),a.push(u)),s=AmCharts.rect(v,i,t,s,this.fillAlpha,y,it,this.borderAlpha,this.cornerRadius),this.showBullet&&(nt=AmCharts.circle(v,et,h,this.fillAlpha),a.push(nt))):(h=[],d=[],"H"!=rt?(c=u-r,c>i-f&&(c=i-f),c<f&&(c=f),h=[0,c-f,u-r,c+f,i,i,0,0],d=ut?[0,0,o-n,0,0,t,t,0]:[t,t,o-n,t,t,0,0,t]):(h=o-n,h>t-f&&(h=t-f),h<f&&(h=f),d=[0,h-f,o-n,h+f,t,t,0,0],h=u<c+(g-c)/2?[0,0,r<u?0:u-r,0,0,i,i,0]:[i,i,r+i>u?i:u-r,i,i,0,0,i]),0<w&&(u=AmCharts.polygon(v,h,d,s,0,y,ft,w),u.translate(1,1),a.push(u)),s=AmCharts.polygon(v,h,d,s,this.fillAlpha,y,it,this.borderAlpha));this.bg=s;a.push(s);s.toFront();v=1*this.deltaSignX;b.left=k+"px";b.top=p+"px";a.translate(r-v,n);s=s.getBBox();this.bottom=n+t+1;this.yPos=s.y+n;nt&&nt.translate(this.pointToX-r+v,o-n);o=this.animationDuration;0<this.animationDuration&&!tt&&!isNaN(this.prevX)&&(a.translate(this.prevX,this.prevY),a.animate({translate:r-v+","+n},o,"easeOutSine"),e&&(b.left=this.prevTX+"px",b.top=this.prevTY+"px",this.xAnim=l.animate({node:e},"left",this.prevTX,k,o,"easeOutSine","px"),this.yAnim=l.animate({node:e},"top",this.prevTY,p,o,"easeOutSine","px")));this.prevX=r-v;this.prevY=n;this.prevTX=k;this.prevTY=p}}},followMouse:function(){var n,t,i;if(this.follow&&this.show&&(n=this.chart.mouseX-this.offsetX*this.deltaSignX,t=this.chart.mouseY,this.pointToX=n,this.pointToY=t,n!=this.previousX||t!=this.previousY))if(this.previousX=n,this.previousY=t,0===this.cornerRadius)this.draw();else if(i=this.set,i){var r=i.getBBox(),n=n-r.width/2,u=t-r.height-10;n<this.l&&(n=this.l);n>this.r-r.width&&(n=this.r-r.width);u<this.t&&(u=t+10);i.translate(n,u);t=this.textDiv.style;t.left=n+this.horizontalPadding+"px";t.top=u+this.verticalPadding+"px"}},changeColor:function(n){this.balloonColor=n},setBounds:function(n,t,i,r){this.l=n;this.t=t;this.r=i;this.b=r;this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(n){this.text=n;this.show=!0;this.destroyTO&&clearTimeout(this.destroyTO);n=this.chart;this.fadeAnim1&&n.stopAnim(this.fadeAnim1);this.fadeAnim2&&n.stopAnim(this.fadeAnim2);this.draw()},hide:function(){var n=this,t=n.fadeOutDuration,r=n.chart,i;0<t?(n.destroyTO=setTimeout(function(){n.destroy.call(n)},1e3*t),n.follow=!1,n.show=!1,i=n.set,i&&(i.setAttr("opacity",n.fillAlpha),n.fadeAnim1=i.animate({opacity:0},t,"easeInSine")),n.textDiv&&(n.fadeAnim2=r.animate({node:n.textDiv},"opacity",1,0,t,"easeInSine",""))):(n.show=!1,n.follow=!1,n.destroy())},setPosition:function(n,t,i){this.pointToX=n;this.pointToY=t;i&&(n==this.previousX&&t==this.previousY||this.draw());this.previousX=n;this.previousY=t},followCursor:function(n){var t=this,i,r;(t.follow=n)?(t.pShowBullet=t.showBullet,t.showBullet=!1):void 0!==t.pShowBullet&&(t.showBullet=t.pShowBullet);clearInterval(t.interval);i=t.chart.mouseX;r=t.chart.mouseY;!isNaN(i)&&n&&(t.pointToX=i-t.offsetX*t.deltaSignX,t.pointToY=r,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var n=this.textDiv.parentNode;n&&n.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval);AmCharts.remove(this.set);this.removeDiv();this.set=null}});AmCharts.AmCoordinateChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(n){AmCharts.AmCoordinateChart.base.construct.call(this,n);this.theme=n;this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.startAlpha=1;this.startDuration=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[];this.guides=[];this.gridAboveGraphs=!1;AmCharts.applyTheme(this,n,"AmCoordinateChart")},initChart:function(){AmCharts.AmCoordinateChart.base.initChart.call(this);var n=this.categoryAxis;n&&(this.categoryAxis=AmCharts.processObject(n,AmCharts.CategoryAxis,this.theme));this.processValueAxes();this.createValueAxes();this.processGraphs();this.processGuides();AmCharts.VML&&(this.startAlpha=1);this.setLegendData(this.graphs);this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var n=new AmCharts.ValueAxis;this.addValueAxis(n)}},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(){var c=this.graphs,n,s={},w=this.seriesIdField,l,a,b,i,k,d,g,nt,tt,ft,it,e,rt,h,t,r,ut,v,o,y,f,et,u,p;if(w||(w=this.categoryField),this.chartData=[],l=this.dataProvider,l)for(a=!1,i=this.categoryAxis,i&&(a=i.parseDates,k=i.forceShowField,d=i.labelColorField,b=i.categoryFunction),tt={},a&&(n=AmCharts.extractPeriod(i.minPeriod),g=n.period,nt=n.count,ft=AmCharts.getPeriodDuration(g,nt)),it={},this.lookupTable=it,rt=this.dataDateFormat,h={},e=0;e<l.length;e++)if(t={},r=l[e],n=r[this.categoryField],t.dataContext=r,t.category=b?b(n,r,i):String(n),k&&(t.forceShow=r[k]),d&&(t.labelColor=r[d]),it[r[w]]=t,!a||(n=i.categoryFunction?i.categoryFunction(n,r,i):n instanceof Date?AmCharts.newDate(n,i.minPeriod):rt?AmCharts.stringToDate(n,rt):new Date(n),n=AmCharts.resetDateToMin(n,g,nt,i.firstDayOfWeek),t.category=n,t.time=n.getTime(),!isNaN(t.time))){for(ut=this.valueAxes,t.axes={},t.x={},v=0;v<ut.length;v++)for(o=ut[v].id,t.axes[o]={},t.axes[o].graphs={},y=0;y<c.length;y++)n=c[y],f=n.id,et=n.periodValue,n.valueAxis.id==o&&(t.axes[o].graphs[f]={},u={},u.index=e,p=r,n.dataProvider&&(p=s),u.values=this.processValues(p,n,et),!n.connect&&h&&h[f]&&t.time-tt[f]>1.1*ft&&(h[f].gap=!0),this.processFields(n,u,p),u.category=t.category,u.serialDataItem=t,u.graph=n,t.axes[o].graphs[f]=u,tt[f]=t.time,h[f]=u);this.chartData[e]=t}for(s=0;s<c.length;s++)n=c[s],n.dataProvider&&this.parseGraphData(n)},processValues:function(n,t,i){var u={},r,f=!1;return"candlestick"!=t.type&&"ohlc"!=t.type||""===i||(f=!0),r=Number(n[t.valueField+i]),isNaN(r)||(u.value=r),r=Number(n[t.errorField+i]),isNaN(r)||(u.error=r),f&&(i="Open"),r=Number(n[t.openField+i]),isNaN(r)||(u.open=r),f&&(i="Close"),r=Number(n[t.closeField+i]),isNaN(r)||(u.close=r),f&&(i="Low"),r=Number(n[t.lowField+i]),isNaN(r)||(u.low=r),f&&(i="High"),r=Number(n[t.highField+i]),isNaN(r)||(u.high=r),u},parseGraphData:function(n){var e=n.dataProvider,t=n.seriesIdField,r;for(t||(t=this.seriesIdField),t||(t=this.categoryField),r=0;r<e.length;r++){var u=e[r],f=this.lookupTable[String(u[t])],i=n.valueAxis.id;f&&(i=f.axes[i].graphs[n.id],i.serialDataItem=f,i.values=this.processValues(u,n,n.periodValue),this.processFields(n,i,u))}},addValueAxis:function(n){n.chart=this;this.valueAxes.push(n);this.validateData()},removeValueAxesAndGraphs:function(){for(var t=this.valueAxes,n=t.length-1;-1<n;n--)this.removeValueAxis(t[n])},removeValueAxis:function(n){for(var i=this.graphs,r,t=i.length-1;0<=t;t--)r=i[t],r&&r.valueAxis==n&&this.removeGraph(r);for(i=this.valueAxes,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1);this.validateData()},addGraph:function(n){this.graphs.push(n);this.chooseGraphColor(n,this.graphs.length-1);this.validateData()},removeGraph:function(n){for(var i=this.graphs,t=i.length-1;0<=t;t--)i[t]==n&&(i.splice(t,1),n.destroy());this.validateData()},processValueAxes:function(){for(var i=this.valueAxes,n,t=0;t<i.length;t++)n=i[t],n=AmCharts.processObject(n,AmCharts.ValueAxis,this.theme),i[t]=n,n.chart=this,n.id||(n.id="valueAxisAuto"+t+"_"+(new Date).getTime()),void 0===n.usePrefixes&&(n.usePrefixes=this.usePrefixes)},processGuides:function(){var r=this.guides,u=this.categoryAxis,i,n,t;if(r)for(i=0;i<r.length;i++)n=r[i],(void 0!==n.category||void 0!==n.date)&&u&&u.addGuide(n),t=n.valueAxis,t?(AmCharts.isString(t)&&(t=this.getValueAxisById(t)),t?t.addGuide(n):this.valueAxes[0].addGuide(n)):isNaN(n.value)||this.valueAxes[0].addGuide(n)},processGraphs:function(){for(var i=this.graphs,n,t=0;t<i.length;t++)n=i[t],n=AmCharts.processObject(n,AmCharts.AmGraph,this.theme),i[t]=n,this.chooseGraphColor(n,t),n.chart=this,AmCharts.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.id||(n.id="graphAuto"+t+"_"+(new Date).getTime())},formatString:function(n,t,i){var u=t.graph,r=u.valueAxis;return r.duration&&t.values.value&&(r=AmCharts.formatDuration(t.values.value,r.duration,"",r.durationUnits,r.maxInterval,r.numberFormatter),n=n.split("[[value]]").join(r)),n=AmCharts.massReplace(n,{"[[title]]":u.title,"[[description]]":t.description}),n=i?AmCharts.fixNewLines(n):AmCharts.fixBrakes(n),AmCharts.cleanFromEmpty(n)},getBalloonColor:function(n,t,i){var r=n.lineColor,u=n.balloonColor;return i&&(u=r),i=n.fillColorsR,"object"==typeof i?r=i[0]:void 0!==i&&(r=i),t.isNegative&&(i=n.negativeLineColor,n=n.negativeFillColors,"object"==typeof n?i=n[0]:void 0!==n&&(i=n),void 0!==i&&(r=i)),void 0!==t.color&&(r=t.color),void 0===u&&(u=r),u},getGraphById:function(n){return AmCharts.getObjById(this.graphs,n)},getValueAxisById:function(n){return AmCharts.getObjById(this.valueAxes,n)},processFields:function(n,t,i){var u,r,e,f;for(n.itemColors&&(u=n.itemColors,r=t.index,t.color=r<u.length?u[r]:AmCharts.randomColor()),u="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern".split(" "),r=0;r<u.length;r++)e=u[r],f=n[e+"Field"],f&&(f=i[f],AmCharts.isDefined(f)&&(t[e]=f));t.dataContext=i},chooseGraphColor:function(n,t){if(n.lineColor)n.lineColorR=n.lineColor;else{var i;i=this.colors.length>t?this.colors[t]:AmCharts.randomColor();n.lineColorR=i}n.fillColorsR=n.fillColors?n.fillColors:n.lineColorR;n.bulletBorderColorR=n.bulletBorderColor?n.bulletBorderColor:n.useLineColorForBulletBorder?n.lineColorR:n.bulletColor;n.bulletColorR=n.bulletColor?n.bulletColor:n.lineColorR;(i=this.patterns)&&(n.pattern=i[t])},handleLegendEvent:function(n){var r=n.type,t,i;if(n=n.dataItem,!this.legend.data&&n){t=n.hidden;i=n.showBalloon;switch(r){case"clickMarker":this.textClickEnabled&&(i?this.hideGraphsBalloon(n):this.showGraphsBalloon(n));break;case"clickLabel":i?this.hideGraphsBalloon(n):this.showGraphsBalloon(n);break;case"rollOverItem":t||this.highlightGraph(n);break;case"rollOutItem":t||this.unhighlightGraph();break;case"hideItem":this.hideGraph(n);break;case"showItem":this.showGraph(n)}}},highlightGraph:function(n){var u=this.graphs,t,i=.2,r;if(this.legend&&(i=this.legend.rollOverGraphAlpha),1!=i)for(t=0;t<u.length;t++)r=u[t],r!=n&&r.changeOpacity(i)},unhighlightGraph:function(){var n,t;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(n=this.graphs,t=0;t<n.length;t++)n[t].changeOpacity(1)},showGraph:function(n){n.switchable&&(n.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(n){n.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),n.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(n){n.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(n){n.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs,n;if(t)for(n=0;n<t.length;n++)t[n].animationPlayed=!1},animateAgain:function(){this.resetAnimation();this.validateNow()}});AmCharts.AmSlicedChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(n){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");AmCharts.AmSlicedChart.base.construct.call(this,n);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;AmCharts.applyTheme(this,n,"AmSlicedChart")},initChart:function(){AmCharts.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(n){var u=n.type,t=n.dataItem,r=this.legend,i;if(!r.data&&t){i=t.hidden;n=n.event;switch(u){case"clickMarker":i||r.switchable||this.clickSlice(t,n);break;case"clickLabel":i||this.clickSlice(t,n,!1);break;case"rollOverItem":i||this.rollOverSlice(t,!1,n);break;case"rollOutItem":i||this.rollOutSlice(t,n);break;case"hideItem":this.hideSlice(t,n);break;case"showItem":this.showSlice(t,n)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var n=this.legend;n&&n.invalidateSize()},addEventListeners:function(n,t){var i=this;n.mouseover(function(n){i.rollOverSlice(t,!0,n)}).mouseout(function(n){i.rollOutSlice(t,n)}).touchend(function(n){i.rollOverSlice(t,n);i.panEventsEnabled&&i.clickSlice(t,n)}).touchstart(function(n){i.rollOverSlice(t,n)}).click(function(n){i.clickSlice(t,n)}).contextmenu(function(n){i.handleRightClick(t,n)})},formatString:function(n,t,i){return n=AmCharts.formatValue(n,t,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),n=AmCharts.formatValue(n,t,["percents"],this.pf),n=AmCharts.massReplace(n,{"[[title]]":t.title,"[[description]]":t.description}),-1!=n.indexOf("[[")&&(n=AmCharts.formatDataContextValue(n,t.dataContext)),n=i?AmCharts.fixNewLines(n):AmCharts.fixBrakes(n),AmCharts.cleanFromEmpty(n)},startSlices:function(){for(var n=0;n<this.chartData.length;n++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(n):this.startSlice(this.chartData[n])},setStartTO:function(n){var t=this;n=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*n);t.timeOuts.push(n)},pullSlices:function(n){for(var r=this.chartData,i,t=0;t<r.length;t++)i=r[t],i.pulled&&this.pullSlice(i,1,n)},startSequenced:function(){for(var t=this.chartData,n=0;n<t.length;n++)if(!t[n].started){this.startSlice(this.chartData[n]);break}},startSlice:function(n){n.started=!0;var t=n.wedge,i=this.startDuration;t&&0<i&&(0<n.alpha&&t.show(),t.translate(n.startX,n.startY),t.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){for(var r=this.chartData,n,i,t=0;t<r.length;t++)n=r[t],0<n.alpha&&(i=n.label,i&&i.show(),(n=n.tick)&&n.show())},showSlice:function(n){isNaN(n)?n.hidden=!1:this.chartData[n].hidden=!1;this.invalidateVisibility()},hideSlice:function(n){isNaN(n)?n.hidden=!0:this.chartData[n].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(n,t,i){var f,e,u,r;isNaN(n)||(n=this.chartData[n]);clearTimeout(this.hoverInt);n.hidden||(this.pullOnHover&&this.pullSlice(n,1),1>this.hoverAlpha&&n.wedge&&n.wedge.attr({opacity:this.hoverAlpha}),f=n.balloonX,e=n.balloonY,n.pulled&&(f+=n.pullX,e+=n.pullY),u=this.formatString(this.balloonText,n,!0),r=this.balloonFunction,r&&(u=r(n,u)),r=AmCharts.adjustLuminosity(n.color,-.15),this.showBalloon(u,r,t,f,e),n={type:"rollOverSlice",dataItem:n,chart:this,event:i},this.fire(n.type,n))},rollOutSlice:function(n,t){isNaN(n)||(n=this.chartData[n]);n.wedge&&n.wedge.attr({opacity:1});this.hideBalloon();var i={type:"rollOutSlice",dataItem:n,chart:this,event:t};this.fire(i.type,i)},clickSlice:function(n,t,i){isNaN(n)||(n=this.chartData[n]);n.pulled?this.pullSlice(n,0):this.pullSlice(n,1);AmCharts.getURL(n.url,this.urlTarget);i||(n={type:"clickSlice",dataItem:n,chart:this,event:t},this.fire(n.type,n))},handleRightClick:function(n,t){isNaN(n)||(n=this.chartData[n]);var i={type:"rightClickSlice",dataItem:n,chart:this,event:t};this.fire(i.type,i)},drawTicks:function(){for(var r=this.chartData,n,t,i=0;i<r.length;i++)n=r[i],n.label&&(t=n.ty,t=AmCharts.line(this.container,[n.tx0,n.tx,n.tx2],[n.ty0,t,t],this.labelTickColor,this.labelTickAlpha),n.tick=t,n.wedge.push(t))},initialStart:function(){var n=this,t=n.startDuration,i=setTimeout(function(){n.showLabels.call(n)},1e3*t);n.timeOuts.push(i);n.chartCreated?n.pullSlices(!0):(n.startSlices(),0<t?(t=setTimeout(function(){n.pullSlices.call(n)},1200*t),n.timeOuts.push(t)):n.pullSlices(!0))},pullSlice:function(n,t,i){var r=this.pullOutDuration;!0===i&&(r=0);(i=n.wedge)&&(0<r?i.animate({translate:t*n.pullX+","+t*n.pullY},r,this.pullOutEffect):i.translate(t*n.pullX,t*n.pullY));1==t?(n.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(n.index),n={type:"pullOutSlice",dataItem:n,chart:this}):(n.pulled=!1,n={type:"pullInSlice",dataItem:n,chart:this});this.fire(n.type,n)},pullInAll:function(n){for(var i=this.chartData,t=0;t<this.chartData.length;t++)t!=n&&i[t].pulled&&this.pullSlice(i[t],0)},pullOutAll:function(n){n=this.chartData;for(var t=0;t<n.length;t++)n[t].pulled||this.pullSlice(n[t],1)},parseData:function(){var e=[],o,u,f,i,n,t,r;if(this.chartData=e,o=this.dataProvider,isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==o){for(u=o.length,f=0,i=0;i<u;i++)n={},r=o[i],n.dataContext=r,n.value=Number(r[this.valueField]),(t=r[this.titleField])||(t=""),n.title=t,n.pulled=AmCharts.toBoolean(r[this.pulledField],!1),(t=r[this.descriptionField])||(t=""),n.description=t,n.labelRadius=Number(r[this.labelRadiusField]),n.switchable=!0,n.url=r[this.urlField],t=r[this.patternField],!t&&this.patterns&&(t=this.patterns[i]),n.pattern=t,n.visibleInLegend=AmCharts.toBoolean(r[this.visibleInLegendField],!0),t=r[this.alphaField],n.alpha=void 0!==t?Number(t):this.alpha,t=r[this.colorField],void 0!==t&&(n.color=AmCharts.toColor(t)),n.labelColor=AmCharts.toColor(r[this.labelColorField]),f+=n.value,n.hidden=!1,e[i]=n;for(i=o=0;i<u;i++)n=e[i],n.percents=n.value/f*100,n.percents<this.groupPercent&&o++;for(1<o&&(this.groupValue=0,this.removeSmallSlices(),e.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/f*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,dataContext:{}})),u=this.baseColor,u||(u=this.pieBaseColor),f=this.brightnessStep,f||(f=this.pieBrightnessStep),i=0;i<e.length;i++)u?t=AmCharts.adjustLuminosity(u,i*f/100):(t=this.colors[i],void 0===t&&(t=AmCharts.randomColor())),void 0===e[i].color&&(e[i].color=t);this.recalculatePercents()}},recalculatePercents:function(){for(var i=this.chartData,r=0,n,t=0;t<i.length;t++)n=i[t],!n.hidden&&0<n.value&&(r+=n.value);for(t=0;t<i.length;t++)n=this.chartData[t],n.percents=!n.hidden&&0<n.value?100*n.value/r:0},removeSmallSlices:function(){for(var t=this.chartData,n=t.length-1;0<=n;n--)t[n].percents<this.groupPercent&&(this.groupValue+=t[n].value,t.splice(n,1))},animateAgain:function(){var t=this,n,i,r;for(t.startSlices(),n=0;n<t.chartData.length;n++)i=t.chartData[n],i.started=!1,r=i.wedge,r&&r.translate(i.startX,i.startY);n=t.startDuration;0<n?(n=setTimeout(function(){t.pullSlices.call(t)},1200*n),t.timeOuts.push(n)):t.pullSlices()},measureMaxLabel:function(){for(var u=this.chartData,r=0,i=0;i<u.length;i++){var t=u[i],n=this.formatString(this.labelText,t),f=this.labelFunction;f&&(n=f(t,n));t=AmCharts.text(this.container,n,this.color,this.fontFamily,this.fontSize);n=t.getBBox().width;n>r&&(r=n);t.remove()}return r}});AmCharts.AmRectangularChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(n){AmCharts.AmRectangularChart.base.construct.call(this,n);this.theme=n;this.createEvents("zoomed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0;this.heightMultiplier=this.widthMultiplier=1;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.zoomOutButtonImageSize=17;this.zoomOutButtonImage="lens.png";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;AmCharts.applyTheme(this,n,"AmRectangularChart")},initChart:function(){AmCharts.AmRectangularChart.base.initChart.call(this);this.updateDxy();var n=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),n=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();n&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){if(AmCharts.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),AmCharts.ifArray(this.chartData)){var n=this.chartCursor;n&&n.draw();n=this.zoomOutText;""!==n&&n&&this.drawZoomOutButton()}},resetMargins:function(){var i={},n,r,t,u;if("serial"==this.type){for(r=this.valueAxes,n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(this.rotate),t.fixAxisPosition(),i[t.position]=!0);(n=this.categoryAxis)&&!n.ignoreAxisWidth&&(n.setOrientation(!this.rotate),n.fixAxisPosition(),n.fixAxisPosition(),i[n.position]=!0)}else{for(t=this.xAxes,r=this.yAxes,n=0;n<t.length;n++)u=t[n],u.ignoreAxisWidth||(u.setOrientation(!0),u.fixAxisPosition(),i[u.position]=!0);for(n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(!1),t.fixAxisPosition(),i[t.position]=!0)}i.left&&(this.marginLeft=0);i.right&&(this.marginRight=0);i.top&&(this.marginTop=0);i.bottom&&(this.marginBottom=0);this.fixMargins=i},measureMargins:function(){for(var f=this.valueAxes,t=this.autoMarginOffset,e=this.fixMargins,s=this.realWidth,h=this.realHeight,i=t,r=t,u=s,n=h,o=0;o<f.length;o++)n=this.getAxisBounds(f[o],i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b);(f=this.categoryAxis)&&(n=this.getAxisBounds(f,i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b));e.left&&i<t&&(this.marginLeft=Math.round(-i+t));e.right&&u>=s-t&&(this.marginRight=Math.round(u-s+t));e.top&&r<t+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-r+t+this.titleHeight));e.bottom&&n>h-t&&(this.marginBottom=Math.round(this.marginBottom+n-h+t));this.initChart()},getAxisBounds:function(n,t,i,r,u){if(!n.ignoreAxisWidth){var f=n.labelsSet,e=n.tickLength;if(n.inside&&(e=0),f)switch(f=n.getBBox(),n.position){case"top":n=f.y;r>n&&(r=n);break;case"bottom":n=f.y+f.height;u<n&&(u=n);break;case"right":n=f.x+f.width+e+3;i<n&&(i=n);break;case"left":n=f.x-e;t>n&&(t=n)}}return{l:t,t:r,r:i,b:u}},drawZoomOutButton:function(){var n=this,r=n.container.set(),t,i,h;n.zoomButtonSet.push(r);var u=n.color,o=n.fontSize,c=n.zoomOutButtonImageSize,l=n.zoomOutButtonImage,a=AmCharts.lang.zoomOutText||n.zoomOutText,f=n.zoomOutButtonColor,s=n.zoomOutButtonAlpha,t=n.zoomOutButtonFontSize,e=n.zoomOutButtonPadding;for(isNaN(t)||(o=t),(t=n.zoomOutButtonFontColor)&&(u=t),t=n.zoomOutButton,t&&(t.fontSize&&(o=t.fontSize),t.color&&(u=t.color),t.backgroundColor&&(f=t.backgroundColor),isNaN(t.backgroundAlpha)||(n.zoomOutButtonRollOverAlpha=t.backgroundAlpha)),h=t=0,void 0!==n.pathToImages&&l&&(i=n.container.image(n.pathToImages+l,0,0,c,c),r.push(i),i=i.getBBox(),t=i.width+5),void 0!==a&&(u=AmCharts.text(n.container,a,u,n.fontFamily,o,"start"),o=u.getBBox(),h=i?i.height/2-3:o.height/2,u.translate(t,h),r.push(u)),i=r.getBBox(),u=1,AmCharts.isModern||(u=0),f=AmCharts.rect(n.container,i.width+2*e+5,i.height+2*e-2,f,1,1,f,u),f.setAttr("opacity",s),f.translate(-e,-e),r.push(f),f.toBack(),n.zbBG=f,i=f.getBBox(),r.translate(n.marginLeftReal+n.plotAreaWidth-i.width+e,n.marginTopReal+e),r.hide(),r.mouseover(function(){n.rollOverZB()}).mouseout(function(){n.rollOutZB()}).click(function(){n.clickZB()}).touchstart(function(){n.rollOverZB()}).touchend(function(){n.rollOutZB();n.clickZB()}),s=0;s<r.length;s++)r[s].attr({cursor:"pointer"});n.zbSet=r},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0;this.zoom()},drawPlotArea:function(){var t=this.dx,r=this.dy,u=this.marginLeftReal,o=this.marginTopReal,i=this.plotAreaWidth-1,f=this.plotAreaHeight-1,n=this.plotAreaFillColors,e=this.plotAreaFillAlphas,s=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;this.trendLinesSet.clipRect(u,o,i,f);"object"==typeof e&&(e=e[0]);n=AmCharts.polygon(this.container,[0,i,i,0,0],[0,0,f,f,0],n,e,1,s,h,this.plotAreaGradientAngle);n.translate(u+t,o+r);this.set.push(n);0!==t&&0!==r&&(n=this.plotAreaFillColors,"object"==typeof n&&(n=n[0]),n=AmCharts.adjustLuminosity(n,-.15),i=AmCharts.polygon(this.container,[0,t,i+t,i,0],[0,r,r,0,0],n,e,1,s,h),i.translate(u,o+f),this.set.push(i),t=AmCharts.polygon(this.container,[0,0,t,t,0],[0,f,f+r,r,0],n,e,1,s,h),t.translate(u,o),this.set.push(t));(u=this.bbset)&&this.scrollbarOnly&&u.remove()},updatePlotArea:function(){var n=this.updateWidth(),t=this.updateHeight(),i=this.container;this.realWidth=n;this.realWidth=t;i&&this.container.setSize(n,t);n=n-this.marginLeftReal-this.marginRightReal-this.dx;t=t-this.marginTopReal-this.marginBottomReal;1>n&&(n=1);1>t&&(t=1);this.plotAreaWidth=Math.round(n);this.plotAreaHeight=Math.round(t)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var n=this.getTitleHeight();this.titleHeight=n;this.marginTopReal=this.marginTop-this.dy+n;this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){for(var i=this.valueAxes,r=this.marginLeftReal,u=this.marginTopReal,f=this.plotAreaHeight,e=this.plotAreaWidth,n,t=0;t<i.length;t++)n=i[t],n.axisRenderer=AmCharts.RecAxis,n.guideFillRenderer=AmCharts.RecFill,n.axisItemRenderer=AmCharts.RecItem,n.dx=this.dx,n.dy=this.dy,n.viW=e-1,n.viH=f-1,n.marginsChanged=!0,n.viX=r,n.viY=u,this.updateObjectSize(n)},updateObjectSize:function(n){n.width=(this.plotAreaWidth-1)*this.widthMultiplier;n.height=(this.plotAreaHeight-1)*this.heightMultiplier;n.x=this.marginLeftReal+this.horizontalPosition;n.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){for(var i=this.graphs,n,t=0;t<i.length;t++)n=i[t],n.x=this.marginLeftReal+this.horizontalPosition,n.y=this.marginTopReal+this.verticalPosition,n.width=this.plotAreaWidth*this.widthMultiplier,n.height=this.plotAreaHeight*this.heightMultiplier,n.index=t,n.dx=this.dx,n.dy=this.dy,n.rotate=this.rotate},updateChartCursor:function(){var n=this.chartCursor;n&&(n=AmCharts.processObject(n,AmCharts.ChartCursor,this.theme),this.addChartCursor(n),n.x=this.marginLeftReal,n.y=this.marginTopReal,n.width=this.plotAreaWidth-1,n.height=this.plotAreaHeight-1,n.chart=this)},processScrollbars:function(){var n=this.chartScrollbar;n&&(n=AmCharts.processObject(n,AmCharts.ChartScrollbar,this.theme),this.addChartScrollbar(n))},updateScrollbars:function(){},addChartCursor:function(n){AmCharts.callMethod("destroy",[this.chartCursor]);n&&(this.listenTo(n,"changed",this.handleCursorChange),this.listenTo(n,"zoomed",this.handleCursorZoom));this.chartCursor=n},removeChartCursor:function(){AmCharts.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){for(var i=this.trendLines,n,t=0;t<i.length;t++)n=i[t],n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal+this.horizontalPosition,n.y=this.marginTopReal+this.verticalPosition,n.draw())},addTrendLine:function(n){this.trendLines.push(n)},removeTrendLine:function(n){for(var i=this.trendLines,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)},adjustMargins:function(n,t){var i=n.scrollbarHeight+n.offset;"top"==n.position?t?this.marginLeftReal+=i:this.marginTopReal+=i:t?this.marginRightReal+=i:this.marginBottomReal+=i},getScrollbarPosition:function(n,t,i){n.position=t?"bottom"==i||"left"==i?"bottom":"top":"top"==i||"right"==i?"bottom":"top"},updateChartScrollbar:function(n,t){if(n){n.rotate=t;var i=this.marginTopReal,u=this.marginLeftReal,f=n.scrollbarHeight,e=this.dx,o=this.dy,r=n.offset;"top"==n.position?t?(n.y=i,n.x=u-f-r):(n.y=i-f+o-1-r,n.x=u+e):t?(n.y=i+o,n.x=u+this.plotAreaWidth+e+r):(n.y=i+this.plotAreaHeight+r,n.x=this.marginLeftReal)}},showZB:function(n){var t=this.zbSet;t&&(n?t.show():t.hide(),this.rollOutZB())},handleReleaseOutside:function(n){AmCharts.AmRectangularChart.base.handleReleaseOutside.call(this,n);(n=this.chartCursor)&&n.handleReleaseOutside()},handleMouseDown:function(n){AmCharts.AmRectangularChart.base.handleMouseDown.call(this,n);var t=this.chartCursor;t&&t.handleMouseDown(n)},handleCursorChange:function(){}});AmCharts.TrendLine=AmCharts.Class({construct:function(n){this.cname="TrendLine";this.createEvents("click");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1;AmCharts.applyTheme(this,n,this.cname)},draw:function(){var n=this;n.destroy();var c=n.chart,h=c.container,o,u,s,l,i=n.categoryAxis,f=n.initialDate,a=n.initialCategory,e=n.finalDate,r=n.finalCategory,t=n.valueAxis,y=n.valueAxisX,p=n.initialXValue,w=n.finalXValue,b=n.initialValue,k=n.finalValue,d=t.recalculateToPercents,v=c.dataDateFormat;i&&(f&&(f instanceof Date||(f=v?AmCharts.stringToDate(f,v):new Date(f)),n.initialDate=f,o=i.dateToCoordinate(f)),a&&(o=i.categoryToCoordinate(a)),e&&(e instanceof Date||(e=v?AmCharts.stringToDate(e,v):new Date(e)),n.finalDate=e,u=i.dateToCoordinate(e)),r&&(u=i.categoryToCoordinate(r)));y&&!d&&(isNaN(p)||(o=y.getCoordinate(p)),isNaN(w)||(u=y.getCoordinate(w)));t&&!d&&(isNaN(b)||(s=t.getCoordinate(b)),isNaN(k)||(l=t.getCoordinate(k)));isNaN(o)||isNaN(u)||isNaN(s)||isNaN(s)||(c.rotate?(i=[s,l],u=[o,u]):(i=[o,u],u=[s,l]),s=n.lineColor,o=AmCharts.line(h,i,u,s,n.lineAlpha,n.lineThickness,n.dashLength),l=i,f=u,r=i[1]-i[0],t=u[1]-u[0],0===r&&(r=.01),0===t&&(t=.01),a=r/Math.abs(r),e=t/Math.abs(t),t=r*t/Math.abs(r*t)*Math.sqrt(Math.pow(r,2)+Math.pow(t,2)),r=Math.asin(r/t),t=Math.PI/2-r,r=Math.abs(5*Math.cos(t)),t=Math.abs(5*Math.sin(t)),l.push(i[1]-a*t,i[0]-a*t),f.push(u[1]+e*r,u[0]+e*r),i=AmCharts.polygon(h,l,f,s,.005,0),h=h.set([i,o]),h.translate(c.marginLeftReal,c.marginTopReal),c.trendLinesSet.push(h),n.line=o,n.set=h,i.mouseup(function(){n.handleLineClick()}).mouseover(function(){n.handleLineOver()}).mouseout(function(){n.handleLineOut()}),i.touchend&&i.touchend(function(){n.handleLineClick()}))},handleLineClick:function(){var n={type:"click",trendLine:this,chart:this.chart};this.fire(n.type,n)},handleLineOver:function(){var n=this.rollOverColor;void 0!==n&&this.line.attr({stroke:n})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){AmCharts.remove(this.set)}});AmCharts.circle=function(n,t,i,r,u,f,e,o,s){return(void 0==u||0===u)&&(u=.01),void 0===f&&(f="#000000"),void 0===e&&(e=0),r={fill:i,stroke:f,"fill-opacity":r,"stroke-width":u,"stroke-opacity":e},n=isNaN(s)?n.circle(0,0,t).attr(r):n.ellipse(0,0,t,s).attr(r),o&&n.gradient("radialGradient",[i,AmCharts.adjustLuminosity(i,-.6)]),n};AmCharts.text=function(n,t,i,r,u,f,e,o){return f||(f="middle"),"right"==f&&(f="end"),isNaN(o)&&(o=1),void 0!==t&&(t=String(t),AmCharts.isIE&&!AmCharts.isModern&&(t=t.replace("&amp;","&"),t=t.replace("&","&amp;"))),i={fill:i,"font-family":r,"font-size":u,opacity:o},!0===e&&(i["font-weight"]="bold"),i["text-anchor"]=f,n.text(t,i)};AmCharts.polygon=function(n,t,i,r,u,f,e,o,s,h,c){isNaN(f)&&(f=.01);isNaN(o)&&(o=u);var l=r,a=!1;for("object"==typeof l&&1<l.length&&(a=!0,l=l[0]),void 0===e&&(e=l),u={fill:l,stroke:e,"fill-opacity":u,"stroke-width":f,"stroke-opacity":o},void 0!==c&&0<c&&(u["stroke-dasharray"]=c),c=AmCharts.dx,f=AmCharts.dy,n.handDrawn&&(i=AmCharts.makeHD(t,i,n.handDrawScatter),t=i[0],i=i[1]),e=Math.round,h&&(e=AmCharts.doNothing),h="M"+(e(t[0])+c)+","+(e(i[0])+f),o=1;o<t.length;o++)h+=" L"+(e(t[o])+c)+","+(e(i[o])+f);return n=n.path(h+" Z").attr(u),a&&n.gradient("linearGradient",r,s),n};AmCharts.rect=function(n,t,i,r,u,f,e,o,s,h,c){var l,y,a,v;return isNaN(f)&&(f=0),void 0===s&&(s=0),void 0===h&&(h=270),isNaN(u)&&(u=0),l=r,y=!1,"object"==typeof l&&(l=l[0],y=!0),void 0===e&&(e=l),void 0===o&&(o=u),t=Math.round(t),i=Math.round(i),a=0,v=0,0>t&&(t=Math.abs(t),a=-t),0>i&&(i=Math.abs(i),v=-i),a+=AmCharts.dx,v+=AmCharts.dy,u={fill:l,stroke:e,"fill-opacity":u,"stroke-opacity":o},void 0!==c&&0<c&&(u["stroke-dasharray"]=c),n=n.rect(a,v,t,i,s,f).attr(u),y&&n.gradient("linearGradient",r,h),n};AmCharts.bullet=function(n,t,i,r,u,f,e,o,s,h,c){var l;"circle"==t&&(t="round");switch(t){case"round":l=AmCharts.circle(n,i/2,r,u,f,e,o);break;case"square":l=AmCharts.polygon(n,[-i/2,i/2,i/2,-i/2],[i/2,i/2,-i/2,-i/2],r,u,f,e,o,h-180);break;case"rectangle":l=AmCharts.polygon(n,[-i,i,i,-i],[i/2,i/2,-i/2,-i/2],r,u,f,e,o,h-180);break;case"diamond":l=AmCharts.polygon(n,[-i/2,0,i/2,0],[0,-i/2,0,i/2],r,u,f,e,o);break;case"triangleUp":l=AmCharts.triangle(n,i,0,r,u,f,e,o);break;case"triangleDown":l=AmCharts.triangle(n,i,180,r,u,f,e,o);break;case"triangleLeft":l=AmCharts.triangle(n,i,270,r,u,f,e,o);break;case"triangleRight":l=AmCharts.triangle(n,i,90,r,u,f,e,o);break;case"bubble":l=AmCharts.circle(n,i/2,r,u,f,e,o,!0);break;case"line":l=AmCharts.line(n,[-i/2,i/2],[0,0],r,u,f,e,o);break;case"yError":l=n.set();l.push(AmCharts.line(n,[0,0],[-i/2,i/2],r,u,f));l.push(AmCharts.line(n,[-s,s],[-i/2,-i/2],r,u,f));l.push(AmCharts.line(n,[-s,s],[i/2,i/2],r,u,f));break;case"xError":l=n.set();l.push(AmCharts.line(n,[-i/2,i/2],[0,0],r,u,f));l.push(AmCharts.line(n,[-i/2,-i/2],[-s,s],r,u,f));l.push(AmCharts.line(n,[i/2,i/2],[-s,s],r,u,f))}return l&&l.pattern(c),l};AmCharts.triangle=function(n,t,i,r,u,f,e,o){(void 0===f||0===f)&&(f=1);void 0===e&&(e="#000");void 0===o&&(o=0);r={fill:r,stroke:e,"fill-opacity":u,"stroke-width":f,"stroke-opacity":o};t/=2;var s;return 0===i&&(s=" M"+-t+","+t+" L0,"+-t+" L"+t+","+t+" Z"),180==i&&(s=" M"+-t+","+-t+" L0,"+t+" L"+t+","+-t+" Z"),90==i&&(s=" M"+-t+","+-t+" L"+t+",0 L"+-t+","+t+" Z"),270==i&&(s=" M"+-t+",0 L"+t+","+t+" L"+t+","+-t+" Z"),n.path(s).attr(r)};AmCharts.line=function(n,t,i,r,u,f,e,o,s,h,c){if(n.handDrawn&&!c)return AmCharts.handDrawnLine(n,t,i,r,u,f,e,o,s,h,c);for(f={fill:"none","stroke-width":f},void 0!==e&&0<e&&(f["stroke-dasharray"]=e),isNaN(u)||(f["stroke-opacity"]=u),r&&(f.stroke=r),r=Math.round,h&&(r=AmCharts.doNothing),h=AmCharts.dx,u=AmCharts.dy,e="M"+(r(t[0])+h)+","+(r(i[0])+u),o=1;o<t.length;o++)e+=" L"+(r(t[o])+h)+","+(r(i[o])+u);return AmCharts.VML?n.path(e,void 0,!0).attr(f):(s&&(e+=" M0,0 L0,0"),n.path(e).attr(f))};AmCharts.makeHD=function(n,t,i){for(var a,v,c=[],l=[],r=1;r<n.length;r++)for(var s=Number(n[r-1]),h=Number(t[r-1]),f=Number(n[r]),e=Number(t[r]),u=Math.sqrt(Math.pow(f-s,2)+Math.pow(e-h,2)),u=Math.round(u/50)+1,f=(f-s)/u,e=(e-h)/u,o=0;o<=u;o++)a=s+o*f+Math.random()*i,v=h+o*e+Math.random()*i,c.push(a),l.push(v);return[c,l]};AmCharts.handDrawnLine=function(n,t,i,r,u,f,e,o,s,h,c){var y=n.set();for(c=1;c<t.length;c++)for(var v=[t[c-1],t[c]],l=[i[c-1],i[c]],l=AmCharts.makeHD(v,l,n.handDrawScatter),v=l[0],l=l[1],a=1;a<v.length;a++)y.push(AmCharts.line(n,[v[a-1],v[a]],[l[a-1],l[a]],r,u,f+Math.random()*n.handDrawThickness-n.handDrawThickness/2,e,o,s,h,!0));return y};AmCharts.doNothing=function(n){return n};AmCharts.wedge=function(n,t,i,r,u,f,e,o,s,h,c,l){var a=Math.round,ut,k;f=a(f);e=a(e);o=a(o);var tt=a(e/f*o),ft=AmCharts.VML,y=359.5+f/100;359.94<y&&(y=359.94);u>=y&&(u=y);var v=1/180*Math.PI,y=t+Math.sin(r*v)*o,p=i-Math.cos(r*v)*tt,w=t+Math.sin(r*v)*f,b=i-Math.cos(r*v)*e,d=t+Math.sin((r+u)*v)*f,g=i-Math.cos((r+u)*v)*e,nt=t+Math.sin((r+u)*v)*o,v=i-Math.cos((r+u)*v)*tt,it={fill:AmCharts.adjustLuminosity(h.fill,-.2),"stroke-opacity":0,"fill-opacity":h["fill-opacity"]},rt=0;if(180<Math.abs(u)&&(rt=1),r=n.set(),ft&&(y=a(10*y),w=a(10*w),d=a(10*d),nt=a(10*nt),p=a(10*p),b=a(10*b),g=a(10*g),v=a(10*v),t=a(10*t),s=a(10*s),i=a(10*i),f*=10,e*=10,o*=10,tt*=10,1>Math.abs(u)&&1>=Math.abs(d-w)&&1>=Math.abs(g-b)&&(ut=!0)),u="",l&&(it["fill-opacity"]=0,it["stroke-opacity"]=h["stroke-opacity"]/2,it.stroke=h.stroke),0<s&&(k=" M"+y+","+(p+s)+" L"+w+","+(b+s),ft?(ut||(k+=" A"+(t-f)+","+(s+i-e)+","+(t+f)+","+(s+i+e)+","+w+","+(b+s)+","+d+","+(g+s)),k+=" L"+nt+","+(v+s),0<o&&(ut||(k+=" B"+(t-o)+","+(s+i-tt)+","+(t+o)+","+(s+i+tt)+","+nt+","+(s+v)+","+y+","+(s+p)))):(k+=" A"+f+","+e+",0,"+rt+",1,"+d+","+(g+s)+" L"+nt+","+(v+s),0<o&&(k+=" A"+o+","+tt+",0,"+rt+",0,"+y+","+(p+s))),k=n.path(k+" Z",void 0,void 0,"1000,1000").attr(it),r.push(k),k=n.path(" M"+y+","+p+" L"+y+","+(p+s)+" L"+w+","+(b+s)+" L"+w+","+b+" L"+y+","+p+" Z",void 0,void 0,"1000,1000").attr(it),s=n.path(" M"+d+","+g+" L"+d+","+(g+s)+" L"+nt+","+(v+s)+" L"+nt+","+v+" L"+d+","+g+" Z",void 0,void 0,"1000,1000").attr(it),r.push(k),r.push(s)),ft?(ut||(u=" A"+a(t-f)+","+a(i-e)+","+a(t+f)+","+a(i+e)+","+a(w)+","+a(b)+","+a(d)+","+a(g)),f=" M"+a(y)+","+a(p)+" L"+a(w)+","+a(b)+u+" L"+a(nt)+","+a(v)):f=" M"+y+","+p+" L"+w+","+b+(" A"+f+","+e+",0,"+rt+",1,"+d+","+g)+" L"+nt+","+v,0<o&&(ft?ut||(f+=" B"+(t-o)+","+(i-tt)+","+(t+o)+","+(i+tt)+","+nt+","+v+","+y+","+p):f+=" A"+o+","+tt+",0,"+rt+",0,"+y+","+p),n.handDrawn&&(t=AmCharts.line(n,[y,w],[p,b],h.stroke,h.thickness*Math.random()*n.handDrawThickness,h["stroke-opacity"]),r.push(t)),n=n.path(f+" Z",void 0,void 0,"1000,1000").attr(h),c){for(t=[],i=0;i<c.length;i++)t.push(AmCharts.adjustLuminosity(h.fill,c[i]));0<t.length&&n.gradient("linearGradient",t)}return n.pattern(l),r.push(n),r};AmCharts.adjustLuminosity=function(n,t){n=String(n).replace(/[^0-9a-f]/gi,"");6>n.length&&(n=String(n[0])+String(n[0])+String(n[1])+String(n[1])+String(n[2])+String(n[2]));t=t||0;for(var u="#",i,r=0;3>r;r++)i=parseInt(n.substr(2*r,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),u+=("00"+i).substr(i.length);return u};AmCharts.Bezier=AmCharts.Class({construct:function(n,t,i,r,u,f,e,o,s,h){for("object"==typeof e&&(e=e[0]),"object"==typeof o&&(o=o[0]),f={fill:e,"fill-opacity":o,"stroke-width":f},void 0!==s&&0<s&&(f["stroke-dasharray"]=s),isNaN(u)||(f["stroke-opacity"]=u),r&&(f.stroke=r),r="M"+Math.round(t[0])+","+Math.round(i[0]),u=[],s=0;s<t.length;s++)u.push({x:Number(t[s]),y:Number(i[s])});1<u.length&&(t=this.interpolate(u),r+=this.drawBeziers(t));h?r+=h:AmCharts.VML||(r+="M0,0 L0,0");this.path=n.path(r).attr(f)},interpolate:function(n){var u=[],e;u.push({x:n[0].x,y:n[0].y});var f=n[1].x-n[0].x,i=n[1].y-n[0].y,o=AmCharts.bezierX,s=AmCharts.bezierY;for(u.push({x:n[0].x+f/o,y:n[0].y+i/s}),e=1;e<n.length-1;e++){var r=n[e-1],t=n[e],i=n[e+1];isNaN(i.x)&&(i=t);isNaN(t.x)&&(t=r);isNaN(r.x)&&(r=t);f=i.x-t.x;i=i.y-r.y;r=t.x-r.x;r>f&&(r=f);u.push({x:t.x-r/o,y:t.y-i/s});u.push({x:t.x,y:t.y});u.push({x:t.x+r/o,y:t.y+i/s})}return i=n[n.length-1].y-n[n.length-2].y,f=n[n.length-1].x-n[n.length-2].x,u.push({x:n[n.length-1].x-f/o,y:n[n.length-1].y-i/s}),u.push({x:n[n.length-1].x,y:n[n.length-1].y}),u},drawBeziers:function(n){for(var i="",t=0;t<(n.length-1)/3;t++)i+=this.drawBezierMidpoint(n[3*t],n[3*t+1],n[3*t+2],n[3*t+3]);return i},drawBezierMidpoint:function(n,t,i,r){var u=Math.round,e=this.getPointOnSegment(n,t,.75),o=this.getPointOnSegment(r,i,.75),s=(r.x-n.x)/16,h=(r.y-n.y)/16,f=this.getPointOnSegment(n,t,.375);return n=this.getPointOnSegment(e,o,.375),n.x-=s,n.y-=h,t=this.getPointOnSegment(o,e,.375),t.x+=s,t.y+=h,i=this.getPointOnSegment(r,i,.375),s=this.getMiddle(f,n),e=this.getMiddle(e,o),o=this.getMiddle(t,i),f=" Q"+u(f.x)+","+u(f.y)+","+u(s.x)+","+u(s.y),f+=" Q"+u(n.x)+","+u(n.y)+","+u(e.x)+","+u(e.y),f+=" Q"+u(t.x)+","+u(t.y)+","+u(o.x)+","+u(o.y),f+(" Q"+u(i.x)+","+u(i.y)+","+u(r.x)+","+u(r.y))},getMiddle:function(n,t){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}},getPointOnSegment:function(n,t,i){return{x:n.x+(t.x-n.x)*i,y:n.y+(t.y-n.y)*i}}});AmCharts.AmDraw=AmCharts.Class({construct:function(n,t,i,r){if(AmCharts.SVG_NS="http://www.w3.org/2000/svg",AmCharts.SVG_XLINK="http://www.w3.org/1999/xlink",AmCharts.hasSVG=!!document.createElementNS&&!!document.createElementNS(AmCharts.SVG_NS,"svg").createSVGRect,1>t&&(t=10),1>i&&(i=10),this.div=n,this.width=t,this.height=i,this.rBin=document.createElement("div"),AmCharts.hasSVG){AmCharts.SVG=!0;var u=this.createSvgElement("svg");u.style.position="absolute";u.style.width=t+"px";u.style.height=i+"px";t=this.createSvgElement("desc");t.appendChild(document.createTextNode("JavaScript chart by amCharts "+r.version));u.appendChild(t);AmCharts.rtl&&(u.setAttribute("direction","rtl"),u.style.left="auto",u.style.right="0px");u.setAttribute("version","1.1");n.appendChild(u);this.container=u;this.R=new AmCharts.SVGRenderer(this)}else AmCharts.isIE&&AmCharts.VMLRenderer&&(AmCharts.VML=!0,AmCharts.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(u=document.createStyleSheet(),u.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),AmCharts.vmlStyleSheet=u):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=n,this.R=new AmCharts.VMLRenderer(this,r),this.R.disableSelection(n))},createSvgElement:function(n){return document.createElementNS(AmCharts.SVG_NS,n)},circle:function(n,t,i,r){var u=new AmCharts.AmDObject("circle",this);return u.attr({r:i,cx:n,cy:t}),this.addToContainer(u.node,r),u},ellipse:function(n,t,i,r,u){var f=new AmCharts.AmDObject("ellipse",this);return f.attr({rx:i,ry:r,cx:n,cy:t}),this.addToContainer(f.node,u),f},setSize:function(n,t){0<n&&0<t&&(this.container.style.width=n+"px",this.container.style.height=t+"px")},rect:function(n,t,i,r,u,f,e){var o=new AmCharts.AmDObject("rect",this);return AmCharts.VML&&(u=Math.round(100*u/Math.min(i,r)),i+=2*f,r+=2*f,o.bw=f,o.node.style.marginLeft=-f,o.node.style.marginTop=-f),1>i&&(i=1),1>r&&(r=1),o.attr({x:n,y:t,width:i,height:r,rx:u,ry:u,"stroke-width":f}),this.addToContainer(o.node,e),o},image:function(n,t,i,r,u,f){var e=new AmCharts.AmDObject("image",this);return e.attr({x:t,y:i,width:r,height:u}),this.R.path(e,n),this.addToContainer(e.node,f),e},addToContainer:function(n,t){t||(t=this.container);t.appendChild(n)},text:function(n,t,i){return this.R.text(n,t,i)},path:function(n,t,i,r){var u=new AmCharts.AmDObject("path",this);return r||(r="100,100"),u.attr({cs:r}),i?u.attr({dd:n}):u.attr({d:n}),this.addToContainer(u.node,t),u},set:function(n){return this.R.set(n)},remove:function(n){if(n){var t=this.rBin;t.appendChild(n);t.innerHTML=""}},renderFix:function(){var n=this.container,i=n.style,t;try{t=n.getScreenCTM()||n.createSVGMatrix()}catch(r){t=n.createSVGMatrix()}n=1-t.e%1;t=1-t.f%1;.5<n&&--n;.5<t&&--t;n&&(i.left=n+"px");t&&(i.top=t+"px")},update:function(){this.R.update()}});AmCharts.AmDObject=AmCharts.Class({construct:function(n,t){this.D=t;this.R=t.R;this.node=this.R.create(this,n);this.y=this.x=0;this.scale=1},attr:function(n){return this.R.attr(this,n),this},getAttr:function(n){return this.node.getAttribute(n)},setAttr:function(n,t){return this.R.setAttr(this,n,t),this},clipRect:function(n,t,i,r){this.R.clipRect(this,n,t,i,r)},translate:function(n,t,i,r){r||(n=Math.round(n),t=Math.round(t));this.R.move(this,n,t,i);this.x=n;this.y=t;this.scale=i;this.angle&&this.rotate(this.angle)},rotate:function(n,t){this.R.rotate(this,n,t);this.angle=n},animate:function(n,t,i){var r,u,f;for(r in n)n.hasOwnProperty(r)&&(u=r,f=n[r],i=AmCharts.getEffect(i),this.R.animate(this,u,f,t,i))},push:function(n){var t,i;n&&(t=this.node,t.appendChild(n.node),i=n.clipPath,i&&t.appendChild(i),(n=n.grad)&&t.appendChild(n))},text:function(n){this.R.setText(this,n)},remove:function(){this.R.remove(this)},clear:function(){var n=this.node;if(n.hasChildNodes())for(;1<=n.childNodes.length;)n.removeChild(n.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var n=this.node,t;n&&(this.prevNextNode=n.nextSibling,t=n.parentNode,t&&t.appendChild(n))},toPrevious:function(){var n=this.node;n&&this.prevNextNode&&(n=n.parentNode)&&n.insertBefore(this.prevNextNode,null)},toBack:function(){var n=this.node,t,i;n&&(this.prevNextNode=n.nextSibling,t=n.parentNode,t&&(i=t.firstChild,i&&t.insertBefore(n,i)))},mouseover:function(n){return this.R.addListener(this,"mouseover",n),this},mouseout:function(n){return this.R.addListener(this,"mouseout",n),this},click:function(n){return this.R.addListener(this,"click",n),this},dblclick:function(n){return this.R.addListener(this,"dblclick",n),this},mousedown:function(n){return this.R.addListener(this,"mousedown",n),this},mouseup:function(n){return this.R.addListener(this,"mouseup",n),this},touchstart:function(n){return this.R.addListener(this,"touchstart",n),this},touchend:function(n){return this.R.addListener(this,"touchend",n),this},contextmenu:function(n){return this.node.addEventListener?this.node.addEventListener("contextmenu",n,!0):this.R.addListener(this,"contextmenu",n),this},stop:function(){AmCharts.removeFromArray(this.R.animations,this.an_x);AmCharts.removeFromArray(this.R.animations,this.an_y)},length:function(){return this.node.childNodes.length},gradient:function(n,t,i){this.R.gradient(this,n,t,i)},pattern:function(n,t){n&&this.R.pattern(this,n,t)}});AmCharts.VMLRenderer=AmCharts.Class({construct:function(n,t){this.chart=t;this.D=n;this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"};this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(n,t){var i,r,u;return"group"==t?(i=document.createElement("div"),n.type="div"):"text"==t?(i=document.createElement("div"),n.type="text"):"image"==t?(i=document.createElement("img"),n.type="image"):(n.type="shape",n.shapeType=this.cNames[t],i=document.createElement("amvml:"+this.cNames[t]),r=document.createElement("amvml:stroke"),i.appendChild(r),n.stroke=r,u=document.createElement("amvml:fill"),i.appendChild(u),n.fill=u,u.className="amvml",r.className="amvml",i.className="amvml"),i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(n,t){n.node.setAttribute("src",t)},setAttr:function(n,t,i){var e,f;if(void 0!==i){8===document.documentMode&&(e=!0);var o=n.node,u=n.type,r=o.style;if("r"==t&&(r.width=2*i,r.height=2*i),"oval"==n.shapeType&&("rx"==t&&(r.width=2*i),"ry"==t&&(r.height=2*i)),"roundrect"==n.shapeType&&("width"!=t&&"height"!=t||--i),"cursor"==t&&(r.cursor=i),"cx"==t&&(r.left=i-AmCharts.removePx(r.width)/2),"cy"==t&&(r.top=i-AmCharts.removePx(r.height)/2),f=this.styleMap[t],void 0!==f&&(r[f]=i),"text"==u&&("text-anchor"==t&&(n.anchor=i,f=o.clientWidth,"end"==i&&(r.marginLeft=-f+"px"),"middle"==i&&(r.marginLeft=-(f/2)+"px",r.textAlign="center"),"start"==i&&(r.marginLeft="0px")),"fill"==t&&(r.color=i),"font-weight"==t&&(r.fontWeight=i)),r=n.children)for(f=0;f<r.length;f++)r[f].setAttr(t,i);"shape"==u&&("cs"==t&&(o.style.width="100px",o.style.height="100px",o.setAttribute("coordsize",i)),"d"==t&&o.setAttribute("path",this.svgPathToVml(i)),"dd"==t&&o.setAttribute("path",i),u=n.stroke,n=n.fill,"stroke"==t&&(e?u.color=i:u.setAttribute("color",i)),"stroke-width"==t&&(e?u.weight=i:u.setAttribute("weight",i)),"stroke-opacity"==t&&(e?u.opacity=i:u.setAttribute("opacity",i)),"stroke-dasharray"==t&&(r="solid",0<i&&3>i&&(r="dot"),3<=i&&6>=i&&(r="dash"),6<i&&(r="longdash"),e?u.dashstyle=r:u.setAttribute("dashstyle",r)),("fill-opacity"==t||"opacity"==t)&&(0===i?e?n.on=!1:n.setAttribute("on",!1):e?n.opacity=i:n.setAttribute("opacity",i)),"fill"==t&&(e?n.color=i:n.setAttribute("color",i)),"rx"==t&&(e?o.arcSize=i+"%":o.setAttribute("arcsize",i+"%")))}},attr:function(n,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(n,i,t[i])},text:function(n,t,i){var r=new AmCharts.AmDObject("text",this.D),u=r.node;return u.style.whiteSpace="pre",u.innerHTML=n,this.D.addToContainer(u,i),this.attr(r,t),r},getBBox:function(n){return this.getBox(n.node)},getBox:function(n){var h=n.offsetLeft,c=n.offsetTop,o=n.offsetWidth,s=n.offsetHeight,i,r,u,e,t,f;if(n.hasChildNodes()){for(e=0;e<n.childNodes.length;e++)i=this.getBox(n.childNodes[e]),t=i.x,isNaN(t)||(isNaN(r)?r=t:t<r&&(r=t)),f=i.y,isNaN(f)||(isNaN(u)?u=f:f<u&&(u=f)),t=i.width+t,isNaN(t)||(o=Math.max(o,t)),i=i.height+f,isNaN(i)||(s=Math.max(s,i));0>r&&(h+=r);0>u&&(c+=u)}return{x:h,y:c,width:o,height:s}},setText:function(n,t){var i=n.node;i&&(i.innerHTML=t);this.setAttr(n,"text-anchor",n.anchor)},addListener:function(n,t,i){n.node["on"+t]=i},move:function(n,t,i){var r=n.node,u=r.style;"text"==n.type&&(i-=AmCharts.removePx(u.fontSize)/2-1);"oval"==n.shapeType&&(t-=AmCharts.removePx(u.width)/2,i-=AmCharts.removePx(u.height)/2);n=n.bw;isNaN(n)||(t-=n,i-=n);isNaN(t)||isNaN(i)||(r.style.left=t+"px",r.style.top=i+"px")},svgPathToVml:function(n){var l=n.split(" "),r,t,o;for(n="",t=Math.round,o=0;o<l.length;o++){var u=l[o],f=u.substring(0,1),u=u.substring(1),i=u.split(","),e=t(i[0])+","+t(i[1]);if("M"==f&&(n+=" m "+e),"L"==f&&(n+=" l "+e),"Z"==f&&(n+=" x e"),"Q"==f){var a=r.length,c=r[a-1],s=i[0],h=i[1],e=i[2],v=i[3];r=t(r[a-2]/3+2/3*s);c=t(c/3+2/3*h);s=t(2/3*s+e/3);h=t(2/3*h+v/3);n+=" c "+r+","+c+","+s+","+h+","+e+","+v}"A"==f&&(n+=" wa "+u);"B"==f&&(n+=" at "+u);r=i}return n},animate:function(n,t,i,r,u){var f=n.node,e=this.chart,o;"translate"==t&&(t=i.split(","),i=t[1],o=f.offsetTop,e.animate(n,"left",f.offsetLeft,t[0],r,u,"px"),e.animate(n,"top",o,i,r,u,"px"))},clipRect:function(n,t,i,r,u){n=n.node;0===t&&0===i?(n.style.width=r+"px",n.style.height=u+"px",n.style.overflow="hidden"):n.style.clip="rect("+i+"px "+(t+r)+"px "+(i+u)+"px "+t+"px)"},rotate:function(n,t,i){var r;if(0!==Number(t)){r=n.node;n=r.style;i||(i=this.getBGColor(r.parentNode));n.backgroundColor=i;n.paddingLeft=1;i=t*Math.PI/180;var f=Math.cos(i),e=Math.sin(i),o=AmCharts.removePx(n.left),s=AmCharts.removePx(n.top),u=r.offsetWidth,r=r.offsetHeight;t/=Math.abs(t);n.left=o+u/2-u/2*Math.cos(i)-t*r/2*Math.sin(i)+3;n.top=s-t*u/2*Math.sin(i)+t*r/2*Math.sin(i);n.cssText=n.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+f+"', M12='"+-e+"', M21='"+e+"', M22='"+f+"', sizingmethod='auto expand');"}},getBGColor:function(n){var t="#FFFFFF",i;return n.style&&(i=n.style.backgroundColor,""!==i?t=i:n.parentNode&&(t=this.getBGColor(n.parentNode))),t},set:function(n){var i=new AmCharts.AmDObject("group",this.D),t;if(this.D.container.appendChild(i.node),n)for(t=0;t<n.length;t++)i.push(n[t]);return i},gradient:function(n,t,i,r){var u="",f,e;for("radialGradient"==t&&(t="gradientradial",i.reverse()),"linearGradient"==t&&(t="gradient"),f=0;f<i.length;f++)e=Math.round(100*f/(i.length-1)),u=u+(e+"% "+i[f]),f<i.length-1&&(u+=",");n=n.fill;90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270);8===document.documentMode?(n.type=t,n.angle=r):(n.setAttribute("type",t),n.setAttribute("angle",r));u&&(n.colors.value=u)},remove:function(n){n.clipPath&&this.D.remove(n.clipPath);this.D.remove(n.node)},disableSelection:function(n){void 0!==typeof n.onselectstart&&(n.onselectstart=function(){return!1});n.style.cursor="default"},pattern:function(n,t){var u=n.node,i=n.fill,r="none";t.color&&(r=t.color);u.fillColor=r;8===document.documentMode?(i.type="tile",i.src=t.url):(i.setAttribute("type","tile"),i.setAttribute("src",t.url))},update:function(){}});AmCharts.SVGRenderer=AmCharts.Class({construct:function(n){this.D=n;this.animations=[]},create:function(n,t){return document.createElementNS(AmCharts.SVG_NS,t)},attr:function(n,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(n,i,t[i])},setAttr:function(n,t,i){void 0!==i&&n.node.setAttribute(t,i)},animate:function(n,t,i,r,u){var f=n.node;n["an_"+t]&&AmCharts.removeFromArray(this.animations,n["an_"+t]);"translate"==t?(f=(f=f.getAttribute("transform"))?String(f).substring(10,f.length-1):"0,0",f=f.split(", ").join(" "),f=f.split(" ").join(","),0===f&&(f="0,0")):f=Number(f.getAttribute(t));i={obj:n,frame:0,attribute:t,from:f,to:i,time:r,effect:u};this.animations.push(i);n["an_"+t]=i},update:function(){for(var h=this.animations,f=h.length-1;0<=f;f--){var n=h[f],e=1e3*n.time/AmCharts.updateRate,o=n.frame+1,s=n.obj,u=n.attribute,i,t,r;o<=e?(n.frame++,"translate"==u?(i=n.from.split(","),u=Number(i[0]),i=Number(i[1]),isNaN(i)&&(i=0),t=n.to.split(","),r=Number(t[0]),t=Number(t[1]),r=0==r-u?r:Math.round(AmCharts[n.effect](0,o,u,r-u,e)),n=0==t-i?t:Math.round(AmCharts[n.effect](0,o,i,t-i,e)),u="transform",n="translate("+r+","+n+")"):(t=Number(n.from),i=Number(n.to),r=i-t,n=AmCharts[n.effect](0,o,t,r,e),isNaN(n)&&(n=i),0===r&&this.animations.splice(f,1)),this.setAttr(s,u,n)):("translate"==u?(t=n.to.split(","),r=Number(t[0]),t=Number(t[1]),s.translate(r,t)):(i=Number(n.to),this.setAttr(s,u,i)),this.animations.splice(f,1))}},getBBox:function(n){if(n=n.node)try{return n.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(n,t){n.node.setAttributeNS(AmCharts.SVG_XLINK,"xlink:href",t)},clipRect:function(n,t,i,r,u){var f=n.node,e=n.clipPath,o;e&&this.D.remove(e);o=f.parentNode;o&&(f=document.createElementNS(AmCharts.SVG_NS,"clipPath"),e=AmCharts.getUniqueId(),f.setAttribute("id",e),this.D.rect(t,i,r,u,0,0,f),o.appendChild(f),t="#",AmCharts.baseHref&&!AmCharts.isIE&&(t=this.removeTarget(window.location.href)+t),this.setAttr(n,"clip-path","url("+t+e+")"),this.clipPathC++,n.clipPath=f)},text:function(n,t,i){var u=new AmCharts.AmDObject("text",this.D),f,e,r;for(n=String(n).split("\n"),f=t["font-size"],e=0;e<n.length;e++)r=this.create(null,"tspan"),r.appendChild(document.createTextNode(n[e])),r.setAttribute("y",(f+2)*e+Math.round(f/2)),r.setAttribute("x",0),r.style.fontSize=f+"px",u.node.appendChild(r);return u.node.setAttribute("y",Math.round(f/2)),this.attr(u,t),this.D.addToContainer(u.node,i),u},setText:function(n,t){var i=n.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(t)))},move:function(n,t,i,r){isNaN(t)&&(t=0);isNaN(i)&&(i=0);t="translate("+t+","+i+")";r&&(t=t+" scale("+r+")");this.setAttr(n,"transform",t)},rotate:function(n,t){var r=n.node.getAttribute("transform"),i="rotate("+t+")";r&&(i=r+" "+i);this.setAttr(n,"transform",i)},set:function(n){var i=new AmCharts.AmDObject("g",this.D),t;if(this.D.container.appendChild(i.node),n)for(t=0;t<n.length;t++)i.push(n[t]);return i},addListener:function(n,t,i){n.node["on"+t]=i},gradient:function(n,t,i,r){var o=n.node,f=n.grad;if(f&&this.D.remove(f),t=document.createElementNS(AmCharts.SVG_NS,t),f=AmCharts.getUniqueId(),t.setAttribute("id",f),!isNaN(r)){var u=0,e=0,s=0,h=0;90==r?s=100:270==r?h=100:180==r?u=100:0===r&&(e=100);t.setAttribute("x1",u+"%");t.setAttribute("x2",e+"%");t.setAttribute("y1",s+"%");t.setAttribute("y2",h+"%")}for(r=0;r<i.length;r++)u=document.createElementNS(AmCharts.SVG_NS,"stop"),e=100*r/(i.length-1),0===r&&(e=0),u.setAttribute("offset",e+"%"),u.setAttribute("stop-color",i[r]),t.appendChild(u);o.parentNode.appendChild(t);i="#";AmCharts.baseHref&&!AmCharts.isIE&&(i=this.removeTarget(window.location.href)+i);o.setAttribute("fill","url("+i+f+")");n.grad=t},removeTarget:function(n){return urlArr=n.split("#"),urlArr[0]},pattern:function(n,t,i){var h=n.node,r,o,s,u,f;isNaN(i)&&(i=1);r=n.patternNode;r&&this.D.remove(r);var r=document.createElementNS(AmCharts.SVG_NS,"pattern"),c=AmCharts.getUniqueId(),e=t;t.url&&(e=t.url);o=Number(t.width);isNaN(o)&&(o=4);s=Number(t.height);isNaN(s)&&(s=4);o/=i;s/=i;i=t.x;isNaN(i)&&(i=0);u=-Math.random()*Number(t.randomX);isNaN(u)||(i=u);u=t.y;isNaN(u)&&(u=0);f=-Math.random()*Number(t.randomY);isNaN(f)||(u=f);r.setAttribute("id",c);r.setAttribute("width",o);r.setAttribute("height",s);r.setAttribute("patternUnits","userSpaceOnUse");r.setAttribute("xlink:href",e);t.color&&(f=document.createElementNS(AmCharts.SVG_NS,"rect"),f.setAttributeNS(null,"height",o),f.setAttributeNS(null,"width",s),f.setAttributeNS(null,"fill",t.color),r.appendChild(f));this.D.image(e,0,0,o,s,r).translate(i,u);e="#";AmCharts.baseHref&&!AmCharts.isIE&&(e=this.removeTarget(window.location.href)+e);h.setAttribute("fill","url("+e+c+")");n.patternNode=r;h.parentNode.appendChild(r)},remove:function(n){n.clipPath&&this.D.remove(n.clipPath);n.grad&&this.D.remove(n.grad);n.patternNode&&this.D.remove(n.patternNode);this.D.remove(n.node)}});AmCharts.AmDSet=AmCharts.Class({construct:function(){this.create("g")},attr:function(n){this.R.attr(this.node,n)},move:function(n,t){this.R.move(this.node,n,t)}});AmCharts.AmLegend=AmCharts.Class({construct:function(n){this.cname="AmLegend";this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType="square";this.markerSize=16;this.markerBorderThickness=this.markerBorderAlpha=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.dateFormat="DD-MM-YYYY";this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.useGraphSettings=!1;this.showEntries=!0;AmCharts.applyTheme(this,n,this.cname)},setData:function(n){this.legendData=n;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];(AmCharts.ifArray(this.legendData)||AmCharts.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var n=this.chart,t=this.position,o=this.width,s=n.divRealWidth,i=n.divRealHeight,r=this.div,f=this.legendData,e,u;if(this.data&&(f=this.data),isNaN(this.fontSize)&&(this.fontSize=n.fontSize),"right"==t||"left"==t?(this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10)):this.autoMargins&&(this.marginRight=n.marginRight,this.marginLeft=n.marginLeft,e=n.autoMarginOffset,"bottom"==t?(this.marginBottom=e,this.marginTop=0):(this.marginTop=e,this.marginBottom=0)),void 0!==o?u=AmCharts.toCoordinate(o,s):"right"!=t&&"left"!=t&&(u=n.realWidth),"outside"==t?(u=r.offsetWidth,i=r.offsetHeight,r.clientHeight&&(u=r.clientWidth,i=r.clientHeight)):(isNaN(u)||(r.style.width=u+"px"),r.className="amChartsLegend"),this.divWidth=u,(t=this.container)?(t.container.innerHTML="",r.appendChild(t.container),t.setSize(u,i)):t=new AmCharts.AmDraw(r,u,i,n),this.container=t,this.lx=0,this.ly=8,i=this.markerSize,i>this.fontSize&&(this.ly=i/2-1),0<i&&(this.lx+=i+this.markerLabelGap),this.titleWidth=0,(i=this.title)&&(n=AmCharts.text(this.container,i,this.color,n.fontFamily,this.fontSize,"start",!0),n.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),n=n.getBBox(),this.titleWidth=n.width+15,this.titleHeight=n.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(n=0;n<f.length;n++)this.createEntry(f[n]);for(n=this.index=0;n<f.length;n++)this.createValue(f[n])}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var t=this.position,e=this.marginLeft+this.titleWidth,h=this.marginRight,tt=this.marginTop,rt=this.marginBottom,u=this.horizontalGap,it=this.div,f=this.divWidth,o=this.maxColumns,b=this.verticalGap,d=this.spacing,ut=f-h-e,g=0,a=0,nt=this.container,v,y,s,n,i,r,w,l;for(this.set&&this.set.remove(),v=nt.set(),this.set=v,y=nt.set(),v.push(y),s=this.entries,i=0;i<s.length;i++)n=s[i].getBBox(),r=n.width,r>g&&(g=r),n=n.height,n>a&&(a=n);var r=a=0,k=u,p=0,c=0;for(i=0;i<s.length;i++)w=s[i],this.reversedOrder&&(w=s[s.length-i-1]),n=w.getBBox(),this.equalWidths?l=u+r*(g+d+this.markerLabelGap):(l=k,k=k+n.width+u+d),n.height>c&&(c=n.height),l+n.width>ut&&0<i&&0!==r&&(a++,r=0,l=u,k=l+n.width+u+d,p=p+c+b,c=0),w.translate(l,p),r++,!isNaN(o)&&r>=o&&(r=0,a++,p=p+c+b,c=0),y.push(w);n=y.getBBox();o=n.height+2*b-1;"left"==t||"right"==t?(f=n.width+2*u,it.style.width=f+e+h+"px"):f=f-e-h-1;h=AmCharts.polygon(this.container,[0,f,f,0],[0,0,o,o],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);v.push(h);v.translate(e,tt);h.toBack();e=u;("top"==t||"bottom"==t||"absolute"==t||"outside"==t)&&("center"==this.align?e=u+(f-n.width)/2:"right"==this.align&&(e=u+f-n.width));y.translate(e,b+1);this.titleHeight>o&&(o=this.titleHeight);t=o+tt+rt+1;0>t&&(t=0);it.style.height=Math.round(t)+"px";nt.setSize(this.divWidth,t)},createEntry:function(n){var s,a,r,y,f,u,c,i,h;if(!1!==n.visibleInLegend){s=this.chart;a=n.markerType;n.legendEntryWidth=this.markerSize;a||(a=this.markerType);r=n.color;y=n.alpha;n.legendKeyColor&&(r=n.legendKeyColor());n.legendKeyAlpha&&(y=n.legendKeyAlpha());!0===n.hidden&&(f=r=this.markerDisabledColor);u=n.pattern;c=n.customMarker;c||(c=this.customMarker);var o=this.container,t=this.markerSize,e=0,l=0,v=t/2;this.useGraphSettings?(e=n.type,this.switchType=void 0,"line"==e||"step"==e||"smoothedLine"==e||"ohlc"==e)?(u=o.set(),n.hidden||(r=n.lineColorR,f=n.bulletBorderColorR),l=AmCharts.line(o,[0,2*t],[t/2,t/2],r,n.lineAlpha,n.lineThickness,n.dashLength),u.push(l),n.bullet&&(n.hidden||(r=n.bulletColorR),l=AmCharts.bullet(o,n.bullet,n.bulletSize,r,n.bulletAlpha,n.bulletBorderThickness,f,n.bulletBorderAlpha))&&(l.translate(t+1,t/2),u.push(l)),v=0,e=t,l=t/3):(n.getGradRotation&&(i=n.getGradRotation()),e=n.fillColorsR,!0===n.hidden&&(e=r),(u=this.createMarker("rectangle",e,n.fillAlphas,n.lineThickness,r,n.lineAlpha,i,u))&&(v=t,u.translate(v,t/2)),e=t):c?(s.path&&(c=s.path+c),u=o.image(c,0,0,t,t)):(u=this.createMarker(a,r,y,void 0,void 0,void 0,void 0,u))&&u.translate(t/2,t/2);this.addListeners(u,n);o=o.set([u]);this.switchable&&n.switchable&&o.setAttr("cursor","pointer");(f=this.switchType)&&"none"!=f&&("x"==f?(i=this.createX(),i.translate(t/2,t/2)):i=this.createV(),i.dItem=n,!0!==n.hidden?"x"==f?i.hide():i.show():"x"!=f&&i.hide(),this.switchable||i.hide(),this.addListeners(i,n),n.legendSwitch=i,o.push(i));f=this.color;n.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(f=this.selectedColor);this.useMarkerColorForLabels&&(f=r);!0===n.hidden&&(f=this.markerDisabledColor);r=AmCharts.massReplace(this.labelText,{"[[title]]":n.title});i=this.fontSize;u&&(t<=i&&u.translate(v,t/2+this.ly-i/2+(i+2-t)/2-l),n.legendEntryWidth=u.getBBox().width);r&&(r=AmCharts.fixBrakes(r),n.legendTextReal=r,h=this.labelWidth,h=isNaN(h)?AmCharts.text(this.container,r,f,s.fontFamily,i,"start"):AmCharts.wrappedText(this.container,r,f,s.fontFamily,i,"start",!1,h,0),h.translate(this.lx+e,this.ly),o.push(h),s=h.getBBox().width,this.maxLabelWidth<s&&(this.maxLabelWidth=s));this.entries[this.index]=o;n.legendEntry=this.entries[this.index];n.legendLabel=h;this.index++}},addListeners:function(n,t){var i=this;n&&n.mouseover(function(n){i.rollOverMarker(t,n)}).mouseout(function(n){i.rollOutMarker(t,n)}).click(function(n){i.clickMarker(t,n)})},rollOverMarker:function(n,t){this.switchable&&this.dispatch("rollOverMarker",n,t);this.dispatch("rollOverItem",n,t)},rollOutMarker:function(n,t){this.switchable&&this.dispatch("rollOutMarker",n,t);this.dispatch("rollOutItem",n,t)},clickMarker:function(n,t){this.switchable&&(!0===n.hidden?this.dispatch("showItem",n,t):this.dispatch("hideItem",n,t));this.dispatch("clickMarker",n,t)},rollOverLabel:function(n,t){n.hidden||(this.textClickEnabled&&n.legendLabel&&n.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",n,t))},rollOutLabel:function(n,t){if(!n.hidden){if(this.textClickEnabled&&n.legendLabel){var i=this.color;void 0!==this.selectedColor&&n.showBalloon&&(i=this.selectedColor);this.useMarkerColorForLabels&&(i=n.lineColor,void 0===i&&(i=n.color));n.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",n,t)}},clickLabel:function(n,t){this.textClickEnabled?n.hidden||this.dispatch("clickLabel",n,t):this.switchable&&(!0===n.hidden?this.dispatch("showItem",n,t):this.dispatch("hideItem",n,t))},dispatch:function(n,t,i){this.fire(n,{type:n,dataItem:t,target:this,event:i,chart:this.chart})},createValue:function(n){var t=this,r=t.fontSize,u,f,i;if(!1!==n.visibleInLegend){if(u=t.maxLabelWidth,t.equalWidths||(t.valueAlign="left"),"left"==t.valueAlign&&(u=n.legendEntry.getBBox().width),f=u,t.valueText&&0<t.valueWidth){i=t.color;t.useMarkerColorForValues&&(i=n.color,n.legendKeyColor&&(i=n.legendKeyColor()));!0===n.hidden&&(i=t.markerDisabledColor);var o=t.valueText,u=u+t.lx+t.markerLabelGap+t.valueWidth,e="end";"left"==t.valueAlign&&(u-=t.valueWidth,e="start");i=AmCharts.text(t.container,o,i,t.chart.fontFamily,r,e);i.translate(u,t.ly);t.entries[t.index].push(i);f+=t.valueWidth+2*t.markerLabelGap;i.dItem=n;t.valueLabels.push(i)}t.index++;i=t.markerSize;i<r+7&&(i=r+7,AmCharts.VML&&(i+=3));r=t.container.rect(n.legendEntryWidth,0,f,i,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005});r.dItem=n;t.entries[t.index-1].push(r);r.mouseover(function(i){t.rollOverLabel(n,i)}).mouseout(function(i){t.rollOutLabel(n,i)}).click(function(i){t.clickLabel(n,i)})}},createV:function(){var n=this.markerSize;return AmCharts.polygon(this.container,[n/5,n/2,n-n/5,n/2],[n/3,n-n/5,n/5,n/1.7],this.switchColor)},createX:function(){var n=(this.markerSize-4)/2,t={stroke:this.switchColor,"stroke-width":3},i=this.container,r=AmCharts.line(i,[-n,n],[-n,n]).attr(t),n=AmCharts.line(i,[-n,n],[n,-n]).attr(t);return this.container.set([r,n])},createMarker:function(n,t,i,r,u,f,e,o){var s=this.markerSize,h=this.container;return u||(u=this.markerBorderColor),u||(u=t),isNaN(r)&&(r=this.markerBorderThickness),isNaN(f)&&(f=this.markerBorderAlpha),AmCharts.bullet(h,n,s,t,i,r,u,f,s,e,o)},validateNow:function(){this.invalidateSize()},updateValues:function(){for(var o=this.valueLabels,e=this.chart,s=this.data,r,i,u=0;u<o.length;u++){var f=o[u],n=f.dItem,t=" ";s?n.value?f.text(n.value):f.text(""):(void 0!==n.type?(r=n.currentDataItem,i=this.periodValueText,n.legendPeriodValueText&&(i=n.legendPeriodValueText),r?(t=this.valueText,n.legendValueText&&(t=n.legendValueText),t=e.formatString(t,r)):i&&(t=e.formatPeriodString(i,n))):t=e.formatString(this.valueText,n),(i=this.valueFunction)&&(r&&(n=r),t=i(n,t)),f.text(t))}},renderFix:function(){if(!AmCharts.VML){var n=this.container;n&&n.renderFix()}},destroy:function(){this.div.innerHTML="";AmCharts.remove(this.set)}});AmCharts.formatMilliseconds=function(n,t){if(-1!=n.indexOf("fff")){var i=t.getMilliseconds(),r=String(i);10>i&&(r="00"+i);10<=i&&100>i&&(r="0"+i);n=n.replace(/fff/g,r)}return n};AmCharts.extractPeriod=function(n){var t=AmCharts.stripNumbers(n),i=1;return t!=n&&(i=Number(n.slice(0,n.indexOf(t)))),{period:t,count:i}};AmCharts.newDate=function(n,t){return date="fff"==t?AmCharts.useUTC?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()):new Date(n)};AmCharts.resetDateToMin=function(n,t,i,r){void 0===r&&(r=1);var c,h,s,o,e,f,u;AmCharts.useUTC?(c=n.getUTCFullYear(),h=n.getUTCMonth(),s=n.getUTCDate(),o=n.getUTCHours(),e=n.getUTCMinutes(),f=n.getUTCSeconds(),u=n.getUTCMilliseconds(),n=n.getUTCDay()):(c=n.getFullYear(),h=n.getMonth(),s=n.getDate(),o=n.getHours(),e=n.getMinutes(),f=n.getSeconds(),u=n.getMilliseconds(),n=n.getDay());switch(t){case"YYYY":c=Math.floor(c/i)*i;h=0;s=1;u=f=e=o=0;break;case"MM":h=Math.floor(h/i)*i;s=1;u=f=e=o=0;break;case"WW":0===n&&0<r&&(n=7);s=s-n+r;u=f=e=o=0;break;case"DD":u=f=e=o=0;break;case"hh":o=Math.floor(o/i)*i;u=f=e=0;break;case"mm":e=Math.floor(e/i)*i;u=f=0;break;case"ss":f=Math.floor(f/i)*i;u=0;break;case"fff":u=Math.floor(u/i)*i}return AmCharts.useUTC?(n=new Date,n.setUTCFullYear(c,h,s),n.setUTCHours(o,e,f,u)):n=new Date(c,h,s,o,e,f,u),n};AmCharts.getPeriodDuration=function(n,t){void 0===t&&(t=1);var i;switch(n){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*t};AmCharts.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}};AmCharts.getMaxInterval=function(n,t){var i=AmCharts.intervals;return n>=i[t].contains?(n=Math.round(n/i[t].contains),t=i[t].nextInterval,AmCharts.getMaxInterval(n,t)):"ss"==t?i[t].nextInterval:t};AmCharts.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");AmCharts.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");AmCharts.monthNames="January February March April May June July August September October November December".split(" ");AmCharts.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");AmCharts.getWeekNumber=function(n){n=new Date(n);n.setHours(0,0,0);n.setDate(n.getDate()+4-(n.getDay()||7));var t=new Date(n.getFullYear(),0,1);return Math.ceil(((n-t)/864e5+1)/7)};AmCharts.stringToDate=function(n,t){var i={},r=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],h=!0,o=t.indexOf("AA"),f,e,u,s;for(-1!=o&&(n.substr(o,2),"pm"==n.toLowerCase&&(h=!1)),o=t,u=0;u<r.length;u++)e=r[u].period,i[e]=0,"date"==e&&(i[e]=1);for(u=0;u<r.length;u++)(f=r[u].pattern,e=r[u].period,-1!=t.indexOf(f))&&(s=AmCharts.getFromDateString(f,n,o),t=t.replace(f,""),("KK"==f||"K"==f||"LL"==f||"L"==f)&&(h||(s+=12)),i[e]=s);return AmCharts.useUTC?(r=new Date,r.setUTCFullYear(i.year,i.month,i.date),r.setUTCHours(i.hours,i.minutes,i.seconds,i.milliseconds)):r=new Date(i.year,i.month,i.date,i.hours,i.minutes,i.seconds,i.milliseconds),r};AmCharts.getFromDateString=function(n,t,i){if(void 0!==t)return i=i.indexOf(n),t=t.substr(i,n.length),"0"==t.charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=n.indexOf("M")&&t--,t};AmCharts.formatDate=function(n,t,i){var a,s,h,l,c,f,e,o,y,v,p,r,u;return i||(i=AmCharts),o=AmCharts.getWeekNumber(n),AmCharts.useUTC?(a=n.getUTCFullYear(),s=n.getUTCMonth(),h=n.getUTCDate(),l=n.getUTCDay(),c=n.getUTCHours(),f=n.getUTCMinutes(),e=n.getUTCSeconds(),n=n.getUTCMilliseconds()):(a=n.getFullYear(),s=n.getMonth(),h=n.getDate(),l=n.getDay(),c=n.getHours(),f=n.getMinutes(),e=n.getSeconds(),n=n.getMilliseconds()),y=String(a).substr(2,2),v=s+1,9>s&&(v="0"+v),p="0"+l,t=t.replace(/W/g,o),o=c,24==o&&(o=0),r=o,10>r&&(r="0"+r),t=t.replace(/JJ/g,r),t=t.replace(/J/g,o),r=c,0===r&&(r=24,-1!=t.indexOf("H")&&h--),o=h,10>h&&(o="0"+h),u=r,10>u&&(u="0"+u),t=t.replace(/HH/g,u),t=t.replace(/H/g,r),r=c,11<r&&(r-=12),u=r,10>u&&(u="0"+u),t=t.replace(/KK/g,u),t=t.replace(/K/g,r),r=c,0===r&&(r=12),12<r&&(r-=12),u=r,10>u&&(u="0"+u),t=t.replace(/LL/g,u),t=t.replace(/L/g,r),r=f,10>r&&(r="0"+r),t=t.replace(/NN/g,r),t=t.replace(/N/g,f),f=e,10>f&&(f="0"+f),t=t.replace(/SS/g,f),t=t.replace(/S/g,e),e=n,10>e&&(e="00"+e),100>e&&(e="0"+e),f=n,10>f&&(f="00"+f),t=t.replace(/QQQ/g,e),t=t.replace(/QQ/g,f),t=t.replace(/Q/g,n),t=12>c?t.replace(/A/g,"am"):t.replace(/A/g,"pm"),t=t.replace(/YYYY/g,"@IIII@"),t=t.replace(/YY/g,"@II@"),t=t.replace(/MMMM/g,"@XXXX@"),t=t.replace(/MMM/g,"@XXX@"),t=t.replace(/MM/g,"@XX@"),t=t.replace(/M/g,"@X@"),t=t.replace(/DD/g,"@RR@"),t=t.replace(/D/g,"@R@"),t=t.replace(/EEEE/g,"@PPPP@"),t=t.replace(/EEE/g,"@PPP@"),t=t.replace(/EE/g,"@PP@"),t=t.replace(/E/g,"@P@"),t=t.replace(/@IIII@/g,a),t=t.replace(/@II@/g,y),t=t.replace(/@XXXX@/g,i.monthNames[s]),t=t.replace(/@XXX@/g,i.shortMonthNames[s]),t=t.replace(/@XX@/g,v),t=t.replace(/@X@/g,s+1),t=t.replace(/@RR@/g,o),t=t.replace(/@R@/g,h),t=t.replace(/@PPPP@/g,i.dayNames[l]),t=t.replace(/@PPP@/g,i.shortDayNames[l]),t=t.replace(/@PP@/g,p),t.replace(/@P@/g,l)};AmCharts.changeDate=function(n,t,i,r,u){if(AmCharts.useUTC)return AmCharts.changeUTCDate(n,t,i,r,u);var f=-1;void 0===r&&(r=!0);void 0===u&&(u=!1);!0===r&&(f=1);switch(t){case"YYYY":n.setFullYear(n.getFullYear()+i*f);r||u||n.setDate(n.getDate()+1);break;case"MM":t=n.getMonth();n.setMonth(n.getMonth()+i*f);n.getMonth()>t+i*f&&n.setDate(n.getDate()-1);r||u||n.setDate(n.getDate()+1);break;case"DD":n.setDate(n.getDate()+i*f);break;case"WW":n.setDate(n.getDate()+i*f*7);break;case"hh":n.setHours(n.getHours()+i*f);break;case"mm":n.setMinutes(n.getMinutes()+i*f);break;case"ss":n.setSeconds(n.getSeconds()+i*f);break;case"fff":n.setMilliseconds(n.getMilliseconds()+i*f)}return n};AmCharts.changeUTCDate=function(n,t,i,r,u){var f=-1;void 0===r&&(r=!0);void 0===u&&(u=!1);!0===r&&(f=1);switch(t){case"YYYY":n.setUTCFullYear(n.getUTCFullYear()+i*f);r||u||n.setUTCDate(n.getUTCDate()+1);break;case"MM":t=n.getUTCMonth();n.setUTCMonth(n.getUTCMonth()+i*f);n.getUTCMonth()>t+i*f&&n.setUTCDate(n.getUTCDate()-1);r||u||n.setUTCDate(n.getUTCDate()+1);break;case"DD":n.setUTCDate(n.getUTCDate()+i*f);break;case"WW":n.setUTCDate(n.getUTCDate()+i*f*7);break;case"hh":n.setUTCHours(n.getUTCHours()+i*f);break;case"mm":n.setUTCMinutes(n.getUTCMinutes()+i*f);break;case"ss":n.setUTCSeconds(n.getUTCSeconds()+i*f);break;case"fff":n.setUTCMilliseconds(n.getUTCMilliseconds()+i*f)}return n};AmCharts.AmSerialChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(n){this.type="serial";AmCharts.AmSerialChart.base.construct.call(this,n);this.cname="AmSerialChart";this.theme=n;this.createEvents("changed");this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=.8;this.updateScrollbar=!0;var t=new AmCharts.CategoryAxis(n);t.chart=this;this.categoryAxis=t;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;AmCharts.applyTheme(this,n,this.cname)},initChart:function(){var n,i,t;for(AmCharts.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),n=this.chartCursor,n&&(n.updateData(),n.fullWidth&&(n.fullRectSet=this.cursorLineSet)),n=this.countColumns(),i=this.graphs,t=0;t<i.length;t++)i[t].columnCount=n;this.updateScrollbar=!0;this.drawChart();this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},handleWheelReal:function(n,t){if(!this.wheelBusy){var i=this.categoryAxis,u=i.parseDates,r=i.minDuration(),f=i=1;this.mouseWheelZoomEnabled?t||(i=-1):t&&(i=-1);var e=this.chartData.length,o=this.lastTime,s=this.firstTime;0>n?u?(e=this.endTime-this.startTime,u=this.startTime+i*r,r=this.endTime+f*r,0<f&&0<i&&r>=o&&(r=o,u=o-e),this.zoomToDates(new Date(u),new Date(r))):(0<f&&0<i&&this.end>=e-1&&(i=f=0),u=this.start+i,r=this.end+f,this.zoomToIndexes(u,r)):u?(e=this.endTime-this.startTime,u=this.startTime-i*r,r=this.endTime-f*r,0<f&&0<i&&u<=s&&(u=s,r=s+e),this.zoomToDates(new Date(u),new Date(r))):(0<f&&0<i&&1>this.start&&(i=f=0),u=this.start-i,r=this.end-f,this.zoomToIndexes(u,r))}},validateData:function(n){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!n&&(this.endTime=this.end=this.startTime=this.start=NaN);AmCharts.AmSerialChart.base.validateData.call(this)},drawChart:function(){var i,t,n;AmCharts.AmSerialChart.base.drawChart.call(this);i=this.chartData;AmCharts.ifArray(i)?(n=this.chartScrollbar,n&&n.draw(),0<this.realWidth&&0<this.realHeight&&(i=i.length-1,n=this.categoryAxis,n.parseDates&&!n.equalSpacing?(n=this.startTime,t=this.endTime,isNaN(n)||isNaN(t))&&(n=this.firstTime,t=this.lastTime):(n=this.start,t=this.end,isNaN(n)||isNaN(t))&&(n=0,t=i),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(n,t))):this.cleanChart();this.dispDUpd();this.chartCreated=!0},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(n,t,i){n.chart=this;n.id=i;n.rotate=t;n.axisRenderer=AmCharts.RecAxis;n.guideFillRenderer=AmCharts.RecFill;n.axisItemRenderer=AmCharts.RecItem;n.setOrientation(!this.rotate);n.x=this.marginLeftReal;n.y=this.marginTopReal;n.dx=this.dx;n.dy=this.dy;n.width=this.plotAreaWidth-1;n.height=this.plotAreaHeight-1;n.viW=this.plotAreaWidth-1;n.viH=this.plotAreaHeight-1;n.viX=this.marginLeftReal;n.viY=this.marginTopReal;n.marginsChanged=!0},updateValueAxes:function(){var r,t,i,n;for(AmCharts.AmSerialChart.base.updateValueAxes.call(this),r=this.valueAxes,t=0;t<r.length;t++)i=r[t],n=this.rotate,i.rotate=n,i.setOrientation(n),n=this.categoryAxis,(!n.startOnAxis||n.parseDates)&&(i.expandMinMax=!0)},updateData:function(){this.parseData();for(var i=this.graphs,n=this.chartData,t=0;t<i.length;t++)i[t].data=n;0<n.length&&(this.firstTime=this.getStartTime(n[0].time),this.lastTime=this.getEndTime(n[n.length-1].time))},getStartTime:function(n){var t=this.categoryAxis;return AmCharts.resetDateToMin(new Date(n),t.minPeriod,1,t.firstDayOfWeek).getTime()},getEndTime:function(n){var t=AmCharts.extractPeriod(this.categoryAxis.minPeriod);return AmCharts.changeDate(new Date(n),t.period,t.count,!0).getTime()-1},updateMargins:function(){AmCharts.AmSerialChart.base.updateMargins.call(this);var n=this.chartScrollbar;n&&(this.getScrollbarPosition(n,this.rotate,this.categoryAxis.position),this.adjustMargins(n,this.rotate))},updateScrollbars:function(){AmCharts.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(n,t){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?this.timeZoom(n,t):this.indexZoom(n,t);this.updateLegendValues()},timeZoom:function(n,t){var r=this.maxSelectedTime,i,f,u;if(isNaN(r)||(t!=this.endTime&&t-n>r&&(n=t-r,this.updateScrollbar=!0),n!=this.startTime&&t-n>r&&(t=n+r,this.updateScrollbar=!0)),i=this.minSelectedTime,0<i&&t-n<i&&(u=Math.round(n+(t-n)/2),i=Math.round(i/2),n=u-i,t=u+i),f=this.chartData,u=this.categoryAxis,AmCharts.ifArray(f)&&(n!=this.startTime||t!=this.endTime)){var e=u.minDuration(),i=this.firstTime,o=this.lastTime;n||(n=i,isNaN(r)||(n=o-r));t||(t=o);n>o&&(n=o);t<i&&(t=i);n<i&&(n=i);t>o&&(t=o);t<n&&(t=n+e);t-n<e/5&&(t<o?t=n+e/5:n=t-e/5);this.startTime=n;this.endTime=t;r=f.length-1;e=this.getClosestIndex(f,"time",n,!0,0,r);f=this.getClosestIndex(f,"time",t,!1,e,r);u.timeZoom(n,t);u.zoom(e,f);this.start=AmCharts.fitToBounds(e,0,r);this.end=AmCharts.fitToBounds(f,0,r);this.zoomAxesAndGraphs();this.zoomScrollbar();n!=i||t!=o?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},indexZoom:function(n,t){var i=this.maxSelectedSeries,r;isNaN(i)||(t!=this.end&&t-n>i&&(n=t-i,this.updateScrollbar=!0),n!=this.start&&t-n>i&&(t=n+i,this.updateScrollbar=!0));(n!=this.start||t!=this.end)&&(r=this.chartData.length-1,isNaN(n)&&(n=0,isNaN(i)||(n=r-i)),isNaN(t)&&(t=r),t<n&&(t=n),t>r&&(t=r),n>r&&(n=r-1),0>n&&(n=0),this.start=n,this.end=t,this.categoryAxis.zoom(n,t),this.zoomAxesAndGraphs(),this.zoomScrollbar(),0!==n||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){var i,t,n;for(AmCharts.AmSerialChart.base.updateGraphs.call(this),i=this.graphs,t=0;t<i.length;t++)n=i[t],n.columnWidthReal=this.columnWidth,n.categoryAxis=this.categoryAxis,AmCharts.isString(n.fillToGraph)&&(n.fillToGraph=this.getGraphById(n.fillToGraph))},updateColumnsDepth:function(){var n,t=this.graphs,i,r,u;for(AmCharts.remove(this.columnsSet),this.columnsArray=[],n=0;n<t.length;n++)if(i=t[n],r=i.columnsArray,r)for(u=0;u<r.length;u++)this.columnsArray.push(r[u]);if(this.columnsArray.sort(this.compareDepth),0<this.columnsArray.length){for(t=this.container.set(),this.columnSet.push(t),n=0;n<this.columnsArray.length;n++)t.push(this.columnsArray[n].column.set);i&&t.translate(i.x,i.y);this.columnsSet=t}},compareDepth:function(n,t){return n.depth>t.depth?1:-1},zoomScrollbar:function(){var n=this.chartScrollbar,t=this.categoryAxis;n&&this.updateScrollbar&&(n.dragger.stop(),t.parseDates&&!t.equalSpacing?n.timeZoom(this.startTime,this.endTime):n.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){for(var i=this.trendLines,n,t=0;t<i.length;t++)n=i[t],n=AmCharts.processObject(n,AmCharts.TrendLine,this.theme),i[t]=n,n.chart=this,AmCharts.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.categoryAxis=this.categoryAxis},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);for(t=this.graphs,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);this.zoomTrendLines();(n=this.chartCursor)&&n.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){for(var t=0,s=this.valueAxes.length,o=this.graphs.length,n,i,f=!1,r,e,u=0;u<s;u++){if(i=this.valueAxes[u],e=i.stackType,"100%"==e||"regular"==e)for(f=!1,r=0;r<o;r++)n=this.graphs[r],n.tcc=1,n.valueAxis==i&&"column"==n.type&&(!f&&n.stackable&&(t++,f=!0),(!n.stackable&&n.clustered||n.newStack)&&t++,n.columnIndex=t-1,n.clustered||(n.columnIndex=0));if("none"==e||"3d"==e){for(f=!1,r=0;r<o;r++)n=this.graphs[r],n.valueAxis==i&&"column"==n.type&&(n.clustered?(n.tcc=1,n.newStack&&(t=0),n.hidden||(n.columnIndex=t,t++)):n.hidden||(f=!0,n.tcc=1,n.columnIndex=0));f&&0==t&&(t=1)}if("3d"==e){for(i=1,u=0;u<o;u++)n=this.graphs[u],n.newStack&&i++,n.depthCount=i,n.tcc=t;t=i}}return t},parseData:function(){AmCharts.AmSerialChart.base.parseData.call(this);this.parseSerialData()},getCategoryIndexByValue:function(n){for(var i=this.chartData,r,t=0;t<i.length;t++)i[t].category==n&&(r=t);return r},handleCursorChange:function(n){this.updateLegendValues(n.index)},handleCursorZoom:function(n){this.updateScrollbar=!0;this.zoom(n.start,n.end)},handleScrollbarZoom:function(n){this.updateScrollbar=!1;this.zoom(n.start,n.end)},dispatchTimeZoomEvent:function(){var n;if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){n={type:"zoomed"};n.startDate=new Date(this.startTime);n.endDate=new Date(this.endTime);n.startIndex=this.start;n.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=n.startDate;this.endDate=n.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var t=this.categoryAxis,i=AmCharts.extractPeriod(t.minPeriod).period,t=t.dateFormatsObject[i];n.startValue=AmCharts.formatDate(n.startDate,t,this);n.endValue=AmCharts.formatDate(n.endDate,t,this);n.chart=this;n.target=this;this.fire(n.type,n)}},dispatchIndexZoomEvent:function(){var t,n;(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)&&(this.startIndex=this.start,this.endIndex=this.end,t=this.chartData,!AmCharts.ifArray(t)||isNaN(this.start)||isNaN(this.end)||(n={chart:this,target:this,type:"zoomed"},n.startIndex=this.start,n.endIndex=this.end,n.startValue=t[this.start].category,n.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,n.startDate=new Date(this.startTime),n.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(n.type,n)))},updateLegendValues:function(n){for(var r=this.graphs,i,t=0;t<r.length;t++)i=r[t],i.currentDataItem=isNaN(n)?void 0:this.chartData[n].axes[i.valueAxis.id].graphs[i.id];this.legend&&this.legend.updateValues()},getClosestIndex:function(n,t,i,r,u,f){0>u&&(u=0);f>n.length-1&&(f=n.length-1);var e=u+Math.round((f-u)/2),o=n[e][t];return 1>=f-u?r?u:(r=n[f][t],Math.abs(n[u][t]-i)<Math.abs(r-i)?u:f):i==o?e:i<o?this.getClosestIndex(n,t,i,r,u,e):this.getClosestIndex(n,t,i,r,e,f)},zoomToIndexes:function(n,t){var r,i;this.updateScrollbar=!0;r=this.chartData;r&&(i=r.length,0<i&&(0>n&&(n=0),t>i-1&&(t=i-1),i=this.categoryAxis,i.parseDates&&!i.equalSpacing?this.zoom(r[n].time,this.getEndTime(r[t].time)):this.zoom(n,t)))},zoomToDates:function(n,t){var i,r;this.updateScrollbar=!0;i=this.chartData;this.categoryAxis.equalSpacing?(r=this.getClosestIndex(i,"time",n.getTime(),!0,0,i.length),t=AmCharts.resetDateToMin(t,this.categoryAxis.minPeriod,1),i=this.getClosestIndex(i,"time",t.getTime(),!1,0,i.length),this.zoom(r,i)):this.zoom(n.getTime(),t.getTime())},zoomToCategoryValues:function(n,t){this.updateScrollbar=!0;this.zoom(this.getCategoryIndexByValue(n),this.getCategoryIndexByValue(t))},formatPeriodString:function(n,t){var e,i,r;if(t){var g=["value","open","low","high","close"],nt="value open low high close average sum count".split(" "),rt=t.valueAxis,ut=this.chartData,y=t.numberFormatter;for(y||(y=this.nf),e=0;e<g.length;e++){for(var o=g[e],f=0,p=0,w,tt,s,h,c,u=0,b=0,k,it,l,a,v,d=this.start;d<=this.end;d++)if(i=ut[d],i&&(i=i.axes[rt.id].graphs[t.id])){if(i.values&&(r=i.values[o],this.rotate?(0>i.x||i.x>i.graph.height)&&(r=NaN):(0>i.x||i.x>i.graph.width)&&(r=NaN),!isNaN(r))){isNaN(w)&&(w=r);tt=r;(isNaN(s)||s>r)&&(s=r);(isNaN(h)||h<r)&&(h=r);c=AmCharts.getDecimals(f);var ft=AmCharts.getDecimals(r),f=f+r,f=AmCharts.roundTo(f,Math.max(c,ft));p++;c=f/p}i.percents&&(i=i.percents[o],!isNaN(i))&&(isNaN(k)&&(k=i),it=i,(isNaN(l)||l>i)&&(l=i),(isNaN(a)||a<i)&&(a=i),v=AmCharts.getDecimals(u),r=AmCharts.getDecimals(i),u+=i,u=AmCharts.roundTo(u,Math.max(v,r)),b++,v=u/b)}u={open:k,close:it,high:a,low:l,average:v,sum:u,count:b};n=AmCharts.formatValue(n,{open:w,close:tt,high:h,low:s,average:c,sum:f,count:p},nt,y,o+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);n=AmCharts.formatValue(n,u,nt,this.pf,"percents\\."+o+"\\.")}}return AmCharts.cleanFromEmpty(n)},formatString:function(n,t,i){var f=t.graph,r,u,e;return-1!=n.indexOf("[[category]]")&&(r=t.serialDataItem.category,this.categoryAxis.parseDates&&(u=this.balloonDateFormat,e=this.chartCursor,e&&(u=e.categoryBalloonDateFormat),-1!=n.indexOf("[[category]]")&&(u=AmCharts.formatDate(r,u,this),-1!=u.indexOf("fff")&&(u=AmCharts.formatMilliseconds(u,r)),r=u)),n=n.replace(/\[\[category\]\]/g,String(r))),f=f.numberFormatter,f||(f=this.nf),r=t.graph.valueAxis,(u=r.duration)&&!isNaN(t.values.value)&&(r=AmCharts.formatDuration(t.values.value,u,"",r.durationUnits,r.maxInterval,f),n=n.replace(RegExp("\\[\\[value\\]\\]","g"),r)),r="value open low high close total".split(" "),u=this.pf,n=AmCharts.formatValue(n,t.percents,r,u,"percents\\."),n=AmCharts.formatValue(n,t.values,r,f,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),n=AmCharts.formatValue(n,t.values,["percents"],u),-1!=n.indexOf("[[")&&(n=AmCharts.formatDataContextValue(n,t.dataContext)),AmCharts.AmSerialChart.base.formatString.call(this,n,t,i)},addChartScrollbar:function(n){AmCharts.callMethod("destroy",[this.chartScrollbar]);n&&(n.chart=this,this.listenTo(n,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===n.width&&(n.width=n.scrollbarHeight):void 0===n.height&&(n.height=n.scrollbarHeight);this.chartScrollbar=n},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},handleReleaseOutside:function(n){AmCharts.AmSerialChart.base.handleReleaseOutside.call(this,n);AmCharts.callMethod("handleReleaseOutside",[this.chartScrollbar])}});AmCharts.Cuboid=AmCharts.Class({construct:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){this.set=n.set();this.container=n;this.h=Math.round(i);this.w=Math.round(t);this.dx=r;this.dy=u;this.colors=f;this.alpha=e;this.bwidth=o;this.bcolor=s;this.balpha=h;this.dashLength=v;this.topRadius=p;this.pattern=y;(this.rotate=a)?0>t&&0===c&&(c=180):0>i&&270==c&&(c=90);this.gradientRotation=c;0===r&&0===u&&(this.cornerRadius=l);this.draw()},draw:function(){var at=this.set,b,tt,rt,ut,ft,et,a,ot,st,yt,h,y,p,d,nt,ht,ct,lt;at.clear();var i=this.container,t=this.w,n=this.h,u=this.dx,f=this.dy,l=this.colors,r=this.alpha,e=this.bwidth,o=this.bcolor,s=this.balpha,g=this.gradientRotation,vt=this.cornerRadius,k=this.dashLength,it=this.pattern,w=this.topRadius,v=l,c=l;for("object"==typeof l&&(v=l[0],c=l[l.length-1]),yt=r,it&&(r=0),nt=this.rotate,(0<Math.abs(u)||0<Math.abs(f))&&(isNaN(w)?(a=c,c=AmCharts.adjustLuminosity(v,-.2),c=AmCharts.adjustLuminosity(v,-.2),b=AmCharts.polygon(i,[0,u,t+u,t,0],[0,f,f,0,0],c,r,1,o,0,g),0<s&&(st=AmCharts.line(i,[0,u,t+u],[0,f,f],o,s,e,k)),tt=AmCharts.polygon(i,[0,0,t,t,0],[0,n,n,0,0],c,r,1,o,0,g),tt.translate(u,f),0<s&&(rt=AmCharts.line(i,[u,u],[f,f+n],o,s,e,k)),ut=AmCharts.polygon(i,[0,0,u,u,0],[0,n,n+f,f,0],c,r,1,o,0,g),ft=AmCharts.polygon(i,[t,t,t+u,t+u,t],[0,n,n+f,f,0],c,r,1,o,0,g),0<s&&(et=AmCharts.line(i,[t,t+u,t+u,t],[0,f,n+f,n],o,s,e,k)),c=AmCharts.adjustLuminosity(a,.2),a=AmCharts.polygon(i,[0,u,t+u,t,0],[n,n+f,n+f,n,n],c,r,1,o,0,g),0<s&&(ot=AmCharts.line(i,[0,u,t+u],[n,n+f,n+f],o,s,e,k))):(nt?(ht=n/2,c=u/2,lt=n/2,ct=t+u/2,y=Math.abs(n/2),h=Math.abs(u/2)):(c=t/2,ht=f/2,ct=t/2,lt=n+f/2+1,h=Math.abs(t/2),y=Math.abs(f/2)),p=h*w,d=y*w,.1<h&&.1<h&&(b=AmCharts.circle(i,h,v,r,e,o,s,!1,y),b.translate(c,ht)),.1<p&&.1<p&&(a=AmCharts.circle(i,p,AmCharts.adjustLuminosity(v,.5),r,e,o,s,!1,d),a.translate(ct,lt)))),r=yt,1>Math.abs(n)&&(n=0),1>Math.abs(t)&&(t=0),!isNaN(w)&&(0<Math.abs(u)||0<Math.abs(f))?(l=[v],l={fill:l,stroke:o,"stroke-width":e,"stroke-opacity":s,"fill-opacity":r},nt?(r="M0,0 L"+t+","+(n/2-n/2*w),e=" B",0<t&&(e=" A"),AmCharts.VML?(r+=e+Math.round(t-p)+","+Math.round(n/2-d)+","+Math.round(t+p)+","+Math.round(n/2+d)+","+t+",0,"+t+","+n,r=r+(" L0,"+n)+(e+Math.round(-h)+","+Math.round(n/2-y)+","+Math.round(h)+","+Math.round(n/2+y)+",0,"+n+",0,0")):(r+="A"+p+","+d+",0,0,0,"+t+","+(n-n/2*(1-w))+"L0,"+n,r+="A"+h+","+y+",0,0,1,0,0"),h=90):(e=t/2-t/2*w,r="M0,0 L"+e+","+n,AmCharts.VML?(r="M0,0 L"+e+","+n,e=" B",0>n&&(e=" A"),r+=e+Math.round(t/2-p)+","+Math.round(n-d)+","+Math.round(t/2+p)+","+Math.round(n+d)+",0,"+n+","+t+","+n,r+=" L"+t+",0",r+=e+Math.round(t/2+h)+","+Math.round(y)+","+Math.round(t/2-h)+","+Math.round(-y)+","+t+",0,0,0"):(r+="A"+p+","+d+",0,0,0,"+(t-t/2*(1-w))+","+n+"L"+t+",0",r+="A"+h+","+y+",0,0,1,0,0"),h=180),i=i.path(r).attr(l),i.gradient("linearGradient",[v,AmCharts.adjustLuminosity(v,-.3),AmCharts.adjustLuminosity(v,-.3),v],h),nt?i.translate(u/2,0):i.translate(0,f/2)):i=0===n?AmCharts.line(i,[0,t],[0,0],o,s,e,k):0===t?AmCharts.line(i,[0,0],[0,n],o,s,e,k):0<vt?AmCharts.rect(i,t,n,l,r,e,o,s,vt,g,k):AmCharts.polygon(i,[0,0,t,t,0],[0,n,n,0,0],l,r,e,o,s,g,!1,k),t=isNaN(w)?0>n?[b,st,tt,rt,ut,ft,et,a,ot,i]:[a,ot,tt,rt,ut,ft,b,st,et,i]:nt?0<t?[b,i,a]:[a,i,b]:0>n?[b,i,a]:[a,i,b],n=0;n<t.length;n++)(u=t[n])&&at.push(u);it&&i.pattern(it)},width:function(n){this.w=Math.round(n);this.draw()},height:function(n){this.h=Math.round(n);this.draw()},animateHeight:function(n,t){var i=this;i.easing=t;i.totalFrames=Math.round(1e3*n/AmCharts.updateRate);i.rh=i.h;i.frame=0;i.height(1);setTimeout(function(){i.updateHeight.call(i)},AmCharts.updateRate)},updateHeight:function(){var n=this,t;n.frame++;t=n.totalFrames;n.frame<=t&&(t=n.easing(0,n.frame,1,n.rh-1,t),n.height(t),setTimeout(function(){n.updateHeight.call(n)},AmCharts.updateRate))},animateWidth:function(n,t){var i=this;i.easing=t;i.totalFrames=Math.round(1e3*n/AmCharts.updateRate);i.rw=i.w;i.frame=0;i.width(1);setTimeout(function(){i.updateWidth.call(i)},AmCharts.updateRate)},updateWidth:function(){var n=this,t;n.frame++;t=n.totalFrames;n.frame<=t&&(t=n.easing(0,n.frame,1,n.rw-1,t),n.width(t),setTimeout(function(){n.updateWidth.call(n)},AmCharts.updateRate))}});AmCharts.CategoryAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(n){this.cname="CategoryAxis";AmCharts.CategoryAxis.base.construct.call(this,n);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.firstDayOfWeek=1;this.gridPosition="middle";this.markPeriodChange=this.boldPeriodBeginning=!0;this.safeDistance=30;this.centerLabelOnFullPeriod=!0;this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={};this.nextPeriod.fff="ss";this.nextPeriod.ss="mm";this.nextPeriod.mm="hh";this.nextPeriod.hh="DD";this.nextPeriod.DD="MM";this.nextPeriod.MM="YYYY";AmCharts.applyTheme(this,n,this.cname)},draw:function(){var v,a,l,f,nt,s,y,e,it,b,tt,rt,ut;if(AmCharts.CategoryAxis.base.draw.call(this),this.generateDFObject(),e=this.chart.chartData,this.data=e,AmCharts.ifArray(e)){var n,p=this.chart,o=this.start,c=this.labelFrequency,d=0;n=this.end-o+1;var b=this.gridCountR,g=this.showFirstLabel,i=this.showLastLabel,t,r="",u=AmCharts.extractPeriod(this.minPeriod);t=AmCharts.getPeriodDuration(u.period,u.count);v=this.rotate;var k=this.firstDayOfWeek,h=this.boldPeriodBeginning,e=AmCharts.resetDateToMin(new Date(e[e.length-1].time+1.05*t),this.minPeriod,1,k).getTime(),w;if(this.endTime>e&&(this.endTime=e),s=this.minorGridEnabled,e=this.gridAlpha,this.parseDates&&!this.equalSpacing){if(this.timeDifference=this.endTime-this.startTime,o=this.choosePeriod(0),c=o.period,v=o.count,a=AmCharts.getPeriodDuration(c,v),a<t&&(c=u.period,v=u.count,a=t),l=c,"WW"==l&&(l="DD"),this.stepWidth=this.getStepWidth(this.timeDifference),b=Math.ceil(this.timeDifference/a)+5,tt=r=AmCharts.resetDateToMin(new Date(this.startTime-a),c,v,k).getTime(),l==c&&1==v&&this.centerLabelOnFullPeriod&&(nt=a*this.stepWidth),this.cellWidth=t*this.stepWidth,n=Math.round(r/a),o=-1,n/2==Math.round(n/2)&&(o=-2,r-=a),rt=p.firstTime,ut=0,s&&1<v&&(y=this.chooseMinorFrequency(v),it=AmCharts.getPeriodDuration(c,y)),0<this.gridCountR)for(n=o;n<=b;n++){if(u=rt+a*(n+Math.floor((tt-rt)/a))-ut,"DD"==c&&(u+=36e5),u=AmCharts.resetDateToMin(new Date(u),c,v,k).getTime(),"MM"==c&&(s=(u-r)/a,1.5<=(u-r)/a&&(u=u-(s-1)*a+AmCharts.getPeriodDuration("DD",3),u=AmCharts.resetDateToMin(new Date(u),c,1).getTime(),ut+=a)),t=(u-this.startTime)*this.stepWidth,s=!1,this.nextPeriod[l]&&(s=this.checkPeriodChange(this.nextPeriod[l],1,u,r,l)),w=!1,s&&this.markPeriodChange?(s=this.dateFormatsObject[this.nextPeriod[l]],this.twoLineMode&&(s=this.dateFormatsObject[l]+"\n"+s,s=AmCharts.fixBrakes(s)),w=!0):s=this.dateFormatsObject[l],h||(w=!1),r=AmCharts.formatDate(new Date(u),s,p),(n!=o||g)&&(n!=b||i)||(r=" "),this.labelFunction&&(r=this.labelFunction(r,new Date(u),this,c,v,f).toString()),this.boldLabels&&(w=!0),f=new this.axisItemRenderer(this,t,r,!1,nt,0,!1,w),this.pushAxisItem(f),f=r=u,!isNaN(y))for(t=1;t<v;t+=y)this.gridAlpha=this.minorGridAlpha,s=u+it*t,s=AmCharts.resetDateToMin(new Date(s),c,y,k).getTime(),s=new this.axisItemRenderer(this,(s-this.startTime)*this.stepWidth),this.pushAxisItem(s);this.gridAlpha=e}}else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(d=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,o=this.choosePeriod(0),c=o.period,v=o.count,a=AmCharts.getPeriodDuration(c,v),a<t&&(c=u.period,v=u.count,a=t),l=c,"WW"==l&&(l="DD"),this.stepWidth=this.getStepWidth(n),b=Math.ceil(this.timeDifference/a)+1,r=AmCharts.resetDateToMin(new Date(this.startTime-a),c,v,k).getTime(),this.cellWidth=this.getStepWidth(n),n=Math.round(r/a),o=-1,n/2==Math.round(n/2)&&(o=-2,r-=a),t=this.start,t/2==Math.round(t/2)&&t--,0>t&&(t=0),nt=this.end+2,nt>=this.data.length&&(nt=this.data.length),it=!1,it=!g,this.previousPos=-1e3,20<this.labelRotation&&(this.safeDistance=5),a=t,this.data[t].time!=AmCharts.resetDateToMin(new Date(this.data[t].time),c,v,k).getTime())for(k=0,w=r,n=t;n<nt;n++)u=this.data[n].time,this.checkPeriodChange(c,v,u,w)&&(k++,2<=k&&(a=n,n=nt),w=u);if(s&&1<v&&(y=this.chooseMinorFrequency(v),AmCharts.getPeriodDuration(c,y)),0<this.gridCountR)for(n=t;n<nt;n++)(u=this.data[n].time,this.checkPeriodChange(c,v,u,r)&&n>=a)?(t=this.getCoordinate(n-this.start),s=!1,this.nextPeriod[l]&&(s=this.checkPeriodChange(this.nextPeriod[l],1,u,r,l)),w=!1,s&&this.markPeriodChange?(s=this.dateFormatsObject[this.nextPeriod[l]],w=!0):s=this.dateFormatsObject[l],r=AmCharts.formatDate(new Date(u),s,p),(n!=o||g)&&(n!=b||i)||(r=" "),it?it=!1:(h||(w=!1),t-this.previousPos>this.safeDistance*Math.cos(this.labelRotation*Math.PI/180)&&(this.labelFunction&&(r=this.labelFunction(r,new Date(u),this,c,v,f)),this.boldLabels&&(w=!0),f=new this.axisItemRenderer(this,t,r,void 0,void 0,void 0,void 0,w),k=f.graphics(),this.pushAxisItem(f),f=k.getBBox().width,AmCharts.isModern||(f-=t),this.previousPos=t+f)),f=r=u):isNaN(y)||(this.checkPeriodChange(c,y,u,tt)&&(this.gridAlpha=this.minorGridAlpha,t=this.getCoordinate(n-this.start),s=new this.axisItemRenderer(this,t),this.pushAxisItem(s),tt=u),this.gridAlpha=e)}}else if(this.cellWidth=this.getStepWidth(n),n<b&&(b=n),d+=this.start,this.stepWidth=this.getStepWidth(n),0<b)for(h=Math.floor(n/b),y=this.chooseMinorFrequency(h),t=d,t/2==Math.round(t/2)&&t--,0>t&&(t=0),b=0,this.end-t+1>=this.autoRotateCount&&(this.labelRotation=this.autoRotateAngle),n=t;n<=this.end+2;n++){if(f=!1,0<=n&&n<this.data.length?(l=this.data[n],r=l.category,f=l.forceShow):r="",s&&!isNaN(y))if(n/y==Math.round(n/y)||f)n/h==Math.round(n/h)||f||(this.gridAlpha=this.minorGridAlpha,r=void 0);else continue;else if(n/h!=Math.round(n/h)&&!f)continue;t=this.getCoordinate(n-d);f=0;"start"==this.gridPosition&&(t-=this.cellWidth/2,f=this.cellWidth/2);k=!0;tickShift=f;"start"==this.tickPosition&&(tickShift=0,k=!1,f=0);(n!=o||g)&&(n!=this.end||i)||(r=void 0);Math.round(b/c)!=b/c&&(r=void 0);b++;tt=this.cellWidth;v&&(tt=NaN);this.labelFunction&&l&&(r=this.labelFunction(r,l,this));r=AmCharts.fixBrakes(r);w=!1;this.boldLabels&&(w=!0);n>this.end&&"start"==this.tickPosition&&(r=" ");f=new this.axisItemRenderer(this,t,r,k,tt,f,void 0,w,tickShift,!1,l.labelColor);f.serialDataItem=l;this.pushAxisItem(f);this.gridAlpha=e}for(n=0;n<this.data.length;n++)(g=this.data[n])&&(i=this.parseDates&&!this.equalSpacing?Math.round((g.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(n-d),g.x[this.id]=i);for(g=this.guides.length,n=0;n<g;n++)i=this.guides[n],h=h=h=e=o=NaN,y=i.above,i.toCategory&&(h=p.getCategoryIndexByValue(i.toCategory),isNaN(h)||(o=this.getCoordinate(h-d),i.expand&&(o+=this.cellWidth/2),f=new this.axisItemRenderer(this,o,"",!0,NaN,NaN,i),this.pushAxisItem(f,y))),i.category&&(h=p.getCategoryIndexByValue(i.category),isNaN(h)||(e=this.getCoordinate(h-d),i.expand&&(e-=this.cellWidth/2),h=(o-e)/2,f=new this.axisItemRenderer(this,e,i.label,!0,NaN,h,i),this.pushAxisItem(f,y))),i.toDate&&(i.toDate instanceof Date||(i.toDate=AmCharts.stringToDate(i.toDate,p.dataDateFormat)),this.equalSpacing?(h=p.getClosestIndex(this.data,"time",i.toDate.getTime(),!1,0,this.data.length-1),isNaN(h)||(o=this.getCoordinate(h-d))):o=(i.toDate.getTime()-this.startTime)*this.stepWidth,f=new this.axisItemRenderer(this,o,"",!0,NaN,NaN,i),this.pushAxisItem(f,y)),i.date&&(i.date instanceof Date||(i.date=AmCharts.stringToDate(i.date,p.dataDateFormat)),this.equalSpacing?(h=p.getClosestIndex(this.data,"time",i.date.getTime(),!1,0,this.data.length-1),isNaN(h)||(e=this.getCoordinate(h-d))):e=(i.date.getTime()-this.startTime)*this.stepWidth,h=(o-e)/2,f="H"==this.orientation?new this.axisItemRenderer(this,e,i.label,!1,2*h,NaN,i):new this.axisItemRenderer(this,e,i.label,!1,NaN,h,i),this.pushAxisItem(f,y)),(0<o||0<e)&&(o<this.width||e<this.width)&&(o=new this.guideFillRenderer(this,e,o,i),e=o.graphics(),this.pushAxisItem(o,y),i.graphics=e,e.index=n,i.balloonText&&this.addEventListeners(e,i))}this.axisCreated=!0;p=this.x;d=this.y;this.set.translate(p,d);this.labelsSet.translate(p,d);this.positionTitle();(p=this.axisLine.set)&&p.toFront();p=this.getBBox().height;2<p-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1);this.previousHeight=p},chooseMinorFrequency:function(n){for(var t=10;0<t;t--)if(n/t==Math.round(n/t))return n/t},choosePeriod:function(n){var i=AmCharts.getPeriodDuration(this.periods[n].period,this.periods[n].count),r=Math.ceil(this.timeDifference/i),t=this.periods;return this.timeDifference<i&&0<n?t[n-1]:r<=this.gridCountR?t[n]:n+1<t.length?this.choosePeriod(n+1):t[n]},getStepWidth:function(n){var t;return this.startOnAxis?(t=this.axisWidth/(n-1),1==n&&(t=this.axisWidth)):t=this.axisWidth/n,t},getCoordinate:function(n){return n*=this.stepWidth,this.startOnAxis||(n+=this.stepWidth/2),Math.round(n)},timeZoom:function(n,t){this.startTime=n;this.endTime=t},minDuration:function(){var n=AmCharts.extractPeriod(this.minPeriod);return AmCharts.getPeriodDuration(n.period,n.count)},checkPeriodChange:function(n,t,i,r,u){i=new Date(i);var e=new Date(r),f=this.firstDayOfWeek;return r=t,"DD"==n&&(t=1),i=AmCharts.resetDateToMin(i,n,t,f).getTime(),t=AmCharts.resetDateToMin(e,n,t,f).getTime(),"DD"==n&&"hh"!=u&&i-t<=AmCharts.getPeriodDuration(n,r)?!1:i!=t?!0:!1},generateDFObject:function(){var n,t;for(this.dateFormatsObject={},n=0;n<this.dateFormats.length;n++)t=this.dateFormats[n],this.dateFormatsObject[t.period]=t.format},xToIndex:function(n){var i=this.data,t=this.chart,f=t.rotate,u=this.stepWidth,r;return this.parseDates&&!this.equalSpacing?(n=this.startTime+Math.round(n/u)-this.minDuration()/2,t=t.getClosestIndex(i,"time",n,!1,this.start,this.end+1)):(this.startOnAxis||(n-=u/2),t=this.start+Math.round(n/u)),t=AmCharts.fitToBounds(t,0,i.length-1),i[t]&&(r=i[t].x[this.id]),f?r>this.height+1&&t--:r>this.width+1&&t--,0>r&&t++,AmCharts.fitToBounds(t,0,i.length-1)},dateToCoordinate:function(n){return this.parseDates&&!this.equalSpacing?(n.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(n=this.chart.getClosestIndex(this.data,"time",n.getTime(),!1,0,this.data.length-1),this.getCoordinate(n-this.start)):NaN},categoryToCoordinate:function(n){return this.chart?(n=this.chart.getCategoryIndexByValue(n),this.getCoordinate(n-this.start)):NaN},coordinateToDate:function(n){return this.equalSpacing?(n=this.xToIndex(n),new Date(this.data[n].time)):new Date(this.startTime+n/this.stepWidth)}});AmCharts.AmStockChart=AmCharts.Class({construct:function(n){this.type="stock";this.cname="AmStockChart";this.version="3.11.3";this.theme=n;this.createEvents("zoomed","rollOverStockEvent","rollOutStockEvent","clickStockEvent","panelRemoved","dataUpdated","init","rendered","drawn");this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.firstDayOfWeek=1;this.glueToTheEnd=!1;this.dataSetCounter=-1;this.zoomOutOnDataSetChange=!1;this.panels=[];this.dataSets=[];this.chartCursors=[];this.comparedDataSets=[];this.categoryAxesSettings=new AmCharts.CategoryAxesSettings(n);this.valueAxesSettings=new AmCharts.ValueAxesSettings(n);this.panelsSettings=new AmCharts.PanelsSettings(n);this.chartScrollbarSettings=new AmCharts.ChartScrollbarSettings(n);this.chartCursorSettings=new AmCharts.ChartCursorSettings(n);this.stockEventsSettings=new AmCharts.StockEventsSettings(n);this.legendSettings=new AmCharts.LegendSettings(n);this.balloon=new AmCharts.AmBalloon(n);this.previousEndDate=new Date(0);this.previousStartDate=new Date(0);this.dataSetCount=this.graphCount=0;this.chartCreated=!1;this.extendToFullPeriod=!0;AmCharts.applyTheme(this,n,this.cname)},write:function(n){var t=this.theme,i;this.initHC||(AmCharts.callInitHandler(this),this.initHC=!0);AmCharts.applyLang(this.language,this);i=this.exportConfig;i&&AmCharts.AmExport&&!this.AmExport&&(this.AmExport=new AmCharts.AmExport(this,i));this.amExport&&AmCharts.AmExport&&(this.AmExport=AmCharts.extend(this.amExport,new AmCharts.AmExport(this),!0));this.AmExport&&this.AmExport.init();this.chartRendered=!1;n="object"!=typeof n?document.getElementById(n):n;this.zoomOutOnDataSetChange&&(this.endDate=this.startDate=void 0);this.categoryAxesSettings=AmCharts.processObject(this.categoryAxesSettings,AmCharts.CategoryAxesSettings,t);this.valueAxesSettings=AmCharts.processObject(this.valueAxesSettings,AmCharts.ValueAxesSettings,t);this.chartCursorSettings=AmCharts.processObject(this.chartCursorSettings,AmCharts.ChartCursorSettings,t);this.chartScrollbarSettings=AmCharts.processObject(this.chartScrollbarSettings,AmCharts.ChartScrollbarSettings,t);this.legendSettings=AmCharts.processObject(this.legendSettings,AmCharts.LegendSettings,t);this.panelsSettings=AmCharts.processObject(this.panelsSettings,AmCharts.PanelsSettings,t);this.stockEventsSettings=AmCharts.processObject(this.stockEventsSettings,AmCharts.StockEventsSettings,t);this.dataSetSelector&&(this.dataSetSelector=AmCharts.processObject(this.dataSetSelector,AmCharts.DataSetSelector,t));this.periodSelector&&(this.periodSelector=AmCharts.processObject(this.periodSelector,AmCharts.PeriodSelector,t));n.innerHTML="";this.div=n;this.measure();this.createLayout();this.updateDataSets();this.addDataSetSelector();this.addPeriodSelector();this.addPanels();this.updatePanels();this.addChartScrollbar();this.updateData();this.skipDefault||this.setDefaultPeriod()},setDefaultPeriod:function(n){var t=this.periodSelector;t&&(this.animationPlayed=!1,t.setDefaultPeriod(n))},validateSize:function(){var n,t=this.panels;for(this.measurePanels(),n=0;n<t.length;n++)panel=t[n],panel.invalidateSize()},updateDataSets:function(){for(var r=this.mainDataSet,i=this.dataSets,n,t=0;t<i.length;t++)n=i[t],n=AmCharts.processObject(n,AmCharts.DataSet),i[t]=n,n.id||(this.dataSetCount++,n.id="ds"+this.dataSetCount),void 0===n.color&&(n.color=this.colors.length-1>t?this.colors[t]:AmCharts.randomColor());!r&&AmCharts.ifArray(i)&&(this.mainDataSet=this.dataSets[0])},updateEvents:function(n){AmCharts.ifArray(n.stockEvents)&&AmCharts.parseEvents(n,this.panels,this.stockEventsSettings,this.firstDayOfWeek,this,this.dataDateFormat)},getLastDate:function(n){var t=this.dataDateFormat;return n=n instanceof Date?new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()):t?AmCharts.stringToDate(n,t):new Date(n),new Date(AmCharts.changeDate(n,this.categoryAxesSettings.minPeriod,1,!0).getTime()-1)},getFirstDate:function(n){var t=this.dataDateFormat;return n=n instanceof Date?new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()):t?AmCharts.stringToDate(n,t):new Date(n),new Date(AmCharts.resetDateToMin(n,this.categoryAxesSettings.minPeriod,1,this.firstDayOfWeek))},updateData:function(){var n=this.mainDataSet,t,i,r;n&&(t=this.categoryAxesSettings,-1==AmCharts.getItemIndex(t.minPeriod,t.groupToPeriods)&&t.groupToPeriods.unshift(t.minPeriod),i=n.dataProvider,AmCharts.ifArray(i)?(r=n.categoryField,this.firstDate=this.getFirstDate(i[0][r]),this.lastDate=this.getLastDate(i[i.length-1][r]),this.periodSelector&&this.periodSelector.setRanges(this.firstDate,this.lastDate),n.dataParsed||(AmCharts.parseStockData(n,t.minPeriod,t.groupToPeriods,this.firstDayOfWeek,this.dataDateFormat),n.dataParsed=!0),this.updateComparingData(),this.updateEvents(n)):this.lastDate=this.firstDate=void 0,this.glueToTheEnd&&this.startDate&&this.endDate&&this.lastDate&&(AmCharts.getPeriodDuration(t.minPeriod),this.startDate=new Date(this.startDate.getTime()+(this.lastDate.getTime()-this.endDate.getTime())),this.endDate=this.lastDate,this.updateScrollbar=!0),this.updatePanelsWithNewData());n={type:"dataUpdated",chart:this};this.fire(n.type,n)},updateComparingData:function(){for(var i=this.comparedDataSets,r=this.categoryAxesSettings,n,t=0;t<i.length;t++)n=i[t],n.dataParsed||(AmCharts.parseStockData(n,r.minPeriod,r.groupToPeriods,this.firstDayOfWeek,this.dataDateFormat),n.dataParsed=!0),this.updateEvents(n)},createLayout:function(){var t=this.div,n,r,i=document.createElement("div");i.style.position="relative";this.containerDiv=i;t.appendChild(i);(t=this.periodSelector)&&(n=t.position);(t=this.dataSetSelector)&&(r=t.position);("left"==n||"left"==r)&&(t=document.createElement("div"),t.style.cssFloat="left",t.style.styleFloat="left",t.style.width="0px",t.style.position="absolute",i.appendChild(t),this.leftContainer=t);("right"==n||"right"==r)&&(n=document.createElement("div"),n.style.cssFloat="right",n.style.styleFloat="right",n.style.width="0px",i.appendChild(n),this.rightContainer=n);n=document.createElement("div");i.appendChild(n);this.centerContainer=n;i=document.createElement("div");n.appendChild(i);this.panelsContainer=i},addPanels:function(){var i,n,t;for(this.measurePanels(),i=this.panels,n=0;n<i.length;n++)t=i[n],t=AmCharts.processObject(t,AmCharts.StockPanel,this.theme),i[n]=t,this.addStockPanel(t,n);this.panelsAdded=!0},measurePanels:function(){var e,i,t,u;this.measure();var n=this.chartScrollbarSettings,r=this.divRealHeight,f=this.panelsSettings.panelSpacing;for(n.enabled&&(r-=n.height),(n=this.periodSelector)&&!n.vertical&&(n=n.offsetHeight,r-=n+f),(n=this.dataSetSelector)&&!n.vertical&&(n=n.offsetHeight,r-=n+f),n=this.panels,this.panelsContainer.style.height=r+"px",this.chartCursors=[],e=0,i=0;i<n.length;i++)t=n[i],u=t.percentHeight,isNaN(u)&&(u=100/n.length,t.percentHeight=u),e+=u;for(this.panelsHeight=Math.max(r-f*(n.length-1),0),i=0;i<n.length;i++)t=n[i],t.percentHeight=t.percentHeight/e*100,t.panelBox&&(t.panelBox.style.height=Math.round(t.percentHeight*this.panelsHeight/100)+"px")},addStockPanel:function(n,t){var r=this.panelsSettings,i=document.createElement("div");i.className="amChartsPanel";0<t&&!this.panels[t-1].showCategoryAxis&&(i.style.marginTop=r.panelSpacing+"px");n.panelBox=i;n.stockChart=this;n.id||(n.id="stockPanel"+t);n.pathToImages=this.pathToImages;i.style.height=Math.round(n.percentHeight*this.panelsHeight/100)+"px";i.style.width="100%";this.panelsContainer.appendChild(i);0<r.backgroundAlpha&&(i.style.backgroundColor=r.backgroundColor);(i=n.stockLegend)&&(i.container=void 0,i.title=n.title,i.marginLeft=r.marginLeft,i.marginRight=r.marginRight,i.verticalGap=3,i.position="top",AmCharts.copyProperties(this.legendSettings,i),n.addLegend(i,i.divId));n.zoomOutText="";this.addCursor(n)},enableCursors:function(n){for(var i=this.chartCursors,t=0;t<i.length;t++)i[t].enabled=n},updatePanels:function(){for(var t=this.panels,n=0;n<t.length;n++)this.updatePanel(t[n]);this.mainDataSet&&this.updateGraphs();this.currentPeriod=void 0},updatePanel:function(n){var t,i,r,u;for(n.seriesIdField="amCategoryIdField",n.dataProvider=[],n.chartData=[],n.graphs=[],t=n.categoryAxis,i=this.categoryAxesSettings,AmCharts.copyProperties(this.panelsSettings,n),AmCharts.copyProperties(i,t),t.parseDates=!0,n.zoomOutOnDataUpdate=!1,n.mouseWheelScrollEnabled=this.mouseWheelScrollEnabled,n.dataDateFormat=this.dataDateFormat,n.language=this.language,n.showCategoryAxis?"top"==t.position?n.marginTop=i.axisHeight:n.marginBottom=i.axisHeight:(n.categoryAxis.labelsEnabled=!1,n.chartCursor&&(n.chartCursor.categoryBalloonEnabled=!1)),i=n.valueAxes,r=i.length,0===r&&(u=new AmCharts.ValueAxis(this.theme),n.addValueAxis(u)),t=new AmCharts.AmBalloon(this.theme),AmCharts.copyProperties(this.balloon,t),n.balloon=t,i=n.valueAxes,r=i.length,t=0;t<r;t++)u=i[t],AmCharts.copyProperties(this.valueAxesSettings,u);n.listenersAdded=!1;n.write(n.panelBox)},zoom:function(n,t){this.zoomChart(n,t)},zoomOut:function(){this.zoomChart(this.firstDate,this.lastDate)},updatePanelsWithNewData:function(){var r=this.mainDataSet,t=this.scrollbarChart,i,u,n;if(r){for(i=this.panels,this.currentPeriod=void 0,u=0;u<i.length;u++)n=i[u],n.categoryField=r.categoryField,0===r.dataProvider.length&&(n.dataProvider=[]),n.scrollbarChart=t;t&&(i=this.categoryAxesSettings,u=i.minPeriod,t.categoryField=r.categoryField,0<r.dataProvider.length?(n=this.chartScrollbarSettings.usePeriod,t.dataProvider=n?r.agregatedDataProviders[n]:r.agregatedDataProviders[u]):t.dataProvider=[],n=t.categoryAxis,n.minPeriod=u,n.firstDayOfWeek=this.firstDayOfWeek,n.equalSpacing=i.equalSpacing,n.axisAlpha=0,n.markPeriodChange=i.markPeriodChange,t.bbsetr=!0,t.validateData(),i=this.panelsSettings,t.maxSelectedTime=i.maxSelectedTime,t.minSelectedTime=i.minSelectedTime);0<r.dataProvider.length&&this.zoomChart(this.startDate,this.endDate)}this.panelDataInvalidated=!1},addChartScrollbar:function(){var f=this.chartScrollbarSettings,t=this.scrollbarChart,u,i,e,r;if(t&&(t.clear(),t.destroy()),f.enabled){var u=this.panelsSettings,n=this.categoryAxesSettings,t=new AmCharts.AmSerialChart(this.theme);if(t.language=this.language,t.pathToImages=this.pathToImages,t.autoMargins=!1,this.scrollbarChart=t,t.id="scrollbarChart",t.scrollbarOnly=!0,t.zoomOutText="",t.marginLeft=u.marginLeft,t.marginRight=u.marginRight,t.marginTop=0,t.marginBottom=0,u=n.dateFormats,i=t.categoryAxis,i.boldPeriodBeginning=n.boldPeriodBeginning,u&&(i.dateFormats=n.dateFormats),i.labelsEnabled=!1,i.parseDates=!0,n=f.graph,AmCharts.isString(n)){for(u=this.panels,i=0;i<u.length;i++)e=AmCharts.getObjById(u[i].stockGraphs,f.graph),e&&(n=e);f.graph=n}n&&(r=new AmCharts.AmGraph(this.theme),r.valueField=n.valueField,r.periodValue=n.periodValue,r.type=n.type,r.connect=n.connect,r.minDistance=f.minDistance,t.addGraph(r));n=new AmCharts.ChartScrollbar(this.theme);t.addChartScrollbar(n);AmCharts.copyProperties(f,n);n.scrollbarHeight=f.height;n.graph=r;this.listenTo(n,"zoomed",this.handleScrollbarZoom);r=document.createElement("div");r.style.height=f.height+"px";n=this.periodSelectorContainer;u=this.periodSelector;i=this.centerContainer;"bottom"==f.position?u?"bottom"==u.position?i.insertBefore(r,n):i.appendChild(r):i.appendChild(r):u?"top"==u.position?i.insertBefore(r,n.nextSibling):i.insertBefore(r,i.firstChild):i.insertBefore(r,i.firstChild);t.write(r)}},handleScrollbarZoom:function(n){if(this.skipScrollbarEvent)this.skipScrollbarEvent=!1;else{var i=n.endDate,t={};t.startDate=n.startDate;t.endDate=i;this.updateScrollbar=!1;this.handleZoom(t)}},addPeriodSelector:function(){var t=this.periodSelector,f,r,i,n;if(t){r=this.categoryAxesSettings.minPeriod;t.minDuration=AmCharts.getPeriodDuration(r);t.minPeriod=r;t.chart=this;i=this.dataSetSelector;r=this.dssContainer;i&&(f=i.position);i=this.panelsSettings.panelSpacing;n=document.createElement("div");this.periodSelectorContainer=n;var e=this.leftContainer,o=this.rightContainer,u=this.centerContainer,s=this.panelsContainer,h=t.width+2*i+"px";switch(t.position){case"left":e.style.width=t.width+"px";e.appendChild(n);u.style.paddingLeft=h;break;case"right":u.style.marginRight=h;o.appendChild(n);o.style.width=t.width+"px";break;case"top":s.style.clear="both";u.insertBefore(n,s);n.style.paddingBottom=i+"px";n.style.overflow="hidden";break;case"bottom":n.style.marginTop=i+"px";"bottom"==f?u.insertBefore(n,r):u.appendChild(n)}this.listenTo(t,"changed",this.handlePeriodSelectorZoom);t.write(n)}},addDataSetSelector:function(){var n=this.dataSetSelector;if(n){n.chart=this;n.dataProvider=this.dataSets;var o=n.position,i=this.panelsSettings.panelSpacing,t=document.createElement("div");this.dssContainer=t;var u=this.leftContainer,f=this.rightContainer,r=this.centerContainer,e=this.panelsContainer,i=n.width+2*i+"px";switch(o){case"left":u.style.width=n.width+"px";u.appendChild(t);r.style.paddingLeft=i;break;case"right":r.style.marginRight=i;f.appendChild(t);f.style.width=n.width+"px";break;case"top":e.style.clear="both";r.insertBefore(t,e);t.style.overflow="hidden";break;case"bottom":r.appendChild(t)}n.write(t)}},handlePeriodSelectorZoom:function(n){var t=this.scrollbarChart;t&&(t.updateScrollbar=!0);n.predefinedPeriod?(this.predefinedStart=n.startDate,this.predefinedEnd=n.endDate):this.predefinedEnd=this.predefinedStart=null;this.zoomChart(n.startDate,n.endDate)},addCursor:function(n){var i=this.chartCursorSettings,t;i.enabled&&(t=new AmCharts.ChartCursor(this.theme),AmCharts.copyProperties(i,t),n.chartCursor&&AmCharts.copyProperties(n.chartCursor,t),n.removeChartCursor(),n.addChartCursor(t),this.listenTo(t,"changed",this.handleCursorChange),this.listenTo(t,"onHideCursor",this.hideChartCursor),this.listenTo(t,"zoomed",this.handleCursorZoom),this.chartCursors.push(t))},hideChartCursor:function(){for(var i=this.chartCursors,n,t=0;t<i.length;t++)n=i[t],n.hideCursor(!1),(n=n.chart)&&n.updateLegendValues()},handleCursorZoom:function(n){var t=this.scrollbarChart,i,r,u;t&&(t.updateScrollbar=!0);t={};this.categoryAxesSettings.equalSpacing?(r=this.mainDataSet.categoryField,u=this.mainDataSet.agregatedDataProviders[this.currentPeriod],i=new Date(u[n.start][r]),n=new Date(u[n.end][r])):(i=new Date(n.start),n=new Date(n.end));t.startDate=i;t.endDate=n;this.handleZoom(t)},handleZoom:function(n){this.zoomChart(n.startDate,n.endDate)},zoomChart:function(n,t){var e=new Date(n),i=this,o=i.firstDate,r=i.lastDate,u=i.currentPeriod,l=i.categoryAxesSettings,s=l.minPeriod,a=i.panelsSettings,h=i.periodSelector,v=i.panels,p=i.comparedGraphs,w=i.scrollbarChart,y=i.firstDayOfWeek,f,c;if(o&&r){for(n||(n=o),t||(t=r),u&&(f=AmCharts.extractPeriod(u),n.getTime()==t.getTime()&&f!=s&&(t=AmCharts.changeDate(t,f.period,f.count),t.setTime(t.getTime()-1))),n.getTime()<o.getTime()&&(n=o),n.getTime()>r.getTime()&&(n=r),t.getTime()<o.getTime()&&(t=o),t.getTime()>r.getTime()&&(t=r),f=AmCharts.getItemIndex(s,l.groupToPeriods),l=u,u=i.choosePeriod(f,n,t),i.currentPeriod=u,f=AmCharts.extractPeriod(u),c=AmCharts.getPeriodDuration(f.period,f.count),AmCharts.getPeriodDuration(s),1>t.getTime()-n.getTime()&&(n=new Date(t.getTime()-1)),s=AmCharts.newDate(n),i.extendToFullPeriod&&(s.getTime()-o.getTime()<.1*c&&(s=AmCharts.resetDateToMin(n,f.period,f.count,y)),r.getTime()-t.getTime()<.1*c&&(t=AmCharts.resetDateToMin(r,f.period,f.count,y),t=AmCharts.changeDate(t,f.period,f.count,!0))),o=0;o<v.length;o++)r=v[o],r.chartCursor&&r.chartCursor.panning&&(s=e);for(o=0;o<v.length;o++){if(r=v[o],u!=l){for(e=0;e<p.length;e++)c=p[e].graph,c.dataProvider=c.dataSet.agregatedDataProviders[u];e=r.categoryAxis;e.firstDayOfWeek=y;e.minPeriod=u;r.dataProvider=i.mainDataSet.agregatedDataProviders[u];(e=r.chartCursor)&&(e.categoryBalloonDateFormat=i.chartCursorSettings.categoryBalloonDateFormat(f.period),r.showCategoryAxis||(e.categoryBalloonEnabled=!1));r.startTime=s.getTime();r.endTime=t.getTime();r.validateData(!0)}e=!1;r.chartCursor&&r.chartCursor.panning&&(e=!0);e||(r.startTime=void 0,r.endTime=void 0,r.zoomToDates(s,t));0<a.startDuration&&i.animationPlayed&&!e?(r.startDuration=0,r.animateAgain()):0<a.startDuration&&!e&&r.animateAgain()}i.animationPlayed=!0;AmCharts.extractPeriod(u);a=new Date(t);w&&i.updateScrollbar&&(w.zoomToDates(n,a),i.skipScrollbarEvent=!0,setTimeout(function(){i.resetSkip.call(i)},100));i.updateScrollbar=!0;i.startDate=n;i.endDate=t;h&&h.zoom(n,t);(n.getTime()!=i.previousStartDate.getTime()||t.getTime()!=i.previousEndDate.getTime())&&(h={type:"zoomed"},h.startDate=n,h.endDate=t,h.chart=i,h.period=u,i.fire(h.type,h),i.previousStartDate=new Date(n),i.previousEndDate=new Date(t))}i.eventsHidden&&i.showHideEvents(!1);i.chartCreated||(u="init",i.fire(u,{type:u,chart:i}));i.chartRendered||(u="rendered",i.fire(u,{type:u,chart:i}),i.chartRendered=!0);u="drawn";i.fire(u,{type:u,chart:i});i.chartCreated=!0;i.animationPlayed=!0},resetSkip:function(){this.skipScrollbarEvent=!1},updateGraphs:function(){var g,k,r,h,c,e,a,n,t,v,o,l,u,f,y,p,nt,tt,d,w,s,i,b;if(this.getSelections(),0<this.dataSets.length)for(g=this.panels,this.comparedGraphs=[],k=0;k<g.length;k++){for(r=g[k],h=r.valueAxes,c=0;c<h.length;c++)e=h[c],e.prevLog&&(e.logarithmic=e.prevLog),e.recalculateToPercents="always"==r.recalculateToPercents?!0:!1;for(h=this.mainDataSet,c=this.comparedDataSets,e=r.stockGraphs,r.graphs=[],a=0;a<e.length;a++){for(n=e[a],n=AmCharts.processObject(n,AmCharts.StockGraph,this.theme),e[a]=n,(!n.title||n.resetTitleOnDataSetChange)&&(n.title=h.title,n.resetTitleOnDataSetChange=!0),n.useDataSetColors&&(n.lineColor=h.color,n.fillColors=void 0,n.bulletColor=void 0),t=!1,v=h.fieldMappings,o=0;o<v.length;o++)l=v[o],u=n.valueField,u&&l.toField==u&&(t=!0),(u=n.openField)&&l.toField==u&&(t=!0),(u=n.closeField)&&l.toField==u&&(t=!0),(u=n.lowField)&&l.toField==u&&(t=!0);if(r.addGraph(n),t||(n.visibleInLegend=!1),u=!1,"always"==r.recalculateToPercents&&(u=!0),f=r.stockLegend,f&&(f=AmCharts.processObject(f,AmCharts.StockLegend,this.theme),r.stockLegend=f,y=f.valueTextComparing,p=f.valueTextRegular,nt=f.periodValueTextComparing,tt=f.periodValueTextRegular),n.comparable&&(d=c.length,n.valueAxis))for(0<d&&n.valueAxis.logarithmic&&"never"!=r.recalculateToPercents&&(n.valueAxis.logarithmic=!1,n.valueAxis.prevLog=!0),0<d&&"whenComparing"==r.recalculateToPercents&&(n.valueAxis.recalculateToPercents=!0),f&&n.valueAxis&&!0===n.valueAxis.recalculateToPercents&&(u=!0),w=0;w<d;w++){for(s=c[w],i=n.comparedGraphs[s.id],i||(i=new AmCharts.AmGraph(this.theme),i.id="comparedGraph"+w+"_"+a+s.id),i.periodValue=n.periodValue,i.dataSet=s,i.behindColumns=n.behindColumns,n.comparedGraphs[s.id]=i,i.seriesIdField="amCategoryIdField",i.connect=n.connect,b=n.compareField,b||(b=n.valueField),t=!1,v=s.fieldMappings,o,o=0;o<v.length;o++)l=v[o],l.toField==b&&(t=!0);t&&(i.valueField=b,i.title=s.title,i.lineColor=s.color,n.compareGraphType&&(i.type=n.compareGraphType),t=n.compareGraphLineThickness,isNaN(t)||(i.lineThickness=t),t=n.compareGraphDashLength,isNaN(t)||(i.dashLength=t),t=n.compareGraphLineAlpha,isNaN(t)||(i.lineAlpha=t),t=n.compareGraphCornerRadiusTop,isNaN(t)||(i.cornerRadiusTop=t),t=n.compareGraphCornerRadiusBottom,isNaN(t)||(i.cornerRadiusBottom=t),t=n.compareGraphBalloonColor,isNaN(t)||(i.balloonColor=t),t=n.compareGraphBulletColor,isNaN(t)||(i.bulletColor=t),(t=n.compareGraphFillColors)&&(i.fillColors=t),(t=n.compareGraphNegativeFillColors)&&(i.negativeFillColors=t),(t=n.compareGraphFillAlphas)&&(i.fillAlphas=t),(t=n.compareGraphNegativeFillAlphas)&&(i.negativeFillAlphas=t),(t=n.compareGraphBullet)&&(i.bullet=t),(t=n.compareGraphNumberFormatter)&&(i.numberFormatter=t),t=n.compareGraphPrecision,isNaN(t)||(i.precision=t),(t=n.compareGraphBalloonText)&&(i.balloonText=t),t=n.compareGraphBulletSize,isNaN(t)||(i.bulletSize=t),t=n.compareGraphBulletAlpha,isNaN(t)||(i.bulletAlpha=t),t=n.compareGraphBulletBorderAlpha,isNaN(t)||(i.bulletBorderAlpha=t),(t=n.compareGraphBulletBorderColor)&&(i.bulletBorderColor=t),t=n.compareGraphBulletBorderThickness,isNaN(t)||(i.bulletBorderThickness=t),i.visibleInLegend=n.compareGraphVisibleInLegend,i.balloonFunction=n.compareGraphBalloonFunction,i.hideBulletsCount=n.hideBulletsCount,i.valueAxis=n.valueAxis,f&&(u&&y?(i.legendValueText=y,i.legendPeriodValueText=nt):(p&&(i.legendValueText=p),i.legendPeriodValueText=tt)),r.showComparedOnTop?r.graphs.push(i):r.graphs.unshift(i),this.comparedGraphs.push({graph:i,dataSet:s}))}f&&(u&&y?(n.legendValueText=y,n.legendPeriodValueText=nt):(p&&(n.legendValueText=p),n.legendPeriodValueText=tt))}}},choosePeriod:function(n,t,i){var r=this.categoryAxesSettings,u=r.groupToPeriods,e=u[n],u=u[n+1],f=AmCharts.extractPeriod(e),f=AmCharts.getPeriodDuration(f.period,f.count),o=t.getTime(),s=i.getTime(),r=r.maxSeries;return(s-o)/f>r&&0<r&&u?this.choosePeriod(n+1,t,i):e},handleCursorChange:function(n){var r=n.target,f=n.position,e=n.zooming,u,i,t;for(n=n.index,u=this.chartCursors,i=0;i<u.length;i++)t=u[i],t!=r&&f&&(t.isZooming(e),t.previousMousePosition=NaN,t.forceShow=!0,t.initialMouse=r.initialMouse,t.selectionPosX=r.selectionPosX,t.setPosition(f,!1,n))},getSelections:function(){for(var r=[],i=this.dataSets,t,n=0;n<i.length;n++)t=i[n],t.compared&&r.push(t);for(this.comparedDataSets=r,i=this.panels,n=0;n<i.length;n++)t=i[n],"never"!=t.recalculateToPercents&&0<r.length?t.hideDrawingIcons(!0):t.drawingIconsEnabled&&t.hideDrawingIcons(!1)},addPanel:function(n){this.panels.push(n);AmCharts.removeChart(n);AmCharts.addChart(n)},addPanelAt:function(n,t){this.panels.splice(t,0,n);AmCharts.removeChart(n);AmCharts.addChart(n)},removePanel:function(n){for(var i=this.panels,r,t=i.length-1;0<=t;t--)i[t]==n&&(r={type:"panelRemoved",panel:n,chart:this},this.fire(r.type,r),i.splice(t,1),n.destroy(),n.clear())},validateData:function(){this.resetDataParsed();this.updateDataSets();this.mainDataSet.compared=!1;this.updateGraphs();this.updateData();var n=this.dataSetSelector;n&&n.write(n.div)},resetDataParsed:function(){for(var t=this.dataSets,n=0;n<t.length;n++)t[n].dataParsed=!1},validateNow:function(){this.skipDefault=!0;this.chartRendered=!1;this.clear(!0);this.write(this.div)},hideStockEvents:function(){this.showHideEvents(!1);this.eventsHidden=!0},showStockEvents:function(){this.showHideEvents(!0);this.eventsHidden=!1},showHideEvents:function(n){for(var f=this.panels,r,i,u,t=0;t<f.length;t++)for(r=f[t].graphs,i=0;i<r.length;i++)u=r[i],!0===n?u.showBullets():u.hideBullets()},invalidateSize:function(){var n=this,t;clearTimeout(n.validateTO);t=setTimeout(function(){n.validateNow()},5);n.validateTO=t},measure:function(){var n=this.div,t=n.offsetWidth,i=n.offsetHeight;n.clientHeight&&(t=n.clientWidth,i=n.clientHeight);this.divRealWidth=t;this.divRealHeight=i},clear:function(n){var t=this.panels,i,r;if(t)for(i=0;i<t.length;i++)r=t[i],n||(r.cleanChart(),r.destroy()),r.clear(n);(t=this.scrollbarChart)&&t.clear();(t=this.div)&&(t.innerHTML="");n||(this.div=null,AmCharts.deleteObject(this))}});AmCharts.StockEvent=AmCharts.Class({construct:function(){}});AmCharts.DataSet=AmCharts.Class({construct:function(){this.cname="DataSet";this.fieldMappings=[];this.dataProvider=[];this.agregatedDataProviders=[];this.stockEvents=[];this.compared=!1;this.showInCompare=this.showInSelect=!0}});AmCharts.PeriodSelector=AmCharts.Class({construct:function(n){this.cname="PeriodSelector";this.theme=n;this.createEvents("changed");this.inputFieldsEnabled=!0;this.position="bottom";this.width=180;this.fromText="From: ";this.toText="to: ";this.periodsText="Zoom: ";this.periods=[];this.inputFieldWidth=100;this.dateFormat="DD-MM-YYYY";this.hideOutOfScopePeriods=!0;AmCharts.applyTheme(this,n,this.cname)},zoom:function(n,t){var i=this.chart;this.inputFieldsEnabled&&(this.startDateField.value=AmCharts.formatDate(n,this.dateFormat,i),this.endDateField.value=AmCharts.formatDate(t,this.dateFormat,i));this.markButtonAsSelected()},write:function(n){var t=this,o,f,s,h,r,i,u,c,e;if(n.className="amChartsPeriodSelector",o=t.width,f=t.position,t.width=void 0,t.position=void 0,AmCharts.applyStyles(n.style,t),t.width=o,t.position=f,t.div=n,n.innerHTML="",o=t.theme,f=t.position,f="top"==f||"bottom"==f?!1:!0,t.vertical=f,s=0,h=0,t.inputFieldsEnabled&&(r=document.createElement("div"),n.appendChild(r),u=document.createTextNode(AmCharts.lang.fromText||t.fromText),r.appendChild(u),f?AmCharts.addBr(r):(r.style.styleFloat="left",r.style.display="inline"),i=document.createElement("input"),i.className="amChartsInputField",o&&AmCharts.applyStyles(i.style,o.PeriodInputField),i.style.textAlign="center",i.onblur=function(n){t.handleCalChange(n)},AmCharts.isNN&&i.addEventListener("keypress",function(n){t.handleCalendarChange.call(t,n)},!0),AmCharts.isIE&&i.attachEvent("onkeypress",function(n){t.handleCalendarChange.call(t,n)}),r.appendChild(i),t.startDateField=i,f?(u=t.width-6+"px",AmCharts.addBr(r)):(u=t.inputFieldWidth+"px",c=document.createTextNode(" "),r.appendChild(c)),i.style.width=u,i=document.createTextNode(AmCharts.lang.toText||t.toText),r.appendChild(i),f&&AmCharts.addBr(r),i=document.createElement("input"),i.className="amChartsInputField",o&&AmCharts.applyStyles(i.style,o.PeriodInputField),i.style.textAlign="center",i.onblur=function(){t.handleCalChange()},AmCharts.isNN&&i.addEventListener("keypress",function(n){t.handleCalendarChange.call(t,n)},!0),AmCharts.isIE&&i.attachEvent("onkeypress",function(n){t.handleCalendarChange.call(t,n)}),r.appendChild(i),t.endDateField=i,f?AmCharts.addBr(r):s=i.offsetHeight+2,u&&(i.style.width=u)),r=t.periods,AmCharts.ifArray(r)){for(u=document.createElement("div"),f||(u.style.cssFloat="right",u.style.styleFloat="right",u.style.display="inline"),n.appendChild(u),f&&AmCharts.addBr(u),n=document.createTextNode(AmCharts.lang.periodsText||t.periodsText),u.appendChild(n),t.periodContainer=u,n=0;n<r.length;n++)i=r[n],e=document.createElement("input"),e.type="button",e.value=i.label,e.period=i.period,e.count=i.count,e.periodObj=i,e.className="amChartsButton",o&&AmCharts.applyStyles(e.style,o.PeriodButton),f&&(e.style.width=t.width-1+"px"),e.style.boxSizing="border-box",u.appendChild(e),t.addEventListeners(e),i.button=e;!f&&e&&(h=e.offsetHeight);t.offsetHeight=Math.max(s,h)}},addEventListeners:function(n){var t=this;AmCharts.isNN&&n.addEventListener("click",function(n){t.handlePeriodChange.call(t,n)},!0);AmCharts.isIE&&n.attachEvent("onclick",function(n){t.handlePeriodChange.call(t,n)})},getPeriodDates:function(){for(var t=this.periods,n=0;n<t.length;n++)this.selectPeriodButton(t[n],!0)},handleCalendarChange:function(n){13==n.keyCode&&this.handleCalChange(n)},handleCalChange:function(n){var i=this.dateFormat,r=AmCharts.stringToDate(this.startDateField.value,i),i=this.chart.getLastDate(AmCharts.stringToDate(this.endDateField.value,i)),t;try{this.startDateField.blur();this.endDateField.blur()}catch(u){}r&&i&&(t={type:"changed"},t.startDate=r,t.endDate=i,t.chart=this.chart,t.event=n,this.fire(t.type,t))},handlePeriodChange:function(n){this.selectPeriodButton((n.srcElement?n.srcElement:n.target).periodObj,!1,n)},setRanges:function(n,t){this.firstDate=n;this.lastDate=t;this.getPeriodDates()},selectPeriodButton:function(n,t,i){var s=n.button,h=s.count,e=s.period,r,u,f=this.firstDate,o=this.lastDate,c,l=this.theme;f&&o&&("MAX"==e?(r=f,u=o):"YTD"==e?(r=new Date,r.setMonth(0,1),r.setHours(0,0,0,0),0===h&&r.setDate(r.getDate()-1),u=this.lastDate):"YYYY"==e||"MM"==e?this.selectFromStart?(r=f,u=new Date(f),u.setMonth(u.getMonth()+h)):(r=new Date(o),AmCharts.changeDate(r,e,h,!1),r.setDate(r.getDate()-1),u=o):(c=AmCharts.getPeriodDuration(e,h),this.selectFromStart?(r=f,u=new Date(f.getTime()+c-1)):(r=new Date(o.getTime()-c+1),u=o)),n.startTime=r.getTime(),this.hideOutOfScopePeriods&&(s.style.display=t&&n.startTime<f.getTime()?"none":"inline"),r.getTime()>o.getTime()&&(c=AmCharts.getPeriodDuration("DD",1),r=new Date(o.getTime()-c)),r.getTime()<f.getTime()&&(r=f),"YTD"==e&&(n.startTime=r.getTime()),n.endTime=u.getTime(),t||(this.skipMark=!0,this.unselectButtons(),s.className="amChartsButtonSelected",l&&AmCharts.applyStyles(s.style,l.PeriodButtonSelected),n={type:"changed"},n.startDate=r,n.endDate=u,n.predefinedPeriod=e,n.chart=this.chart,n.count=h,n.event=i,this.fire(n.type,n)))},markButtonAsSelected:function(){var r,t,u;if(!this.skipMark){var n=this.chart,f=this.periods,e=n.startDate.getTime(),n=n.endDate.getTime(),i=this.lastDate.getTime();for(n>i&&(n=i),i=this.theme,this.unselectButtons(),r=f.length-1;0<=r;r--)t=f[r],u=t.button,t.startTime&&t.endTime&&e==t.startTime&&n==t.endTime&&(this.unselectButtons(),u.className="amChartsButtonSelected",i&&AmCharts.applyStyles(u.style,i.PeriodButtonSelected))}this.skipMark=!1},unselectButtons:function(){for(var i=this.periods,r=this.theme,t,n=i.length-1;0<=n;n--)t=i[n].button,t.className="amChartsButton",r&&AmCharts.applyStyles(t.style,r.PeriodButton)},setDefaultPeriod:function(){for(var i=this.periods,t,n=0;n<i.length;n++)t=i[n],t.selected&&this.selectPeriodButton(t)}});AmCharts.StockGraph=AmCharts.Class({inherits:AmCharts.AmGraph,construct:function(n){AmCharts.StockGraph.base.construct.call(this,n);this.cname="StockGraph";this.useDataSetColors=!0;this.periodValue="Close";this.compareGraphType="line";this.compareGraphVisibleInLegend=!0;this.comparable=this.resetTitleOnDataSetChange=!1;this.comparedGraphs={};this.showEventsOnComparedGraphs=!1;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.StockPanel=AmCharts.Class({inherits:AmCharts.AmSerialChart,construct:function(n){AmCharts.StockPanel.base.construct.call(this,n);this.cname="StockPanel";this.theme=n;this.showCategoryAxis=this.showComparedOnTop=!0;this.recalculateToPercents="whenComparing";this.panelHeaderPaddingBottom=this.panelHeaderPaddingLeft=this.panelHeaderPaddingRight=this.panelHeaderPaddingTop=0;this.trendLineAlpha=1;this.trendLineColor="#00CC00";this.trendLineColorHover="#CC0000";this.trendLineThickness=2;this.trendLineDashLength=0;this.stockGraphs=[];this.drawingIconsEnabled=!1;this.iconSize=18;this.autoMargins=this.allowTurningOff=this.eraseAll=this.erasingEnabled=this.drawingEnabled=!1;AmCharts.applyTheme(this,n,this.cname)},initChart:function(n){AmCharts.StockPanel.base.initChart.call(this,n);this.drawingIconsEnabled&&this.createDrawIcons();(n=this.chartCursor)&&this.listenTo(n,"draw",this.handleDraw)},addStockGraph:function(n){return this.stockGraphs.push(n),n},handleCursorZoom:function(n){this.chartCursor&&this.chartCursor.pan&&AmCharts.StockPanel.base.handleCursorZoom.call(this,n)},removeStockGraph:function(n){for(var i=this.stockGraphs,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)},createDrawIcons:function(){var t=this,n=t.iconSize,i=t.container,f=t.pathToImages,h=t.realWidth-2*n-1-t.marginRight,r=AmCharts.rect(i,n,n,"#000",.005),u=AmCharts.rect(i,n,n,"#000",.005),o,e,s;u.translate(n+1,0);o=i.image(f+"pencilIcon.gif",0,0,n,n);t.pencilButton=o;u.setAttr("cursor","pointer");r.setAttr("cursor","pointer");r.mouseup(function(){t.handlePencilClick()});e=i.image(f+"pencilIconH.gif",0,0,n,n);t.pencilButtonPushed=e;t.drawingEnabled||e.hide();s=i.image(f+"eraserIcon.gif",n+1,0,n,n);t.eraserButton=s;u.mouseup(function(){t.handleEraserClick()});r.touchend&&(r.touchend(function(){t.handlePencilClick()}),u.touchend(function(){t.handleEraserClick()}));n=i.image(f+"eraserIconH.gif",n+1,0,n,n);t.eraserButtonPushed=n;t.erasingEnabled||n.hide();i=i.set([o,e,s,n,r,u]);i.translate(h,1);this.hideIcons&&i.hide()},handlePencilClick:function(){var t=!this.drawingEnabled,n;this.disableDrawing(!t);this.erasingEnabled=!1;n=this.eraserButtonPushed;n&&n.hide();n=this.pencilButtonPushed;t?n&&n.show():(n&&n.hide(),this.setMouseCursor("auto"))},disableDrawing:function(n){this.drawingEnabled=!n;var t=this.chartCursor;this.stockChart.enableCursors(n);t&&t.enableDrawing(!n)},handleEraserClick:function(){var n,t,i;if(this.disableDrawing(!0),n=this.pencilButtonPushed,n&&n.hide(),n=this.eraserButtonPushed,this.eraseAll){for(n=this.trendLines,t=n.length-1;0<=t;t--)i=n[t],i.isProtected||this.removeTrendLine(i);this.validateNow()}else(this.erasingEnabled=t=!this.erasingEnabled)?(n&&n.show(),this.setTrendColorHover(this.trendLineColorHover),this.setMouseCursor("auto")):(n&&n.hide(),this.setTrendColorHover())},setTrendColorHover:function(n){for(var r=this.trendLines,i,t=r.length-1;0<=t;t--)i=r[t],i.isProtected||(i.rollOverColor=n)},handleDraw:function(n){var i=this.drawOnAxis,t;AmCharts.isString(i)&&(i=this.getValueAxisById(i));i||(i=this.valueAxes[0]);this.drawOnAxis=i;var r=this.categoryAxis,u=n.initialX,f=n.finalX,e=n.initialY;n=n.finalY;t=new AmCharts.TrendLine(this.theme);t.initialDate=r.coordinateToDate(u);t.finalDate=r.coordinateToDate(f);t.initialValue=i.coordinateToValue(e);t.finalValue=i.coordinateToValue(n);t.lineAlpha=this.trendLineAlpha;t.lineColor=this.trendLineColor;t.lineThickness=this.trendLineThickness;t.dashLength=this.trendLineDashLength;t.valueAxis=i;t.categoryAxis=r;this.addTrendLine(t);this.listenTo(t,"click",this.handleTrendClick);this.validateNow()},hideDrawingIcons:function(n){(this.hideIcons=n)&&this.disableDrawing(n)},handleTrendClick:function(n){this.erasingEnabled&&(n=n.trendLine,this.eraseAll||n.isProtected||this.removeTrendLine(n),this.validateNow())},handleWheelReal:function(n,t){var u=this.scrollbarChart,r,i;!this.wheelBusy&&u&&(r=1,t&&(r=-1),u=u.chartScrollbar,i=this.categoryAxis.minDuration(),0>n?(r=this.startTime+r*i,i=this.endTime+1*i):(r=this.startTime-r*i,i=this.endTime-1*i),r<this.firstTime&&(r=this.firstTime),i>this.lastTime&&(i=this.lastTime),r<i&&u.timeZoom(r,i,!0))}});AmCharts.CategoryAxesSettings=AmCharts.Class({construct:function(n){this.cname="CategoryAxesSettings";this.minPeriod="DD";this.equalSpacing=!1;this.axisHeight=28;this.tickLength=this.axisAlpha=0;this.gridCount=10;this.maxSeries=150;this.groupToPeriods="ss 10ss 30ss mm 10mm 30mm hh DD WW MM YYYY".split(" ");this.markPeriodChange=this.autoGridCount=!0;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.ChartCursorSettings=AmCharts.Class({construct:function(n){this.cname="ChartCursorSettings";this.enabled=!0;this.bulletsEnabled=this.valueBalloonsEnabled=!1;this.categoryBalloonDateFormats=[{period:"YYYY",format:"YYYY"},{period:"MM",format:"MMM, YYYY"},{period:"WW",format:"MMM DD, YYYY"},{period:"DD",format:"MMM DD, YYYY"},{period:"hh",format:"JJ:NN"},{period:"mm",format:"JJ:NN"},{period:"ss",format:"JJ:NN:SS"},{period:"fff",format:"JJ:NN:SS"}];AmCharts.applyTheme(this,n,this.cname)},categoryBalloonDateFormat:function(n){for(var i=this.categoryBalloonDateFormats,r,t=0;t<i.length;t++)i[t].period==n&&(r=i[t].format);return r}});AmCharts.ChartScrollbarSettings=AmCharts.Class({construct:function(n){this.cname="ChartScrollbarSettings";this.height=40;this.enabled=!0;this.color="#FFFFFF";this.updateOnReleaseOnly=this.autoGridCount=!0;this.hideResizeGrips=!1;this.position="bottom";this.minDistance=1;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.LegendSettings=AmCharts.Class({construct:function(n){this.cname="LegendSettings";this.marginBottom=this.marginTop=0;this.usePositiveNegativeOnPercentsOnly=!0;this.positiveValueColor="#00CC00";this.negativeValueColor="#CC0000";this.autoMargins=this.equalWidths=this.textClickEnabled=!1;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.PanelsSettings=AmCharts.Class({construct:function(n){this.cname="PanelsSettings";this.marginBottom=this.marginTop=this.marginRight=this.marginLeft=0;this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.panelSpacing=8;this.panEventsEnabled=!0;this.creditsPosition="top-right";AmCharts.applyTheme(this,n,this.cname)}});AmCharts.StockEventsSettings=AmCharts.Class({construct:function(n){this.cname="StockEventsSettings";this.type="sign";this.backgroundAlpha=1;this.backgroundColor="#DADADA";this.borderAlpha=1;this.borderColor="#888888";this.balloonColor=this.rollOverColor="#CC0000";AmCharts.applyTheme(this,n,this.cname)}});AmCharts.ValueAxesSettings=AmCharts.Class({construct:function(n){this.cname="ValueAxesSettings";this.tickLength=0;this.showFirstLabel=this.autoGridCount=this.inside=!0;this.showLastLabel=!1;this.axisAlpha=0;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.getItemIndex=function(n,t){for(var r=-1,i=0;i<t.length;i++)n==t[i]&&(r=i);return r};AmCharts.addBr=function(n){n.appendChild(document.createElement("br"))};AmCharts.applyStyles=function(n,t){var u,i,r;if(t&&n)for(u in n)if(i=u,r=t[i],void 0!==r)try{n[i]=r}catch(f){}};AmCharts.parseStockData=function(n,t,i,r,u){var a,p,g;(new Date).getTime();var nt={},ut=n.dataProvider,d=n.categoryField;if(d){for(var w=AmCharts.getItemIndex(t,i),ft=i.length,et=ut.length,o,tt={},c=w;c<ft;c++)o=i[c],nt[o]=[];var l={},b=n.fieldMappings,it=b.length;for(c=0;c<et;c++){var y=ut[c],h=y[d],h=h instanceof Date?AmCharts.newDate(h,t):u?AmCharts.stringToDate(h,u):new Date(h),ot=h.getTime(),rt={};for(o=0;o<it;o++)rt[b[o].toField]=y[b[o].fromField];for(a=w;a<ft;a++){o=i[a];var f=AmCharts.extractPeriod(o),v=f.period,k=f.count,e,s;if(a==w||ot>=tt[o]||!tt[o]){for(l[o]={},l[o].amCategoryIdField=String(AmCharts.resetDateToMin(h,v,k,r).getTime()),p=0;p<it;p++)f=b[p].toField,e=l[o],s=Number(rt[f]),e[f+"Count"]=0,e[f+"Sum"]=0,isNaN(s)||(e[f+"Open"]=s,e[f+"Sum"]=s,e[f+"High"]=s,e[f+"Low"]=s,e[f+"Close"]=s,e[f+"Count"]=1,e[f+"Average"]=s);if(e.dataContext=y,nt[o].push(l[o]),a>w&&(f=AmCharts.newDate(h,t),f=AmCharts.changeDate(f,v,k,!0),f=AmCharts.resetDateToMin(f,v,k,r),tt[o]=f.getTime()),a==w)for(g in y)y.hasOwnProperty(g)&&(l[o][g]=y[g]);l[o][d]=AmCharts.newDate(h,t)}else for(v=0;v<it;v++)f=b[v].toField,e=l[o],c==et-1&&(e[d]=AmCharts.newDate(h,t)),s=Number(rt[f]),isNaN(s)||(isNaN(e[f+"Low"])&&(e[f+"Low"]=s),s<e[f+"Low"]&&(e[f+"Low"]=s),isNaN(e[f+"High"])&&(e[f+"High"]=s),s>e[f+"High"]&&(e[f+"High"]=s),e[f+"Close"]=s,k=AmCharts.getDecimals(e[f+"Sum"]),p=AmCharts.getDecimals(s),e[f+"Sum"]+=s,e[f+"Sum"]=AmCharts.roundTo(e[f+"Sum"],Math.max(k,p)),e[f+"Count"]++,e[f+"Average"]=e[f+"Sum"]/e[f+"Count"])}}}n.agregatedDataProviders=nt};AmCharts.parseEvents=function(n,t,i,r,u,f){for(var b=n.stockEvents,tt=n.agregatedDataProviders,rt=t.length,v,k,l,c,y,e,a,p,d,w,ut,g,nt,ft,h,et,o,it,s=0;s<rt;s++){for(y=t[s],c=y.graphs,k=c.length,v=0;v<k;v++)l=c[v],l.customBulletField="amCustomBullet"+l.id+"_"+y.id,l.bulletConfigField="amCustomBulletConfig"+l.id+"_"+y.id;for(h=0;h<b.length;h++)(e=b[h],p=e.graph,AmCharts.isString(p)&&(p=AmCharts.getObjById(c,p)))&&(e.graph=p)}for(d in tt)if(tt.hasOwnProperty(d))for(p=tt[d],w=AmCharts.extractPeriod(d),ut=p.length,g=0;g<ut;g++)for(nt=p[g],s=nt[n.categoryField],a=s instanceof Date,f&&!a&&(s=AmCharts.stringToDate(s,f)),ft=s.getTime(),c=w.period,h=w.count,et="fff"==c?s.getTime()+1:AmCharts.resetDateToMin(AmCharts.changeDate(new Date(s),w.period,w.count),c,h,r).getTime(),s=0;s<rt;s++)for(y=t[s],c=y.graphs,k=c.length,v=0;v<k;v++)for(l=c[v],o={},o.eventDispatcher=u,o.eventObjects=[],o.letters=[],o.descriptions=[],o.shapes=[],o.backgroundColors=[],o.backgroundAlphas=[],o.borderColors=[],o.borderAlphas=[],o.colors=[],o.rollOverColors=[],o.showOnAxis=[],o.values=[],o.showAts=[],h=0;h<b.length;h++)e=b[h],a=e.date instanceof Date,f&&!a&&(e.date=AmCharts.stringToDate(e.date,f)),a=e.date.getTime(),it=!1,e.graph&&(e.graph.showEventsOnComparedGraphs&&e.graph.comparedGraphs[n.id]&&(it=!0),(l==e.graph||it)&&a>=ft&&a<et&&(o.eventObjects.push(e),o.letters.push(e.text),o.descriptions.push(e.description),e.type?o.shapes.push(e.type):o.shapes.push(i.type),void 0!==e.backgroundColor?o.backgroundColors.push(e.backgroundColor):o.backgroundColors.push(i.backgroundColor),isNaN(e.backgroundAlpha)?o.backgroundAlphas.push(i.backgroundAlpha):o.backgroundAlphas.push(e.backgroundAlpha),isNaN(e.borderAlpha)?o.borderAlphas.push(i.borderAlpha):o.borderAlphas.push(e.borderAlpha),void 0!==e.borderColor?o.borderColors.push(e.borderColor):o.borderColors.push(i.borderColor),void 0!==e.rollOverColor?o.rollOverColors.push(e.rollOverColor):o.rollOverColors.push(i.rollOverColor),void 0!==e.showAt?o.showAts.push(e.showAt):o.showAts.push(i.showAt),o.colors.push(e.color),o.values.push(e.value),!e.panel&&e.graph&&(e.panel=e.graph.chart),o.showOnAxis.push(e.showOnAxis),o.date=new Date(e.date))),0<o.shapes.length&&(e="amCustomBullet"+l.id+"_"+y.id,a="amCustomBulletConfig"+l.id+"_"+y.id,nt[e]=AmCharts.StackedBullet,nt[a]=o)};AmCharts.StockLegend=AmCharts.Class({inherits:AmCharts.AmLegend,construct:function(n){AmCharts.StockLegend.base.construct.call(this,n);this.cname="StockLegend";this.valueTextComparing="[[percents.value]]%";this.valueTextRegular="[[value]]";AmCharts.applyTheme(this,n,this.cname)},drawLegend:function(){var t=this,n;if(AmCharts.StockLegend.base.drawLegend.call(t),n=t.chart,n.allowTurningOff){var i=t.container,r=i.image(n.pathToImages+"xIcon.gif",n.realWidth-17,3,17,17),n=i.image(n.pathToImages+"xIconH.gif",n.realWidth-17,3,17,17);n.hide();t.xButtonHover=n;r.mouseup(function(){t.handleXClick()}).mouseover(function(){t.handleXOver()});n.mouseup(function(){t.handleXClick()}).mouseout(function(){t.handleXOut()})}},handleXOver:function(){this.xButtonHover.show()},handleXOut:function(){this.xButtonHover.hide()},handleXClick:function(){var n=this.chart,t=n.stockChart;t.removePanel(n);t.validateNow()}});AmCharts.DataSetSelector=AmCharts.Class({construct:function(n){this.cname="DataSetSelector";this.theme=n;this.createEvents("dataSetSelected","dataSetCompared","dataSetUncompared");this.position="left";this.selectText="Select:";this.comboBoxSelectText="Select...";this.compareText="Compare to:";this.width=180;this.dataProvider=[];this.listHeight=150;this.listCheckBoxSize=14;this.rollOverBackgroundColor="#b2e1ff";this.selectedBackgroundColor="#7fceff";AmCharts.applyTheme(this,n,this.cname)},write:function(n){var t=this,r,i=t.theme,f,s,o,e,u,h;if(n.className="amChartsDataSetSelector",o=t.width,r=t.position,t.width=void 0,t.position=void 0,AmCharts.applyStyles(n.style,t),t.div=n,t.width=o,t.position=r,n.innerHTML="",o=t.position,f="top"==o||"bottom"==o?!1:!0,t.vertical=f,f&&(s=t.width+"px"),o=t.dataProvider,1<t.countDataSets("showInSelect")){for(r=document.createTextNode(AmCharts.lang.selectText||t.selectText),n.appendChild(r),f&&AmCharts.addBr(n),h=document.createElement("select"),s&&(h.style.width=s),t.selectCB=h,i&&AmCharts.applyStyles(h.style,i.DataSetSelect),n.appendChild(h),AmCharts.isNN&&h.addEventListener("change",function(n){t.handleDataSetChange.call(t,n)},!0),AmCharts.isIE&&h.attachEvent("onchange",function(n){t.handleDataSetChange.call(t,n)}),r=0;r<o.length;r++)if(e=o[r],!0===e.showInSelect){u=document.createElement("option");u.text=e.title;u.value=r;e==t.chart.mainDataSet&&(u.selected=!0);try{h.add(u,null)}catch(c){h.add(u)}}t.offsetHeight=h.offsetHeight}if(0<t.countDataSets("showInCompare")&&1<o.length)if(f?(AmCharts.addBr(n),AmCharts.addBr(n)):(r=document.createTextNode(" "),n.appendChild(r)),r=document.createTextNode(AmCharts.lang.compareText||t.compareText),n.appendChild(r),u=t.listCheckBoxSize,f){for(AmCharts.addBr(n),s=document.createElement("div"),n.appendChild(s),s.className="amChartsCompareList",i&&AmCharts.applyStyles(s.style,i.DataSetCompareList),s.style.overflow="auto",s.style.overflowX="hidden",s.style.width=t.width-2+"px",s.style.maxHeight=t.listHeight+"px",r=0;r<o.length;r++)e=o[r],!0===e.showInCompare&&e!=t.chart.mainDataSet&&(i=document.createElement("div"),i.style.padding="4px",i.style.position="relative",i.name="amCBContainer",i.dataSet=e,i.style.height=u+"px",e.compared&&(i.style.backgroundColor=t.selectedBackgroundColor),s.appendChild(i),f=document.createElement("div"),f.style.width=u+"px",f.style.height=u+"px",f.style.position="absolute",f.style.backgroundColor=e.color,i.appendChild(f),f=document.createElement("div"),f.style.width="100%",f.style.position="absolute",f.style.left=u+10+"px",i.appendChild(f),e=document.createTextNode(e.title),f.style.whiteSpace="nowrap",f.style.cursor="default",f.appendChild(e),t.addEventListeners(i));AmCharts.addBr(n);AmCharts.addBr(n)}else{i=document.createElement("select");t.compareCB=i;s&&(i.style.width=s);n.appendChild(i);AmCharts.isNN&&i.addEventListener("change",function(n){t.handleCBSelect.call(t,n)},!0);AmCharts.isIE&&i.attachEvent("onchange",function(n){t.handleCBSelect.call(t,n)});u=document.createElement("option");u.text=AmCharts.lang.comboBoxSelectText||t.comboBoxSelectText;try{i.add(u,null)}catch(l){i.add(u)}for(r=0;r<o.length;r++)if(e=o[r],!0===e.showInCompare&&e!=t.chart.mainDataSet){u=document.createElement("option");u.text=e.title;u.value=r;e.compared&&(u.selected=!0);try{i.add(u,null)}catch(a){i.add(u)}}t.offsetHeight=i.offsetHeight}},addEventListeners:function(n){var t=this;AmCharts.isNN&&(n.addEventListener("mouseover",function(n){t.handleRollOver.call(t,n)},!0),n.addEventListener("mouseout",function(n){t.handleRollOut.call(t,n)},!0),n.addEventListener("click",function(n){t.handleClick.call(t,n)},!0));AmCharts.isIE&&(n.attachEvent("onmouseout",function(n){t.handleRollOut.call(t,n)}),n.attachEvent("onmouseover",function(n){t.handleRollOver.call(t,n)}),n.attachEvent("onclick",function(n){t.handleClick.call(t,n)}))},handleDataSetChange:function(){var n=this.selectCB,n=this.dataProvider[n.options[n.selectedIndex].value],t=this.chart;t.mainDataSet=n;t.zoomOutOnDataSetChange&&(t.startDate=void 0,t.endDate=void 0);t.validateData();n={type:"dataSetSelected",dataSet:n,chart:this.chart};this.fire(n.type,n)},handleRollOver:function(n){n=this.getRealDiv(n);n.dataSet.compared||(n.style.backgroundColor=this.rollOverBackgroundColor)},handleRollOut:function(n){n=this.getRealDiv(n);n.dataSet.compared||(n.style.removeProperty&&n.style.removeProperty("background-color"),n.style.removeAttribute&&n.style.removeAttribute("backgroundColor"))},handleCBSelect:function(n){for(var i=this.compareCB,r=this.dataProvider,t,u=0;u<r.length;u++)t=r[u],t.compared&&(n={type:"dataSetUncompared",dataSet:t}),t.compared=!1;r=i.selectedIndex;0<r&&(t=this.dataProvider[i.options[r].value],t.compared||(n={type:"dataSetCompared",dataSet:t}),t.compared=!0);i=this.chart;i.validateData();n.chart=i;this.fire(n.type,n)},handleClick:function(n){n=this.getRealDiv(n).dataSet;!0===n.compared?(n.compared=!1,n={type:"dataSetUncompared",dataSet:n}):(n.compared=!0,n={type:"dataSetCompared",dataSet:n});var t=this.chart;t.validateData();n.chart=t;this.fire(n.type,n)},getRealDiv:function(n){return n||(n=window.event),n=n.currentTarget?n.currentTarget:n.srcElement,"amCBContainer"==n.parentNode.name&&(n=n.parentNode),n},countDataSets:function(n){for(var i=this.dataProvider,r=0,t=0;t<i.length;t++)!0===i[t][n]&&r++;return r}});AmCharts.StackedBullet=AmCharts.Class({construct:function(){this.fontSize=11;this.stackDown=!1;this.mastHeight=8;this.shapes=[];this.backgroundColors=[];this.backgroundAlphas=[];this.borderAlphas=[];this.borderColors=[];this.colors=[];this.rollOverColors=[];this.showOnAxiss=[];this.values=[];this.showAts=[];this.textColor="#000000";this.nextY=0;this.size=16},parseConfig:function(){var n=this.bulletConfig;this.eventObjects=n.eventObjects;this.letters=n.letters;this.shapes=n.shapes;this.backgroundColors=n.backgroundColors;this.backgroundAlphas=n.backgroundAlphas;this.borderColors=n.borderColors;this.borderAlphas=n.borderAlphas;this.colors=n.colors;this.rollOverColors=n.rollOverColors;this.date=n.date;this.showOnAxiss=n.showOnAxis;this.axisCoordinate=n.minCoord;this.showAts=n.showAts;this.values=n.values},write:function(n){var i,t;for(this.parseConfig(),this.container=n,this.bullets=[],this.graph&&(i=this.graph.fontSize,i&&(this.fontSize=i)),i=this.letters.length,(this.mastHeight+2*(this.fontSize/2+2))*i>this.availableSpace&&(this.stackDown=!0),this.set=n.set(),n=0,t=0;t<i;t++)this.shape=this.shapes[t],this.backgroundColor=this.backgroundColors[t],this.backgroundAlpha=this.backgroundAlphas[t],this.borderAlpha=this.borderAlphas[t],this.borderColor=this.borderColors[t],this.rollOverColor=this.rollOverColors[t],this.showOnAxis=this.showOnAxiss[t],this.color=this.colors[t],this.value=this.values[t],this.showAt=this.showAts[t],this.addLetter(this.letters[t],n,t),this.showOnAxis||n++},addLetter:function(n,t,i){var r=this.container,f;t=r.set();var e=-1,y=this.stackDown,h=this.graph.valueAxis;this.showOnAxis&&(this.stackDown=h.reversed?!0:!1);this.stackDown&&(e=1);var o=0,l=0,c=0,s,u=this.fontSize,a=this.mastHeight,p=this.shape,v=this.textColor;void 0!==this.color&&(v=this.color);void 0===n&&(n="");n=AmCharts.fixBrakes(n);n=AmCharts.text(r,n,v,this.chart.fontFamily,this.fontSize);n.node.style.pointerEvents="none";r=n.getBBox();this.labelWidth=v=r.width;this.labelHeight=r.height;r=0;switch(p){case"sign":f=this.drawSign(t);o=a+4+u/2;r=a+u+4;1==e&&(o-=4);break;case"flag":f=this.drawFlag(t);l=v/2+3;o=a+4+u/2;r=a+u+4;1==e&&(o-=4);break;case"pin":f=this.drawPin(t);o=6+u/2;r=u+8;break;case"triangleUp":f=this.drawTriangleUp(t);o=-u-1;r=u+4;e=-1;break;case"triangleDown":f=this.drawTriangleDown(t);o=u+1;r=u+4;e=-1;break;case"triangleLeft":f=this.drawTriangleLeft(t);l=u;r=u+4;e=-1;break;case"triangleRight":f=this.drawTriangleRight(t);l=-u;e=-1;r=u+4;break;case"arrowUp":f=this.drawArrowUp(t);n.hide();break;case"arrowDown":f=this.drawArrowDown(t);n.hide();r=u+4;break;case"text":e=-1;f=this.drawTextBackground(t,n);o=this.labelHeight+3;r=u+10;break;case"round":f=this.drawCircle(t)}this.bullets[i]=f;this.showOnAxis?(s=isNaN(this.nextAxisY)?this.axisCoordinate:this.nextY,c=o*e,this.nextAxisY=s+e*r):this.value?(s=this.value,h.recalculateToPercents&&(s=s/h.recBaseValue*100-100),s=h.getCoordinate(s)-this.bulletY,c=o*e):this.showAt?(f=this.graphDataItem.values,h.recalculateToPercents&&(f=this.graphDataItem.percents),f&&(s=h.getCoordinate(f[this.showAt])-this.bulletY,c=o*e)):(s=this.nextY,c=o*e);n.translate(l,c);t.push(n);t.translate(0,s);this.addEventListeners(t,i);this.nextY=s+e*r;this.stackDown=y},addEventListeners:function(n,t){var i=this;n.click(function(){i.handleClick(t)}).mouseover(function(){i.handleMouseOver(t)}).touchend(function(){i.handleMouseOver(t,!0)}).mouseout(function(){i.handleMouseOut(t)})},drawPin:function(n){var i=-1,t;return this.stackDown&&(i=1),t=this.fontSize+4,this.drawRealPolygon(n,[0,t/2,t/2,-t/2,-t/2,0],[0,i*t/4,i*(t+t/4),i*(t+t/4),i*t/4,0])},drawSign:function(n){var t=-1;this.stackDown&&(t=1);var r=this.mastHeight*t,u=this.fontSize/2+2,f=AmCharts.line(this.container,[0,0],[0,r],this.borderColor,this.borderAlpha,1),i=AmCharts.circle(this.container,u,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);return i.translate(0,r+u*t),n.push(f),n.push(i),this.set.push(n),i},drawFlag:function(n){var t=-1;this.stackDown&&(t=1);var i=this.fontSize+4,u=this.labelWidth+6,r=this.mastHeight,t=1==t?t*r:t*r-i,r=AmCharts.line(this.container,[0,0],[0,t],this.borderColor,this.borderAlpha,1),i=AmCharts.polygon(this.container,[0,u,u,0],[0,0,i,i],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);return i.translate(0,t),n.push(r),n.push(i),this.set.push(n),i},drawTriangleUp:function(n){var t=this.fontSize+7;return this.drawRealPolygon(n,[0,t/2,-t/2,0],[0,t,t,0])},drawArrowUp:function(n){var i=this.size,t=i/2,r=i/4;return this.drawRealPolygon(n,[0,t,r,r,-r,-r,-t,0],[0,t,t,i,i,t,t,0])},drawArrowDown:function(n){var i=this.size,t=i/2,r=i/4;return this.drawRealPolygon(n,[0,t,r,r,-r,-r,-t,0],[0,-t,-t,-i,-i,-t,-t,0])},drawTriangleDown:function(n){var t=this.fontSize+7;return this.drawRealPolygon(n,[0,t/2,-t/2,0],[0,-t,-t,0])},drawTriangleLeft:function(n){var t=this.fontSize+7;return this.drawRealPolygon(n,[0,t,t,0],[0,-t/2,t/2])},drawTriangleRight:function(n){var t=this.fontSize+7;return this.drawRealPolygon(n,[0,-t,-t,0],[0,-t/2,t/2,0])},drawRealPolygon:function(n,t,i){return t=AmCharts.polygon(this.container,t,i,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),n.push(t),this.set.push(n),t},drawCircle:function(n){return shape=AmCharts.circle(this.container,this.fontSize/2,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),n.push(shape),this.set.push(n),shape},drawTextBackground:function(n,t){var i=t.getBBox(),r=-i.width/2-5,u=i.width/2+5,i=-i.height-12;return this.drawRealPolygon(n,[r,-5,0,5,u,u,r,r],[-5,-5,0,-5,-5,i,i,-5])},handleMouseOver:function(n,t){t||this.bullets[n].attr({fill:this.rollOverColors[n]});var i=this.eventObjects[n],r={type:"rollOverStockEvent",eventObject:i,graph:this.graph,date:this.date},u=this.bulletConfig.eventDispatcher;r.chart=u;u.fire(r.type,r);i.url&&this.bullets[n].setAttr("cursor","pointer");this.chart.showBalloon(AmCharts.fixNewLines(i.description),u.stockEventsSettings.balloonColor,!0)},handleClick:function(n){n=this.eventObjects[n];var t={type:"clickStockEvent",eventObject:n,graph:this.graph,date:this.date},i=this.bulletConfig.eventDispatcher;t.chart=i;i.fire(t.type,t);t=n.urlTarget;t||(t=i.stockEventsSettings.urlTarget);AmCharts.getURL(n.url,t)},handleMouseOut:function(n){this.bullets[n].attr({fill:this.backgroundColors[n]});n={type:"rollOutStockEvent",eventObject:this.eventObjects[n],graph:this.graph,date:this.date};var t=this.bulletConfig.eventDispatcher;n.chart=t;t.fire(n.type,n)}});IndexGraph={getIndexChart:function(){$("#"+ClientID_IndexGraph.divChartProcessing).show();$("#"+ClientID_IndexGraph.divChartError).hide();$("#"+ClientID_IndexGraph.divChartContainer).hide();$.ajax({url:"/handlers/webrequesthandler.ashx?type=get_index_graph",type:"GET",data:{indexID:$("#"+ClientID_IndexGraph.ddlIndexList).val(),dateRange:12},dataType:"json",success:function(n){n!=null&&n.msgType=="ok"&&n.indexData.length>0?IndexGraph.renderChart(n.name,n.indexData):IndexGraph.showChartError()},error:function(n,t,i){console.log("hello");IndexGraph.showChartError();console.log("Error occured while getting index chart data: "+i)}})},showChartError:function(){$("#"+ClientID_IndexGraph.divChartProcessing).hide();$("#"+ClientID_IndexGraph.divChartError).show()},renderChart:function(n,t){var i=new AmCharts.AmStockChart,e,u,r,s,o,c,f,h;i.pathToImages="/amcharts/images/";i.balloon.horizontalPadding=13;e=new AmCharts.DataSet;e.fieldMappings=[{fromField:"value",toField:"value"}];e.dataProvider=t;e.categoryField="date";i.dataSets=[e];i.categoryAxesSettings.equalSpacing=!0;u=new AmCharts.StockPanel;u.title=n;u.percentHeight=100;r=new AmCharts.StockGraph;r.type="line";r.valueField="value";r.fillAlphas=1;r.useDataSetColors=!1;u.addStockGraph(r);s=new AmCharts.StockLegend;s.markerType="none";s.markerSize=0;u.stockLegend=s;i.panels=[u];o=new AmCharts.ChartScrollbarSettings;o.graph=r;o.graphType="line";o.usePeriod="DD";i.chartScrollbarSettings=o;c=new AmCharts.PanelsSettings;c.panEventsEnabled=!1;i.panelsSettings=c;f=new AmCharts.ChartCursorSettings;f.valueBalloonsEnabled=!0;f.valueLineBalloonEnabled=!0;f.valueLineEnabled=!0;f.zoomable=!1;i.chartCursorSettings=f;h=new AmCharts.PeriodSelector;h.position="bottom";h.periods=[{period:"DD",count:10,label:"10D"},{period:"MM",selected:!0,count:1,label:"1M"},{period:"MM",count:6,label:"6M"},{period:"YYYY",count:1,label:"1Y"},{period:"YTD",label:"YTD"},{period:"MAX",label:"MAX"}];i.periodSelector=h;$("#"+ClientID_IndexGraph.divChartProcessing).hide();$("#"+ClientID_IndexGraph.divChartContainer).show();i.write(ClientID_IndexGraph.divChart);$(".amChartsInputField").attr("disabled","disabled")}};StockGraph={getCompanyChart:function(){var n=$("#"+ClientID_StockGraph.hdnStockSymbol).val();$("#"+ClientID_StockGraph.divChartProcessing).show();$("#"+ClientID_StockGraph.divChartError).hide();n!=""?$.ajax({url:"/handlers/webrequesthandler.ashx?type=get_company_graph",type:"GET",data:{symbol:$("#"+ClientID_StockGraph.hdnStockSymbol).val(),dateRange:12},dataType:"json",success:function(n){n!=null&&n.msgType=="ok"&&n.quotes.length>0?StockGraph.renderChart(n.quotes):StockGraph.showChartError()},error:function(n,t,i){StockGraph.showChartError();console.log("Error occured while getting stock chart data: "+i)}}):StockGraph.showChartError()},showChartError:function(){$("#"+ClientID_StockGraph.divChartProcessing).hide();$("#"+ClientID_StockGraph.divChartError).show()},renderChart:function(n){var i=new AmCharts.AmStockChart,f,e,t,l,r,o,a,u,h,v,c,p,s,y;i.pathToImages="/amcharts/images/";i.balloon.horizontalPadding=13;f=new AmCharts.DataSet;f.fieldMappings=[{fromField:"open",toField:"open"},{fromField:"close",toField:"close"},{fromField:"high",toField:"high"},{fromField:"low",toField:"low"},{fromField:"volume",toField:"volume"},{fromField:"rsi",toField:"rsi"}];f.color="#337ab7";f.dataProvider=n;f.categoryField="date";i.dataSets=[f];i.categoryAxesSettings.equalSpacing=!0;e=new AmCharts.StockPanel;e.title="Price";e.percentHeight=50;t=new AmCharts.StockGraph;t.type="candlestick";t.openField="open";t.closeField="close";t.highField="high";t.lowField="low";t.valueField="close";t.lineColor="#47a447";t.fillColors="#47a447";t.negativeLineColor="#d2322d";t.negativeFillColors="#d2322d";t.fillAlphas=1;t.balloonText="Open:<b>[[open]]<\/b><br>Close:<b>[[close]]<\/b><br>Low:<b>[[low]]<\/b><br>High:<b>[[high]]<\/b>";t.useDataSetColors=!1;e.addStockGraph(t);l=new AmCharts.StockLegend;l.markerType="none";l.markerSize=0;e.stockLegend=l;r=new AmCharts.StockPanel;r.title="Relative Strength Index (RSI)";r.showCategoryAxis=!1;r.percentHeight=25;o=new AmCharts.StockGraph;o.type="line";o.valueField="rsi";o.fillAlphas=1;o.useDataSetColors=!1;r.addStockGraph(o);a=new AmCharts.StockLegend;a.markerType="none";a.markerSize=0;r.stockLegend=a;u=new AmCharts.StockPanel;u.title="Volume";u.showCategoryAxis=!1;u.percentHeight=25;h=new AmCharts.StockGraph;h.type="column";h.valueField="volume";h.fillAlphas=1;u.addStockGraph(h);v=new AmCharts.StockLegend;v.markerType="none";v.markerSize=0;u.stockLegend=v;i.panels=[e,r,u];c=new AmCharts.ChartScrollbarSettings;c.graph=t;c.graphType="line";c.usePeriod="WW";i.chartScrollbarSettings=c;p=new AmCharts.PanelsSettings;p.panEventsEnabled=!1;i.panelsSettings=p;s=new AmCharts.ChartCursorSettings;s.valueBalloonsEnabled=!0;s.valueLineBalloonEnabled=!0;s.valueLineEnabled=!0;s.zoomable=!1;i.chartCursorSettings=s;y=new AmCharts.PeriodSelector;y.position="bottom";y.periods=[{period:"DD",count:10,label:"10D"},{period:"MM",selected:!0,count:1,label:"1M"},{period:"MM",count:6,label:"6M"},{period:"YYYY",count:1,label:"1Y"},{period:"YTD",label:"YTD"},{period:"MAX",label:"MAX"}];i.periodSelector=y;$("#"+ClientID_StockGraph.divChartProcessing).hide();$("#"+ClientID_StockGraph.divChartContainer).show();i.write(ClientID_StockGraph.divChart);$(".amChartsInputField").attr("disabled","disabled")}}